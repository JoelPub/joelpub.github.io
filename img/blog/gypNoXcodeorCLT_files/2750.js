(self.webpackChunklite=self.webpackChunklite||[]).push([[2750],{71254:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(67294);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var i=a.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z",fillRule:"evenodd"});const o=function(e){return a.createElement("svg",r({width:25,height:25,viewBox:"0 0 25 25"},e),i)}},6106:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(67294);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var i=a.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13c.2.18.52.17.71-.03a.5.5 0 0 0 .12-.29H19V6z"});const o=function(e){return a.createElement("svg",r({width:25,height:25,viewBox:"0 0 25 25"},e),i)}},2750:(e,t,n)=>{"use strict";n.d(t,{aR:()=>oe,Gm:()=>le,_C:()=>ce});var a=n(28655),r=n.n(a),i=n(67154),o=n.n(i),l=n(63038),c=n.n(l),d=n(71439),s=n(67294),u=n(319),g=n.n(u),m=n(16084),f=n(77154),p=n(67900),v=n(50223),h=n(42933),C=n(82318),E=n(80908),I=n(98024),b=n(6688),x=n(85277),w=n(29315),k=n(73976),y={maxHeight:"250px",overflowY:"auto",maxWidth:"400px"},T=function(e){var t,n;if(null!=e&&null!==(t=e.catalogsByUser)&&void 0!==t&&t.catalogs){var a=null===(n=e.catalogsByUser.paging)||void 0===n?void 0:n.nextPageCursor;if(a)return{nextCursor:{cursor:{id:a.id},limit:m.e7}}}};function P(e){var t,n=e.isVisible,a=e.hide,r=e.target,i=e.kind,o=e.switchModal,l=(0,b.I)(),c=(0,m.dw)({limit:m.e7,isPaginated:!0}),d=(0,x.w)(),u=(0,w.N)(m.Dk,c,T,(function(e,t){return{catalogsByUser:{catalogs:[].concat(g()((0,m.jk)(e)),g()((0,m.jk)(t)))}}})),P=u.data,A=u.error,S=u.loading,_=u.fetchMore;s.useEffect((function(){A&&d({message:"",toastStyle:"RETRYABLE_ERROR",duration:4e3})}),[A]);var B=null==P?void 0:P.catalogsByUser.catalogs;return B&&"Catalog"===(null==P||null===(t=P.readingList)||void 0===t?void 0:t.__typename)&&(B=[P.readingList].concat(g()(B))),s.createElement(v.v,{isVisible:n,hide:a,confirmText:"Done",isDestructiveAction:!1,onConfirm:a},s.createElement(h.x,{height:"400px"},s.createElement(h.x,{paddingBottom:"24px"},s.createElement(E.Dx,{scale:"L"},"Save to")),s.createElement(h.x,{textAlign:"left",width:"400px",sm:{width:"100%"}},s.createElement(C.r,{onClick:o},s.createElement(I.F,{scale:"L",color:"ACCENT"},"Create new list")),s.createElement(h.x,{padding:"16px 0"},s.createElement(f.E,null))),B&&s.createElement(p.P,{fetchMore:_},s.createElement("div",{className:l(y)},s.createElement(k.n,{target:r,kind:i,isLoading:S,catalogs:B,queryVariablesOptions:{limit:m.e7,isPaginated:!0}})))))}var A=n(46829);function S(e){var t,n=e.target,a=e.kind,r=e.showAddToModal,i=e.showCreateModal,o=(0,m.dw)({limit:m.W}),l=(0,x.w)(),c=(0,A.useQuery)(m.Dk,{variables:o}),d=c.data,u=c.error,f=c.loading;s.useEffect((function(){u&&l({message:"",toastStyle:"RETRYABLE_ERROR",duration:4e3})}),[u]);var p=null==d?void 0:d.catalogsByUser.catalogs.slice(0,m.W-1);return p&&"Catalog"===(null==d||null===(t=d.readingList)||void 0===t?void 0:t.__typename)&&(p=[d.readingList].concat(g()(p))),s.createElement(h.x,{padding:"20px 20px 16px 24px",width:"300px",sm:{width:"327px"}},s.createElement(k.n,{target:n,kind:a,catalogs:p,isLoading:f,queryVariablesOptions:{limit:m.W}}),!f&&s.createElement(s.Fragment,null,s.createElement(h.x,{paddingBottom:"16px"},s.createElement(C.r,{onClick:r},s.createElement(I.F,{color:"ACCENT",scale:"L"},"See all"))),s.createElement(I.F,{color:"ACCENT",scale:"L"},s.createElement(C.r,{onClick:i},"Create new list"))))}var _=n(24821),B=n(94411),L=n(57768),M=n(43791),R=n(71229),F=n(4353),O=n(14391);function N(e){var t=e.isVisible,n=e.hide,a=e.target,r=e.kind,i=e.switchModal,o=e.isSwitchingModal,l=s.useState(""),d=c()(l,2),u=d[0],g=d[1],m=s.useState(!1),f=c()(m,2),p=f[0],b=f[1],w=s.useState(""),k=c()(w,2),y=k[0],T=k[1],P=s.useState(!1),A=c()(P,2),S=A[0],_=A[1],N=(0,B.Ax)(),V=N.createCatalog,$=N.loading,D=N.data,W=N.error,H=(0,L.T2)(),j=(0,x.w)();s.useEffect((function(){if("Catalog"===(null==D?void 0:D.createCatalog.__typename)){var e=D.createCatalog,t=e.id,n=e.version;H({catalogId:t,version:n,kind:r,itemId:a.id}),G()}}),[null==D?void 0:D.createCatalog,r,a.id,H]),s.useEffect((function(){W&&j({message:"",toastStyle:"RETRYABLE_ERROR",duration:4e3})}),[W]);var z=s.useCallback((function(e){g(e.target.value)}),[g]),U=s.useCallback((function(e){T(e.target.value)}),[T]),G=s.useCallback((function(){return g(""),T(""),b(!1),_(!1),o&&!D?i():n()}),[n,o,i,D]),Y=s.useCallback((function(){var e=u.trim();e.length>0&&V({attributes:{title:e,description:y.trim(),type:O.HQ.LISTS,visibility:S?O.n2.PRIVATE:O.n2.PUBLIC}})}),[u,y,S,V]);return s.createElement(v.v,{isVisible:t,hide:G,confirmText:s.createElement(h.x,{display:"flex",alignItems:"center"},"Create",$&&s.createElement(h.x,{marginLeft:"10px"},s.createElement(F.T,{size:"18px"}))),isDestructiveAction:!1,onConfirm:Y,disableConfirm:!u.trim()||$,hideOnConfirm:!1},s.createElement(h.x,{height:"400px"},s.createElement(h.x,{paddingBottom:"60px"},s.createElement(E.Dx,{scale:"L"},"Create new list")),s.createElement(h.x,{textAlign:"left",width:"400px",sm:{width:"100%"}},s.createElement(h.x,{paddingBottom:"20px"},s.createElement(M.n,{value:u,onChange:z,placeholder:"Give it a name"})),s.createElement(h.x,{paddingBottom:"20px"},p?s.createElement(h.x,{maxHeight:"170px",overflow:"hidden"},s.createElement(M.n,{value:y,onChange:U,placeholder:"Description",isMultiline:!0})):s.createElement(C.r,{onClick:function(){return b(!0)}},s.createElement(I.F,{scale:"L",color:"ACCENT"},"Add a description"))),s.createElement(h.x,null,s.createElement(R.X,{checked:S,onChange:function(){return _(!S)},textScale:"L"},"Make it private")))))}var V=n(50361),$=n.n(V),D=n(46282);function W(){var e=r()(["\n  fragment useAddItemToPredefinedCatalog_post on Post {\n    viewerEdge {\n      catalogsConnection {\n        predefinedContainingThis {\n          catalogId\n          version\n          predefined\n          catalogItemIds\n        }\n      }\n    }\n  }\n"]);return W=function(){return e},e}function H(){var e=r()(["\n  fragment useAddItemToPredefinedCatalog_bookEdition on BookEdition {\n    viewerEdge {\n      catalogsConnection {\n        predefinedContainingThis {\n          catalogId\n          version\n          predefined\n          catalogItemIds\n        }\n      }\n    }\n  }\n"]);return H=function(){return e},e}function j(){var e=r()(["\n  mutation AddToPredefinedCatalog(\n    $type: PredefinedCatalogType!\n    $operation: PredefinedCatalogAddOperationInput!\n  ) {\n    addToPredefinedCatalog(type: $type, operation: $operation) {\n      __typename\n      ... on AddToPredefinedCatalogSucces {\n        version\n        insertedItem {\n          catalogItemId\n          catalogId\n        }\n      }\n    }\n  }\n"]);return j=function(){return e},e}var z=(0,d.Ps)(j()),U=(0,d.Ps)(H()),G=(0,d.Ps)(W()),Y=n(80362),Z=n(19464),q=n(51064),Q=n(71254),K=n(6106),J=function(e){return{color:e.baseColor.border.dark,fill:e.baseColor.fill.lighter,"&:hover":{color:e.baseColor.border.darker,fill:e.baseColor.fill.normal}}},X=function(e){return{color:e.baseColor.border.darker,fill:e.baseColor.fill.normal}},ee=function(){var e=(0,b.I)();return s.createElement(Q.Z,{className:e(J)})},te=function(){var e=(0,b.I)();return s.createElement(K.Z,{className:e(X)})};function ne(e){var t=e.insideACatalog,n=e.insideAPredefined;return t||n?s.createElement(te,null):s.createElement(ee,null)}function ae(){var e=r()(["\n  fragment AddToCatalogBase_post on Post {\n    id\n    viewerEdge {\n      catalogsConnection {\n        catalogsContainingThis(type: LISTS) {\n          catalogId\n          catalogItemIds\n        }\n        predefinedContainingThis {\n          catalogId\n          predefined\n          catalogItemIds\n        }\n      }\n    }\n    ...useAddItemToPredefinedCatalog_post\n    ...editCatalogItemsMutation_post\n    ...WithToggleInsideCatalog_post\n  }\n  ","\n  ","\n  ","\n"]);return ae=function(){return e},e}function re(){var e=r()(["\n  fragment AddToCatalogBase_bookEdition on BookEdition {\n    id\n    viewerEdge {\n      catalogsConnection {\n        catalogsContainingThis(type: LISTS) {\n          catalogId\n        }\n        predefinedContainingThis {\n          predefined\n        }\n      }\n    }\n    ...useAddItemToPredefinedCatalog_bookEdition\n    ...editCatalogItemsMutation_bookEdition\n    ...WithToggleInsideCatalog_bookEdition\n  }\n  ","\n  ","\n  ","\n"]);return re=function(){return e},e}function ie(e){var t=e.children,n=e.isPanelVisible,a=e.hidePanel,r=e.togglePanel,i=e.target,o=e.kind,l=(0,q.O)(!1),d=c()(l,4),u=d[0],g=d[1],m=d[2],f=d[3],p=(0,q.O)(!1),v=c()(p,4),h=v[0],C=v[1],E=v[2],I=v[3],b=s.useState(!1),x=c()(b,2),w=x[0],k=x[1],y=function(e,t,n){var a=(0,A.useMutation)(z,{variables:{type:e,operation:{preprend:{type:n,id:t}}},update:function(a,r){var i,o=null===(i=r.data)||void 0===i?void 0:i.addToPredefinedCatalog;if("AddToPredefinedCatalogSucces"===(null==o?void 0:o.__typename)){var l,c,d=o.insertedItem,s=o.version;if((0,D.U)(a,d.catalogId,s),n===O.ej.BOOK_EDITION)l="BookEdition:".concat(t),c=U;else{if(n!==O.ej.POST)return;l="Post:".concat(t),c=G}var u=a.readFragment({id:l,fragment:c});if(null!=u&&u.viewerEdge.catalogsConnection){var g=$()(u),m=g.viewerEdge.catalogsConnection.predefinedContainingThis.findIndex((function(t){return t.predefined===e}));if(-1!==m)g.viewerEdge.catalogsConnection.predefinedContainingThis[m].catalogItemIds.push(d.catalogItemId);else{var f=g.viewerEdge.catalogsConnection.predefinedContainingThis,p={catalogId:d.catalogId,predefined:e,version:s,catalogItemIds:[d.catalogItemId]};f.push(p)}a.writeFragment({id:l,fragment:c,data:g})}}}});return c()(a,1)[0]}(O.l8.READING_LIST,i.id,o),T=i.viewerEdge.catalogsConnection,_=(null==T?void 0:T.predefinedContainingThis)&&T.predefinedContainingThis.length>0,B=(null==T?void 0:T.catalogsContainingThis)&&T.catalogsContainingThis.length>0,L=s.useMemo((function(){var e;return!!(null==T||null===(e=T.predefinedContainingThis)||void 0===e?void 0:e.find((function(e){return e.predefined===O.l8.READING_LIST})))}),[T]),M=s.useCallback((function(){k(!w),f(),I()}),[f,I,w]),R=s.useCallback((function(){r(),L||B||y()}),[r,B,L,y]),F=s.createElement(ne,{insideACatalog:!!B,insideAPredefined:!!_});return s.createElement(Y.J,{isVisible:n,popoverRenderFn:function(){return s.createElement(S,{showAddToModal:g,showCreateModal:C,target:i,kind:o})},hide:a,targetDistance:15,referenceWidth:"100%"},u?s.createElement(P,{isVisible:u,hide:m,switchModal:M,target:i,kind:o}):s.createElement(N,{isVisible:h,hide:E,switchModal:M,isSwitchingModal:w,target:i,kind:o}),t({onClick:R,bookmarkIcon:F,isCataloged:!!B||!!_}))}function oe(e){return s.createElement(Z.B,null,(function(t){var n=t.isVisible,a=t.toggle,r=t.hide;return s.createElement(ie,o()({},e,{isPanelVisible:n,togglePanel:a,hidePanel:r}))}))}var le=(0,d.Ps)(re(),U,L.Vd,_.tA),ce=(0,d.Ps)(ae(),G,L.OG,_.m7)},94411:(e,t,n)=>{"use strict";n.d(t,{Ax:()=>p,ok:()=>v,BH:()=>h,o:()=>C});var a=n(63038),r=n.n(a),i=n(28655),o=n.n(i),l=n(71439),c=n(46829),d=n(16084);function s(){var e=o()(["\n  mutation EditCatalogItemAnnotation(\n    $catalogId: String!\n    $catalogItemId: String!\n    $annotation: CatalogItemAnnotationInput\n  ) {\n    editCatalogItemAnnotation(\n      catalogId: $catalogId\n      catalogItemId: $catalogItemId\n      annotation: $annotation\n    ) {\n      __typename\n      ... on CatalogItemV2 {\n        catalogId\n        catalogItemId\n        userAnnotation {\n          annotation\n        }\n        entity {\n          __typename\n          ... on Post {\n            id\n          }\n          ... on BookEdition {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return s=function(){return e},e}function u(){var e=o()(["\n  mutation DeleteCatalog($catalogId: String!) {\n    deleteCatalog(catalogId: $catalogId) {\n      __typename\n      ... on MutationSuccess {\n        success\n      }\n    }\n  }\n"]);return u=function(){return e},e}function g(){var e=o()(["\n  mutation UpdateCatalog($catalogId: String!, $attributes: UpdateCatalogInput!) {\n    updateCatalog(catalogId: $catalogId, attributes: $attributes) {\n      __typename\n      ... on Catalog {\n        id\n        name\n        visibility\n        description\n      }\n    }\n  }\n"]);return g=function(){return e},e}function m(){var e=o()(["\n  mutation CreateCatalog($attributes: CreateCatalogInput!) {\n    createCatalog(attributes: $attributes) {\n      __typename\n      ... on Catalog {\n        id\n        version\n      }\n    }\n  }\n"]);return m=function(){return e},e}var f=(0,l.Ps)(m()),p=function(){var e=(0,d.dw)({limit:d.W}),t=(0,c.useMutation)(f,{refetchQueries:[{query:d.Dk,variables:e}]}),n=r()(t,2),a=n[0],i=n[1];return{createCatalog:function(e){return a({variables:e})},loading:i.loading,data:i.data,error:i.error}},v=(0,l.Ps)(g()),h=(0,l.Ps)(u()),C=(0,l.Ps)(s())},77154:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var a=n(67294),r=n(42933),i=function(){return a.createElement(r.x,{height:"0px",width:"100%",borderBottom:"BASE_LIGHTER"})}},43791:(e,t,n)=>{"use strict";n.d(t,{n:()=>_});var a=n(67154),r=n.n(a),i=n(63038),o=n.n(i),l=n(6479),c=n.n(l),d=n(67294),s=n(42933),u=n(98024),g=n(18579),m=n(6688);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var p=d.createElement("path",{fill:"#CC5454",d:"M13.3 13.9l.14-7.08h-1.78l.15 7.08h1.48zm-.74 1.43c-.68 0-1.13.44-1.13 1.12 0 .67.45 1.12 1.13 1.12.68 0 1.13-.45 1.13-1.12 0-.68-.44-1.12-1.12-1.12"}),v=d.createElement("path",{fill:"#CC5454",d:"M12.5 21a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17zm0 1a9.5 9.5 0 1 1 0-19 9.5 9.5 0 0 1 0 19z"});const h=function(e){return d.createElement("svg",f({width:25,height:25,viewBox:"0 0 25 25"},e),p,v)};var C=function(e){return{padding:"4px 0",fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit",lineHeight:"inherit",textAlign:"inherit",borderWidth:0,outline:0,"::placeholder":{color:e.baseColor.text.lighter,opacity:.5}}},E={border:0,flex:1,overflow:"hidden",resize:"none",width:"100%"},I=function(e){if(e.current){e.current.rows=1;var t=e.current.scrollHeight/parseInt(getComputedStyle(e.current).lineHeight);e.current.rows=t}},b=function(e){var t=e.value,n=e.ariaLabel,a=e.autoFocus,r=e.onChange,i=e.placeholder,o=d.useRef(null),l=d.useCallback((function(e){r&&r(e),I(o)}),[r,o]);d.useEffect((function(){return I(o)}),[t]);var c=(0,m.I)();return d.createElement("textarea",{"aria-label":n,autoFocus:a,className:c([C,E]),placeholder:i,onChange:l,ref:o,rows:1,value:t})},x=function(e){var t=e.count,n=void 0===t?0:t,a=e.limit,r=(0,m.I)();return d.createElement(u.F,{scale:"S"},d.createElement("span",{className:r((function(e){return{color:n>a?e.errorColor:e.baseColor.text.dark}}))},n),"/",a)},w={flex:"1"},k=function(e){var t=e.value,n=e.ariaLabel,a=e.autoFocus,r=e.isPassword,i=e.onChange,o=e.placeholder,l=e.name,c=(0,m.I)();return d.createElement("input",{"aria-label":n,className:c([[C,w]]),type:r?"password":"text",placeholder:o,value:t,name:l,onChange:i,autoFocus:a})},y=function(e){return{borderWidth:"0px 0px 1px 0px",background:"linear-gradient(to right, ".concat(e.baseColor.text.normal,", 90%, white 100%)"),"-webkit-background-clip":"text","-webkit-text-fill-color":"transparent",color:"transparent",whiteSpace:"nowrap",overflow:"hidden",width:"100%"}},T=function(e){var t=e.value,n=(0,m.I)();return d.createElement("p",{key:t,className:n([C,y])},t)},P=function(e){return{fontWeight:e.newFonts.detail.boldWeight}},A=function(e){var t=e.hasError,n=e.isFocused,a=e.theme;return t&&n||t?a.errorColor:n?a.baseColor.border.dark:a.baseColor.border.light},S=function(e){var t=e.hasError,n=e.isFocused,a=e.omitBorder;return function(e){return{display:"flex",width:"100%",borderStyle:"solid",borderWidth:a&&!t?0:"0px 0px 1px 0px",borderColor:A({hasError:t,isFocused:n,theme:e})}}},_=function(e){var t,n=e.characterCountLimit,a=e.description,i=e.errorMessage,l=e.isEditable,f=void 0===l||l,p=e.isMultiline,v=void 0!==p&&p,C=e.label,E=e.omitBorder,I=e.onFocus,w=e.isPassword,y=void 0!==w&&w,A=e.scale,_=void 0===A?"M":A,B=e.hideErrorIcon,L=void 0!==B&&B,M=e.bold,R=void 0!==M&&M,F=c()(e,["characterCountLimit","description","errorMessage","isEditable","isMultiline","label","omitBorder","onFocus","isPassword","scale","hideErrorIcon","bold"]),O=F.autoFocus,N=F.onBlur,V=!!i,$=(0,m.I)(),D=d.useState(!!O),W=o()(D,2),H=W[0],j=W[1],z=d.useCallback((function(e){I&&I(e),j(!0)}),[I,j]),U=d.useCallback((function(e){N&&N(e),j(!1)}),[N,j]),G=(0,g.n)({name:"detail",scale:"S",color:"ERROR"}),Y=(0,g.n)({name:"detail",scale:_,color:"DARKER"});return d.createElement("span",{className:$(R?[Y,P]:Y)},d.createElement(s.x,{display:"flex",flexDirection:"column",width:"100%"},C&&d.createElement("label",{className:$({marginBottom:"10px"})},C),d.createElement("div",{onFocus:z,onBlur:U,className:$(S({hasError:V,isFocused:H,omitBorder:E}))},v?d.createElement(b,F):f?d.createElement(k,r()({},F,{isPassword:y})):d.createElement(T,F),V&&!L&&d.createElement("span",{style:{paddingLeft:"10px"}},d.createElement(h,null))),d.createElement(s.x,{marginTop:"4px",display:"flex",justifyContent:"space-between"},V?d.createElement("h4",{className:$([G,{width:"100%",textAlign:"inherit"}])},i):d.createElement(u.F,{scale:"S"},a),!!n&&d.createElement(x,{count:null===(t=F.value)||void 0===t?void 0:t.length,limit:n}))))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/2750.127b0c11.chunk.js.map